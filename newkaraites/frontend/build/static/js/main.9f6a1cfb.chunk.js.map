{"version":3,"sources":["constants/constants.ts","stores/appState.ts","stores/context.js","stores/messages/messageStore.ts","stores/messages/messageContext.js","utils/cleanUrl.ts","utils/utils.ts","utils/parseBiblicalReference.js","components/autcomplete/autocomplete.jsx","utils/validateBiblicalReference.ts","components/menu/AppBar.jsx","components/api/dataFetch.tsx","stores/references/referenceStore.ts","stores/references/referenceContext.js","components/menu/FirstLevel.tsx","components/general/Filler.tsx","utils/languageDirection.ts","components/general/ToText.tsx","components/menu/RenderMenu.jsx","components/tanakh/Tanakh.tsx","components/buttons/LanguageButtonReferences.tsx","components/panes/header.tsx","utils/transform.jsx","components/general/loading.tsx","components/panes/RightPane.jsx","components/general/RefsBadge.tsx","utils/english-hebrew/numberConvertion.ts","components/tanakh/ChapterHeaderVerse.jsx","components/buttons/LanguageButton.tsx","components/buttons/CloseButton.tsx","img/record_voice_over_black_24dp.svg","img/voice_over_off_black_24dp.svg","img/record_voice_over_white_24dp.svg","img/voice_over_off_white_24dp.svg","components/buttons/textToSpeechButton.tsx","components/buttons/AudioBookButton.tsx","components/audio/IsAudioBook.tsx","components/tanakh/RenderHeader.jsx","stores/audioBook.ts","stores/audioBookContext.js","stores/ttSpeech.ts","stores/ttspeechContext.js","components/tanakh/RenderText.jsx","components/messages/translateMessages.tsx","components/buttons/InfoButton.tsx","components/buttons/TocButton.tsx","components/buttons/BookButton.tsx","components/buttons/BuyButton.tsx","components/audio/audio-player/basic-audio-player.tsx","components/buttons/music-select.tsx","components/karaites/KaraitePaneHeader.tsx","components/karaites/karaitesBooks.tsx","components/getBook.tsx","components/Books/booksGrid.tsx","components/LoadBook.tsx","components/pages/Display.tsx","components/menu/ChapterMenu.jsx","components/tanakh/TanakBooksLink.jsx","components/pages/SearchResults.tsx","components/messages/Message.tsx","components/pages/Acknowledgments.tsx","components/general/LoadingSpin.tsx","components/bages/musicBadge.tsx","components/menu/RenderBooksMenu.jsx","components/pages/NotFound404.tsx","components/menu/LiturgyItems.jsx","components/menu/ArrowButton.jsx","components/menu/RenderLiturgyMenu.jsx","components/menu/getMenuSecond.tsx","components/analytics/track.jsx","App.js","index.js"],"names":["api","audioBooksUrl","songsUrl","TRANSFORM_TYPE","bookChapterUrl","karaitesBookUrl","karaitesBookByLevelAndClassification","betterBookUrl","searchResultsUrl","getLevels","getBibleReferencesUrl","LANGUAGE_KEY","LANGUAGE_SYMBOL","chaptersByBibleBook","versesByBibleBook","q640","console","log","process","AppState","_this","_classCallCheck","panes","loading","search","searchResultData","moreResults","options","setIsRightPaneOpen","state","paneNumber","isRightPaneOpen","getIsRightPaneOpen","setRefsChapterVerse","chapter","verse","refsChapterVerse","getBookChapterVerse","i","concat","book","getAudioBookData","item","getCurrentItem","undefined","bookData","length","JSON","parse","setLastId","id","lastId","getLastId","isAudioBook","getBook","setVerseData","data","runInAction","verseData","getVerseData","setBookData","_toConsumableArray","setBookBetter","paragraphs","getBookBetter","setBookDetailsBetter","book_details","getBookDetailsBetter","setSongsBetter","songs","hasSongsBetter","getSongsBetter","getBetterAudioData","parseFloat","parseInt","getBetterAudioDataStart","getBookData","setDistance","distance","getDistance","setCurrentItem","currentItem","setGridVisibleRange","startIndex","endIndex","range","getGridVisibleRangeStart","setRightPaneState","rightPaneState","setPanes","pane","getPanes","isPaneOpen","some","closePane","splice","resetPanes","setLoading","getLoading","setParagraphs","getParagraphs","setBookDetails","details","getBookDetails","getBookAudioFile","audio_books","setSearch","searchArg","getSearch","setSearchResultData","result","getSearchResultData","setMoreResults","more","getMoreResults","setLanguage","language","languages","getLanguage","nextLanguage","push","shift","makeAutoObservable","this","observable","isLastPane","computed","_createClass","key","get","appStore","storeContext","createContext","StoreProvider","_ref","children","store","useLocalObservable","_jsx","Provider","value","MessageStore","message","level","duration","setMessage","arguments","getMessage","resetMessage","messageStore","messageContext","MessageProvider","cleanUrl","url","slug","trim","split","startsWith","substring","capitalize","string","toUpperCase","slice","iOS","includes","navigator","platform","userAgent","document","makeBookUrl","first","full","makeRandomKey","Math","random","str","replaceAll","unslug","calculateItemNumber","pos","indexOf","substr","toLowerCase","normalizeSluggedBookName","reduce","x","y","englishBookNames","hebrewBookNames","matchHebrewBookName","bibleRef","_step","_iterator","_createForOfIteratorHelper","Object","keys","s","n","done","name","replace","err","e","f","englishBookNameToHebrew","englishBookName","hebrewBookNameToEnglish","hebrewBookName","liturgyUrl","bookTitle","better_book","path","parseEnglishRef","biblicalRef","re","chapterVerse","match","refBook","refChapter","refVerse","refHighlight","map","arabic","parseBiblicalReference","target","childNodes","parentElement","lang","chapterVerseBook","splitOn","_chapterVerseBook$0$s","_chapterVerseBook$0$s2","_slicedToArray","gematriya","hebrewNumber","parseHebrewRef","useStyles","makeStyles","theme","root","_defineProperty","margin","padding","width","breakpoints","down","inputRoot","marginBottom","observer","useContext","_useState","useState","_useState2","isOpen","setIsOpen","_useState3","_useState4","_useState5","_useState6","setOptions","classes","history","useHistory","showResults","_parseEnglishRef","validMessage","theBook","chapterNumber","verseNumber","numberOfChapters","numberOfVerses","validateBiblicalReference","window","location","pathname","goBack","Autocomplete","freeSolo","open","fullWidth","option","onKeyUp","event","code","onChange","reason","w","getOptionLabel","style","marginRight","inputValue","onInputChange","newValue","renderOption","_jsxs","_Fragment","c","ImportContactsIcon","MenuBookIcon","renderInput","params","TextField","_objectSpread","label","variant","PrimarySearchAppBar","AppBar","position","color","Toolbar","Typography","className","component","Link","link","to","Hidden","smDown","href","rel","sectionDesktop","AutoComplete","flexGrow","justifyContent","display","fontSize","marginLeft","marginTop","fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","fetch","sent","ok","json","abrupt","Promise","reject","stop","_x","apply","dataFetch","_ref2","_callee2","_context2","_x2","ReferenceStore","levels_all","levels_no_tanakh","getLevelsAll","getLevelsNoTanakh","getBreakOnClassification","_","then","catch","referenceStore","referenceContext","ReferenceProvider","paddingTop","spacing","grid","card","height","left","float","right","hebrew","direction","textAlign","english","classification","levels","Grid","xl","lg","md","sm","xs","container","alignItems","Filler","languageDirection","ToText","_ref$to","_ref$caption","caption","_ref$margin","_ref$size","size","minHeight","_card","title","titleHalakhah","paddingRight","paddingLeft","text","fontsize","RenderMenu","books","_ref$languages","_ref$columns","columns","MakeMenu","index","obj","justifycontent","Tanakh","langButton","minWidth","fontFamily","lineHeight","onClick","IconButton","Header","backButton","onClose","Container","CloseIcon","iconGrid","ChevronLeftIcon","LanguageButtonReferences","flexDirection","backgroundColor","palette","type","action","selected","background","paper","icon","header","transform","refClick","kind","node","bind","Loading","defaultProps","openBook","reference","setLanguages","references","setReferences","_useState7","_useState8","referenceKey","setReferenceKey","callOpenBook","onClickReference","bookChapterVerse","ReferencesMenu","langIndex","counts","Button","button","buttonHe","disabled","startIcon","itemsEn","itemsHe","PaneBody","Paper","related","ruler","messageEn","messageHe","paperRefs","refs","book_first_level","paragraph_html","book_name_en","author","domNode","openBookButton","top","overflow","maxHeight","textTransform","title_he","author_he","RefsBadge","refsCount","_ref$color","FiberManualRecordIcon","indoArabicToHebrewCardinal","indo_arabic_number","indoArabicToHebrew","number","textContainer","flexWrap","cursor","chapterTitle_he","maxWidth","he","props","textDecoration","textDecorationColor","en","ch","chapterTitle_en","verticalAlign","verseHe","alignSelf","vn","verseEn","hebrewFont","englishFont","selectVerse","playButton","gridVisibleRange","audioBookPlaying","speaking","allBookData","renderChapter","refsHe","refsEn","chapterHtml","current","found","useEffect","ChapterBody","Tooltip","placement","updateItemDistance","onDoubleClick","CloseButton","TextToSpeechButton","onOff","isSpeechError","useTheme","src","textToSpeechOnWhite","alt","textToSpeechOffWhite","textToSpeechOnBlack","textToSpeechOffBlack","AudioBookButton","PauseIcon","PlayArrowIcon","IsAudioBook","flip","onAudioBookOnOff","onSpeakOnOffHe","hebrewBook","center","adjust","chapterView","englishBook","RenderHeader","onClosePane","onSpeakOnOffEn","HeaderBody","LanguageButton","AudioBook","audio","ready","callback","ended","playing","load","preload","play","start","onUpdate","currentTime","pause","cancel","getIsPlaying","Audio","ontimeupdate","onended","loadeddata","readyState","audioBookStore","AudioBookContext","AudioBookProvider","TextToSpeech","synthesise","paused","resumed","error","onError","started","voice","canceled","errorReported","setVoice","getVoice","getIndex","SpeechSynthesisUtterance","speechSynthesis","getVoices","volume","pitch","rate","onend","onpause","onresume","onerror","onstart","speak","getVoicesStatusError","errorAlreadyReported","setErrorReported","resolve","onvoiceschanged","voices","findIndex","v","ttSpeechStore","speechContext","SpeechProvider","speech","setSpeaking","setAudioBookPlaying","setFlip","virtuoso","useRef","callFromEnded","set","setTimeout","scrollToIndex","align","behavior","onTimeUpdate","_store$getAudioBookDa","_store$getAudioBookDa2","end","SCROLL_LATENCY_MS","onAudioBookEnded","audioData","audioFile","currentChapter","avg","calculateCurrentChapter","Virtuoso","ref","initialTopMostItemIndex","rangeChanged","itemContent","ChapterHeaderVerse","components","Footer","translateMessage","InfoButton","InfoIcon","TocButton","TocIcon","BookButton","MenuBookButton","BuyButton","ShoppingCart","BasicAudioPlayer","song","mouseEnter","setMouseEnter","setPlaying","setPaused","resume","onMouseEnter","onMouseLeave","reset","FastRewindIcon","MusicSelect","anchorEl","setAnchorEl","setIndex","selectSong","currentTarget","PlaylistPlayIcon","Menu","keepMounted","Boolean","MenuItem","resources","iconButton","KaraitesPaneHeader","onIntroClick","onTocClick","onBookClick","matches","useMediaQuery","xsColumns1","xsColumns2","songs_list","buy_link","alignContent","paragraphContainer","paragraph","liturgy","paragraphContainerHeEn","tocParagraph","tocItem","Hide","Show","heLeft","filler","heRight","enRight","heRightCenter","border","head","toc","minWith","tocButton","KaraitesBooks","jumpToIntro","flags","setFlags","onButtonClick","starParagraph","selectCurrent","itemTable","book_language","TableBook","initial","table_book","TableVirtuoso","book_title_en","topItem","intro","KaraitePaneHeader","t0","t1","finish","_x3","_x4","_x5","highlight","isNaN","rightPaneStateHalakhah","TOC","_x6","_x7","_x8","_x9","_x10","_x11","_x12","hasSongs","len","_store$getBetterAudio","_store$getBetterAudio2","audioTrackEnd","_store$getBetterAudio3","_store$getBetterAudio4","toJS","song_file","onBuy","TableComponents","Table","_Table","table","TableHead","TableRow","TableBody","React","forwardRef","tBody","fixedHeaderContent","TableCell","pButtons","hebrewTitle","book_title_he","englishTitle","currentIndex","hebrewLen","transliterationLen","englishLen","breakLine","break","qahal","tableCell","transliteration","paddingBottom","whiteSpace","fontStyle","fontWeight","rightPane","hiddenRightPane","items","_useParams","useParams","_useParams$verse","_useParams$intro","useLocation","_parseBiblicalReferen","RenderRightPane","RightPane","jsx","Fragment","RenderText","BookGrid","bookRender","player","boxTitle","questions","shortQuestions","join","textJoin","noSpace","fill","Display","subtitle","chapters","ChapterMenu","bibleBook","Array","TanakhBooksLink","parts","Route","_header","didYouMean","setDidYouMean","searchTerm","setSearchTerm","page","setPage","endReached","ReactHtmlParser","_data$ref$trim$split","_data$ref$trim$split2","close","_messageStore$getMess","handleClose","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","MuiAlert","elevation","severity","Acknowledgment","MusicBadge","_props$length","_props$audio","_props$fontSize","_props$color","LibraryMusicIcon","QueueMusicIcon","MusicNoteIcon","RenderBooksMenu","_ref$header","populate","separator","comp","forEach","book_classification","hr","bookTitleHe","note","bookTitleEn","MainMenu","bodyText","justifyItems","NotFound404","fontLarge","fontSmall","liturgyMenuItems","classifications","ArrowButton","saying","pointer","ArrowDropUpIcon","ArrowDropDownIcon","RenderLiturgyMenu","from","setOpen","onClickArrow","show","hide","closeAll","openAll","CloseOpenALl","closeOpenAll","LiturgyMenu","Second","showBooks","setShowBooks","setBooks","setError","withRouter","ReactGA","pageview","initialize","titleCase","siteSpeedSampleRate","gaOptions","userId","NullComponent","App","prefersDarkMode","useMemo","createTheme","ThemeProvider","CssBaseline","BrowserRouter","MyAppBar","Message","LoadingSpin","Track","Switch","exact","FirstLevel","forceRefresh","SearchResults","LoadBook","ReactDOM","render","StrictMode","getElementById"],"mappings":"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J,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,SACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,SACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,SACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,SACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,IAAK,SACL,IAAK,eACL,IAAK,eACL,IAAK,eACL,IAAK,eACL,IAAK,eACL,IAAK,eACL,IAAK,eACL,IAAK,eACL,IAAK,eACL,IAAK,eACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,eACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,eACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,eACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,eACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,eACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBAC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","file":"static/js/main.9f6a1cfb.chunk.js","sourcesContent":["interface versesTable {\n    readonly [index: string]: Array<number>\n}\n\ninterface chapterTable {\n    readonly  [index: string]: number\n}\n\ninterface numberString {\n    readonly [index: number]: string\n}\n\ninterface stringNumber {\n    readonly [index: string]: number\n}\n\nlet api: string\nlet audioBook: string\nlet songs: string\n\n\nif (process.env.NODE_ENV === 'development') {\n    let server = 'localhost'\n    api = `http://${server}:8000/api/v1/`\n    audioBook = `http://${server}:8100/media/`\n    songs = `http://${server}:8100/media/songs/`\n\n} else {\n    api = 'https://kjlc.karaites.org/api/v1/'\n    audioBook = 'https://kjlc.karaites.org/media/'\n    songs = 'https://kjlc.karaites.org/media/songs/'\n}\n// api = 'http://dev.karaites.org/api/v1/'\n// audioBook = 'http://localhost:8100/media/'\n// songs = 'http://localhost:8100/media/songs/'\nexport const apiUrl = api\nexport const audioBooksUrl = audioBook\nexport const songsUrl = songs\n\n// audio position in book data, see models.py\nexport const AUDIO = 11\nexport const START_AUDIO_BOOK = 0\nexport const END_AUDIO_BOOK = 1\nexport const AUDIO_BOOK_ID = 2\nexport const SCROLL_LATENCY_MS = 300\nexport const SCROLL_LATENCY_SECONDS = SCROLL_LATENCY_MS / 1000\nexport const TRANSFORM_TYPE = 'Bible'\nexport const BETTER_START_AUDIO = 3\nexport const BETTER_END_AUDIO = 4\nexport const BETTER_AUDIO_BOOK_ID = 5\nexport const BETTER_END_AUDIO_TRACK = 12\nexport const organization: numberString = {1: 'Torah', 2: 'Prophets', 3: 'Writings'}\nexport const bookChapterUrl = apiUrl + 'get-book-chapter/'\n\nexport const karaitesBookUrl = apiUrl + 'get-karaites-book-chapter/'\nexport const karaitesBookByLevelAndClassification = apiUrl + 'get-karaites-books-by-level-and-classification/'\nexport const betterBookUrl = apiUrl + 'book/'\n\nexport const autocompleteUrl = apiUrl + 'autocomplete/'\nexport const searchResultsUrl = apiUrl + 'search/'\nexport const getLevels = apiUrl + 'get-first-level/'\nexport const getBibleReferencesUrl = apiUrl + 'get-bible-references/'\n\n// there will be more languages as project evolves\nexport const LANGUAGE: numberString = {0: 'en', 1: 'he', 2: 'en_he'}\nexport const LANGUAGE_KEY: stringNumber = {'en': 0, 'he': 1, 'en_he': 2}\nexport const LANGUAGE_SYMBOL: numberString = {0: 'A', 1: '\\u2135', 2: 'A\\u2135'}\n\n// export const ENGLISH: number = 0\nexport const HEBREW = 1\nexport const BIBLE_ENGLISH = 0\nexport const BIBLE_HEBREW = 1\nexport const BIBLE_VERSE = 4\nexport const BIBLE_CHAPTER = 5\nexport const BIBLE_RENDER_CHAPTER = 6\nexport const REFS_HE: number = 7\nexport const REFS_EN: number = 8\n// this value is define in the views.py if changed there must be changed here too.\nexport const ITEMS_PER_PAGE: number = 15\nexport const chaptersByBibleBook: chapterTable = {\n    'Genesis': 50,\n    'Exodus': 40,\n    'Leviticus': 27,\n    'Numbers': 36,\n    'Deuteronomy': 34,\n    'Joshua': 24,\n    'Judges': 21,\n    'I Samuel': 31,\n    'I-Samuel': 31,\n    'II Samuel': 24,\n    'II-Samuel': 24,\n    'I Kings': 22,\n    'I-Kings': 22,\n    'II Kings': 25,\n    'II-Kings': 25,\n    'Isaiah': 66,\n    'Jeremiah': 52,\n    'Ezekiel': 48,\n    'Hosea': 14,\n    'Joel': 4,\n    'Amos': 9,\n    'Obadiah': 1,\n    'Jonah': 4,\n    'Micah': 7,\n    'Nahum': 3,\n    'Habakkuk': 3,\n    'Zephaniah': 3,\n    'Haggai': 2,\n    'Zechariah': 14,\n    'Malachi': 3,\n    'Psalms': 150,\n    'Proverbs': 31,\n    'Job': 42,\n    'Song of Songs': 8,\n    'Song-of-Songs': 8,\n    'Ruth': 4,\n    'Lamentations': 5,\n    'Ecclesiastes': 12,\n    'Esther': 10,\n    'Daniel': 12,\n    'Ezra': 10,\n    'Nehemiah': 13,\n    'I Chronicles': 29,\n    'I-Chronicles': 29,\n    'II Chronicles': 36,\n    'II-Chronicles': 36,\n}\n\n// verses by chapter\nexport const versesByBibleBook: versesTable = {\n    'Genesis': [31, 25, 24, 26, 32, 22, 24, 22, 29, 32, 32, 20, 18, 24, 21, 16, 27, 33, 38, 18, 34, 24, 20, 67, 34, 35, 46, 22, 35, 43, 54, 33, 20, 31, 29, 43, 36, 30, 23, 23, 57, 38, 34, 34, 28, 34, 31, 22, 33, 26],\n    'Exodus': [22, 25, 22, 31, 23, 30, 29, 28, 35, 29, 10, 51, 22, 31, 27, 36, 16, 27, 25, 23, 37, 30, 33, 18, 40, 37, 21, 43, 46, 38, 18, 35, 23, 35, 35, 38, 29, 31, 43, 38],\n    'Leviticus': [17, 16, 17, 35, 26, 23, 38, 36, 24, 20, 47, 8, 59, 57, 33, 34, 16, 30, 37, 27, 24, 33, 44, 23, 55, 46, 34],\n    'Numbers': [54, 34, 51, 49, 31, 27, 89, 26, 23, 36, 35, 16, 33, 45, 41, 35, 28, 32, 22, 29, 35, 41, 30, 25, 18, 65, 23, 31, 39, 17, 54, 42, 56, 29, 34, 13],\n    'Deuteronomy': [46, 37, 29, 49, 30, 25, 26, 20, 29, 22, 32, 31, 19, 29, 23, 22, 20, 22, 21, 20, 23, 29, 26, 22, 19, 19, 26, 69, 28, 20, 30, 52, 29, 12],\n    'Joshua': [18, 24, 17, 24, 15, 27, 26, 35, 27, 43, 23, 24, 33, 15, 63, 10, 18, 28, 51, 9, 45, 34, 16, 33],\n    'Judges': [36, 23, 31, 24, 31, 40, 25, 35, 57, 18, 40, 15, 25, 20, 20, 31, 13, 31, 30, 48, 25],\n    'I Samuel': [28, 36, 21, 22, 12, 21, 17, 22, 27, 27, 15, 25, 23, 52, 35, 23, 58, 30, 24, 42, 16, 23, 28, 23, 44, 25, 12, 25, 11, 31, 13],\n    'I-Samuel': [28, 36, 21, 22, 12, 21, 17, 22, 27, 27, 15, 25, 23, 52, 35, 23, 58, 30, 24, 42, 16, 23, 28, 23, 44, 25, 12, 25, 11, 31, 13],\n    'II Samuel': [27, 32, 39, 12, 25, 23, 29, 18, 13, 19, 27, 31, 39, 33, 37, 23, 29, 32, 44, 26, 22, 51, 39, 25],\n    'II-Samuel': [27, 32, 39, 12, 25, 23, 29, 18, 13, 19, 27, 31, 39, 33, 37, 23, 29, 32, 44, 26, 22, 51, 39, 25],\n    'I Kings': [53, 46, 28, 20, 32, 38, 51, 66, 28, 29, 43, 33, 34, 31, 34, 34, 24, 46, 21, 43, 29, 54],\n    'I-Kings': [53, 46, 28, 20, 32, 38, 51, 66, 28, 29, 43, 33, 34, 31, 34, 34, 24, 46, 21, 43, 29, 54],\n    'II Kings': [18, 25, 27, 44, 27, 33, 20, 29, 37, 36, 20, 22, 25, 29, 38, 20, 41, 37, 37, 21, 26, 20, 37, 20, 30],\n    'II-Kings': [18, 25, 27, 44, 27, 33, 20, 29, 37, 36, 20, 22, 25, 29, 38, 20, 41, 37, 37, 21, 26, 20, 37, 20, 30],\n    'Isaiah': [31, 22, 26, 6, 30, 13, 25, 23, 20, 34, 16, 6, 22, 32, 9, 14, 14, 7, 25, 6, 17, 25, 18, 23, 12, 21, 13, 29, 24, 33, 9, 20, 24, 17, 10, 22, 38, 22, 8, 31, 29, 25, 28, 28, 25, 13, 15, 22, 26, 11, 23, 15, 12, 17, 13, 12, 21, 14, 21, 22, 11, 12, 19, 11, 25, 24],\n    'Jeremiah': [19, 37, 25, 31, 31, 30, 34, 23, 25, 25, 23, 17, 27, 22, 21, 21, 27, 23, 15, 18, 14, 30, 40, 10, 38, 24, 22, 17, 32, 24, 40, 44, 26, 22, 19, 32, 21, 28, 18, 16, 18, 22, 13, 30, 5, 28, 7, 47, 39, 46, 64, 34],\n    'Ezekiel': [28, 10, 27, 17, 17, 14, 27, 18, 11, 22, 25, 28, 23, 23, 8, 63, 24, 32, 14, 44, 37, 31, 49, 27, 17, 21, 36, 26, 21, 26, 18, 32, 33, 31, 15, 38, 28, 23, 29, 49, 26, 20, 27, 31, 25, 24, 23, 35],\n    'Hosea': [53, 46, 28, 20, 32, 38, 51, 66, 28, 29, 43, 33, 34, 31, 34, 34, 24, 46, 21, 43, 29, 54],\n    'Joel': [20, 27, 5, 21],\n    'Amos': [15, 16, 15, 13, 27, 14, 17, 14, 15],\n    'Obadiah': [21],\n    'Jonah': [16, 11, 10, 11],\n    'Micah': [16, 13, 12, 14, 14, 16, 20],\n    'Nahum': [14, 14, 19],\n    'Habakkuk': [17, 20, 19],\n    'Zephaniah': [18, 15, 20],\n    'Haggai': [15, 23],\n    'Zechariah': [17, 17, 10, 14, 11, 15, 14, 23, 17, 12, 17, 14, 9, 21],\n    'Malachi': [14, 17, 24],\n    'Psalms': [6, 12, 9, 9, 13, 11, 18, 10, 21, 18, 7, 9, 6, 7, 5, 11, 15, 51, 15, 10, 14, 32, 6, 10, 22, 12, 14, 9, 11, 13, 25, 11, 22, 23, 28, 13, 40, 23, 14, 18, 14, 12, 5, 27, 18, 12, 10, 15, 21, 23, 21, 11, 7, 9, 24, 14, 12, 12, 18, 14, 9, 13, 12, 11, 14, 20, 8, 36, 37, 6, 24, 20, 28, 23, 11, 13, 21, 72, 13, 20, 17, 8, 19, 13, 14, 17, 7, 19, 53, 17, 16, 16, 5, 23, 11, 13, 12, 9, 9, 5, 8, 29, 22, 35, 45, 48, 43, 14, 31, 7, 10, 10, 9, 8, 18, 19, 2, 29, 176, 7, 8, 9, 4, 8, 5, 6, 5, 6, 8, 8, 3, 18, 3, 3, 21, 26, 9, 8, 24, 14, 10, 8, 12, 15, 21, 10, 20, 14, 9, 6],\n    'Proverbs': [33, 22, 35, 27, 23, 35, 27, 36, 18, 32, 31, 28, 25, 35, 33, 33, 28, 24, 29, 30, 31, 29, 35, 34, 28, 28, 27, 28, 27, 33, 31],\n    'Job': [22, 13, 26, 21, 27, 30, 21, 22, 35, 22, 20, 25, 28, 22, 35, 22, 16, 21, 29, 29, 34, 30, 17, 25, 6, 14, 23, 28, 25, 31, 40, 22, 33, 37, 16, 33, 24, 41, 30, 32, 26, 17],\n    'Song of Songs': [17, 17, 11, 16, 16, 12, 14, 14],\n    'Song-of-Songs': [17, 17, 11, 16, 16, 12, 14, 14],\n    'Ruth': [22, 23, 18, 22],\n    'Lamentations': [22, 22, 66, 22, 22],\n    'Ecclesiastes': [18, 26, 22, 17, 19, 12, 29, 17, 18, 20, 10, 14],\n    'Esther': [22, 23, 15, 17, 14, 14, 10, 17, 32, 3],\n    'Daniel': [21, 49, 33, 34, 30, 29, 28, 27, 27, 21, 45, 13],\n    'Ezra': [11, 70, 13, 24, 17, 22, 28, 36, 15, 44],\n    'Nehemiah': [11, 20, 38, 17, 19, 19, 72, 18, 37, 40, 36, 47, 31],\n    'I Chronicles': [54, 55, 24, 43, 41, 66, 40, 40, 44, 14, 47, 41, 14, 17, 29, 43, 27, 17, 19, 8, 30, 19, 32, 31, 31, 32, 34, 21, 30],\n    'I-Chronicles': [54, 55, 24, 43, 41, 66, 40, 40, 44, 14, 47, 41, 14, 17, 29, 43, 27, 17, 19, 8, 30, 19, 32, 31, 31, 32, 34, 21, 30],\n    'II Chronicles': [18, 17, 17, 22, 14, 42, 22, 18, 31, 19, 23, 16, 23, 14, 19, 14, 19, 34, 11, 37, 20, 12, 21, 27, 28, 23, 9, 27, 36, 27, 21, 33, 25, 33, 27, 23],\n    'II-Chronicles': [18, 17, 17, 22, 14, 42, 22, 18, 31, 19, 23, 16, 23, 14, 19, 14, 19, 34, 11, 37, 20, 12, 21, 27, 28, 23, 9, 27, 36, 27, 21, 33, 25, 33, 27, 23],\n}\n\n\n// this is experimental and probably removed in the near future.\nexport const q640: string = '(min-width:640px)'\n\nconst variables = () => console.log('process.env', process.env)\n\nvariables()\n\n\n","import {makeAutoObservable, runInAction, computed, observable} from \"mobx\"\nimport {\n    AUDIO,\n    END_AUDIO_BOOK,\n    AUDIO_BOOK_ID,\n    BETTER_START_AUDIO,\n    BETTER_END_AUDIO,\n    BETTER_AUDIO_BOOK_ID,\n    BETTER_END_AUDIO_TRACK\n} from \"../constants/constants\";\nimport {VirtuosoProps} from 'react-virtuoso/dist/index.d';\n\nclass AppState {\n    // mains panes bible book , comment, karaites books etc\n    panes: Array<any> = []\n    // loading state\n    loading = false\n    // search\n    search = ''\n    searchResultData: VirtuosoProps<any, any>[] = []\n    moreResults = true\n\n    // autocomplete\n    options: Array<any> = []\n\n    constructor() {\n        makeAutoObservable(this, {\n            panes: observable,\n            loading: observable,\n            search: observable,\n            searchResultData: observable,\n            moreResults: observable,\n            options: observable,\n            isLastPane: computed,\n        })\n\n    }\n\n    setIsRightPaneOpen = (state: boolean, paneNumber: number) => {\n        this.panes[paneNumber].isRightPaneOpen = state\n    }\n\n    getIsRightPaneOpen = (paneNumber: number): boolean => {\n        return this.panes[paneNumber].isRightPaneOpen\n    }\n\n    setRefsChapterVerse = (chapter: number, verse: number, paneNumber: number) => {\n        this.panes[paneNumber].refsChapterVerse = [chapter, verse]\n    }\n\n    getBookChapterVerse = (i: number) => `(${this.panes[i].book} ${this.panes[i].refsChapterVerse[0]}:${this.panes[i].refsChapterVerse[1]})`\n\n    getAudioBookData = (i: number) => {\n        const item = this.getCurrentItem(i)\n        if (this.panes[i].bookData === undefined) return [0, 0, 0]\n        if (this.panes[i].bookData[item] === undefined) return [0, 0, 0]\n        if (this.panes[i].bookData[item].length < 12) return [0, 0, 0]\n        return JSON.parse(this.panes[i].bookData[item][AUDIO])\n    }\n    setLastId = (id: number, i: number) => {\n        this.panes[i].lastId = id\n    }\n    getLastId = (i: number): number => this.panes[i].lastId\n\n    isAudioBook = (i: number) => this.getAudioBookData(i)[END_AUDIO_BOOK] !== 0\n\n    getBook = (i: number): string => this.panes[i].book\n\n    setVerseData = (data: Array<any>, i: number) => {\n        runInAction(() => {\n            this.panes[i].verseData = data\n        })\n    }\n\n    getVerseData = (i: number): Array<any> => this.panes[i].verseData\n\n    setBookData = (data: Array<any>, i: number) => {\n        runInAction(() => {\n            this.panes[i].bookData = [...this.panes[i].bookData, ...data]\n        })\n\n    }\n\n    // better format in the long run replaces all formats\n    setBookBetter = (data: Array<any>, i: number) => {\n        this.panes[i].paragraphs = data\n    }\n\n    getBookBetter = (i: number): Array<any> => this.panes[i].paragraphs\n\n    setBookDetailsBetter = (data: Array<any>, i: number) => {\n        runInAction(() => {\n            this.panes[i].book_details = data\n        })\n\n    }\n    getBookDetailsBetter = (i: number) => this.panes[i].book_details\n\n    setSongsBetter = (data: Array<any>, i: number) => {\n        // this is song_title, url, song_id\n        runInAction(() => {\n            this.panes[i].songs = data\n        })\n    }\n\n    // book has song/songs\n    hasSongsBetter = (i: number) => this.panes[i].songs.length > 0\n\n    getSongsBetter = (i: number) => this.panes[i].songs[0]\n\n    getBetterAudioData = (i: number) => {\n        const item = this.getCurrentItem(i)\n        const data = this.panes[i].paragraphs[item]\n        const start = parseFloat(data[BETTER_START_AUDIO])\n        const end = parseFloat(data[BETTER_END_AUDIO])\n        const id = parseInt(data[BETTER_AUDIO_BOOK_ID])\n        const audioTrackEnd = data[BETTER_END_AUDIO_TRACK] === '1'\n        return [start, end, id, audioTrackEnd]\n\n    }\n    getBetterAudioDataStart = (i: number) => this.getBetterAudioData(i)[0]\n\n    getBookData = (i: number): Array<any> => this.panes[i].bookData\n\n    setDistance = (distance: number, i: number) => {\n        this.panes[i].distance = distance\n    }\n\n    getDistance = (i: number): number => this.panes[i].distance\n\n    setCurrentItem = (item: number, i: number): number => {\n        console.log('set current item', item)\n        runInAction(() => {\n            this.panes[i].currentItem = item\n        })\n        return item\n    }\n\n    setGridVisibleRange = (i: number, startIndex: number, endIndex: number) => {\n        this.panes[i].range = [startIndex, endIndex]\n    }\n\n    getGridVisibleRangeStart = (i: number): Array<number> => this.panes[i].range[0]\n\n    getCurrentItem = (i: number): number => this.panes[i].currentItem\n\n    // right pane bible references\n    setRightPaneState = (state: boolean, i: number) => {\n        runInAction(() => {\n            this.panes[i].rightPaneState = state\n        })\n    }\n\n    // panes\n    setPanes = (pane: object) => {\n        runInAction(() => {\n            this.panes = [...this.panes, pane]\n        })\n    }\n\n    getPanes = (): Array<any> => this.panes\n\n    // a getter in class style\n    get isLastPane() {\n        return this.panes.length === 0\n    }\n\n    isPaneOpen = (book: string, chapter: number, verse: number) =>\n        this.getPanes().some((pane) => pane.book === book && pane.chapter === chapter - 1 && pane.verse === verse)\n\n    closePane = (i: number) => {\n        runInAction(() => {\n            this.panes.splice(i, 1)\n        })\n    }\n\n    resetPanes = () => {\n        runInAction(() => {\n            this.panes = []\n        })\n    }\n    // loading\n    setLoading = (loading: boolean) => {\n        runInAction(() => {\n            this.loading = loading\n        })\n    }\n\n    getLoading = () => this.loading\n\n    // karaites books\n    setParagraphs = (paragraphs: Array<any>, i: number) => {\n        // this.panes[i].paragraphs = [...this.panes[i].paragraphs, ...paragraphs]\n        this.panes[i].paragraphs = paragraphs\n    }\n\n    getParagraphs = (i: number): Array<any> => this.panes[i].paragraphs\n\n    setBookDetails = (details: object, i: number) => {\n        runInAction(() => {\n            this.panes[i].book_details = details\n        })\n    }\n\n    getBookDetails = (i: number): object => {\n        return this.panes[i].book_details\n    }\n\n    getBookAudioFile = (i: number): string => {\n        if (this.panes[i].book_details === undefined || this.panes[i].book_details.length === 0) return ''\n        const id = this.getAudioBookData(i)[AUDIO_BOOK_ID]\n        if (id === 0) return ''\n        return this.panes[i].book_details.audio_books[id]\n    }\n\n    // search arg\n    setSearch = (searchArg: string) => {\n        this.search = searchArg\n        this.searchResultData = []\n        this.moreResults = true\n    }\n\n    getSearch = () => this.search\n\n    // search result\n    setSearchResultData = (result: Array<any>) => {\n        this.searchResultData = [...this.searchResultData, ...result]\n    }\n\n    getSearchResultData = () => this.searchResultData\n\n    // search page\n    // autocomplete communicates with searchResult\n    setMoreResults = (more: boolean) => {\n        this.moreResults = more\n    }\n    getMoreResults = () => this.moreResults\n\n    // autocomplete\n    // setOptions = (options: Array<string>) => {\n    //     this.options = options\n    // }\n\n    // getOptions = (): Array<string> => this.options\n\n    // getAutoComplete = async (search: string) => {\n    //     if (search.length < 2) return []\n    //     if (isABibleBook(search)) return []\n    //     const response = await fetch(`${autocompleteUrl}${search}/`)\n    //     this.setOptions(await response.json())\n    // }\n\n    // language\n    setLanguage = (language: string, i: number) => {\n        this.panes[i].languages = language\n    }\n\n    getLanguage = (i: number): string => this.panes[i].languages[0]\n\n    nextLanguage = (i: number): Array<string> => this.panes[i].languages.push(this.panes[i].languages.shift())\n\n}\n\nconst appStore = () => new AppState()\n\nexport default appStore","import React, {createContext} from 'react';\nimport {useLocalObservable} from 'mobx-react-lite';\nimport appStore from \"./appState\";\n\nexport const storeContext = createContext()\n\nconst StoreProvider=({children}) => {\n    const store = useLocalObservable(appStore);\n\n    return (\n        <storeContext.Provider value={store}>\n            {children}\n        </storeContext.Provider>\n    );\n};\n\nexport default StoreProvider;","import {makeAutoObservable, observable} from \"mobx\"\n\nclass MessageStore {\n    // give user feed back on the app\n    message = ''\n    level = 'error'\n    duration = 4000\n\n    constructor() {\n        makeAutoObservable(this, {\n            message: observable,\n            level: observable,\n            duration: observable\n        })\n    }\n\n    setMessage = (message: string, level: string = \"error\", duration: number = 4000) => {\n        this.message = message\n        this.level = level\n        this.duration = duration\n    }\n    getMessage = () => ({message: this.message, level: this.level, duration: this.duration})\n\n    resetMessage = () => this.message = ''\n\n}\n\nconst messageStore = () => new MessageStore()\n\nexport default messageStore\n","import React,{createContext} from 'react';\nimport {useLocalObservable} from 'mobx-react-lite';\nimport messageStore from './messageStore';\n\nexport const messageContext = createContext();\n\nconst MessageProvider = ({children}) => {\n    const data = useLocalObservable(messageStore);\n    return (\n        <messageContext.Provider value={data}>\n            {children}\n        </messageContext.Provider>\n    )\n}\n\nexport default MessageProvider;","import {slug} from \"./utils\";\n\nexport const cleanUrl = (url:string):string => {\n    let result = slug(url.trim().split(',')[0])\n    if (result.startsWith('-')) {\n        result = result.substring(1)\n    }\n    return result\n}\n","import {versesByBibleBook} from '../constants/constants'\nimport {cleanUrl} from './cleanUrl';\n\ninterface booksTable {\n    [index: string]: string\n}\n\n\nexport const capitalize = (string: string): string =>\n    // respect all others cases\n    string === \"\" ? \"\" : string[0].toUpperCase() + string.slice(1)\n\nexport const removeExtension = (string: string): string => string.replace(/\\.[^/.]+$/, \"\")\n\nexport const iOS = () => [\n        'iPad Simulator',\n        'iPhone Simulator',\n        'iPod Simulator',\n        'iPad',\n        'iPhone',\n        'iPod'\n    ].includes(navigator.platform)\n    || (navigator.userAgent.includes(\"Mac\") && \"ontouchend\" in document)\n\n\nexport const removeSlash = (string: string): string => string.replace(/\\//g, '')\n\nexport const getFirstPart = (string: string): string => string.split('/')[1]\n\nexport const range = (l: number): Array<number> =>\n    Array(l).fill(1).map((_, i) => i + 1)\n\n// compare 2 arrays, arrays must not be nested\nexport const equals = (a: Array<any>, b: Array<any>): boolean =>\n    a.length === b.length && a.every((v, i) => v === b[i]);\n\nexport const makeBookUrl = (url: string, book: string, chapter: number, first: string, full: boolean): string =>\n    (full ? `${url}${book}/` : `${url}${book}/${chapter}/${first}/`)\n\nexport const makeRandomKey = (): string => `k-${Math.random() * 10000000000}`\n\nexport const slug = (str: string): string => str.replaceAll(' ', '-')\n\nexport const unslug = (str: string): string => str.replaceAll('-', ' ')\n\nexport const underLine = (str: string): string => str.replaceAll(' ', '_')\n\nexport const normalizeSluggedBookName = (book: string): string => {\n    // english book names\n    book = slug(book)\n    const pos = book.indexOf('-') + 1\n    if (pos >= 0) {\n        return book.substr(0, pos).toUpperCase() + capitalize(book.substr(pos, 1)) + book.substr(pos + 1).toLowerCase()\n    }\n    return capitalize(book)\n}\n\nexport const calculateItemNumber = (book: string, chapter: number, verse: number): number => {\n    return versesByBibleBook[normalizeSluggedBookName(book)].slice(0, chapter - 1).reduce((x, y) => x + y, 0) + verse - 1\n}\n\nexport const englishBookNames: booksTable = {\n    'Genesis': '',\n    'Exodus': '',\n    'Leviticus': '',\n    'Numbers': '',\n    'Deuteronomy': '',\n    'Amos': '',\n    'Ezekiel': '',\n    'Habakkuk': '',\n    'Haggai': '',\n    'Hosea': '',\n    'I Kings': ' ',\n    'I Samuel': ' ',\n    'II Kings': ' ',\n    'II Samuel': ' ',\n    'Isaiah': '',\n    'Jeremiah': '',\n    'Joel': '',\n    'Jonah': '',\n    'Joshua': '',\n    'Judges': '',\n    'Malachi': '',\n    'Micah': '',\n    'Nahum': '',\n    'Obadiah': '',\n    'Zechariah': '',\n    'Zephaniah': '',\n    'Daniel': '',\n    'Ecclesiastes': '',\n    'Esther': '',\n    'Ezra': '',\n    'I Chronicles': '  ',\n    'II Chronicles': '  ',\n    'Job': '',\n    'Lamentations': '',\n    'Nehemiah': '',\n    'Proverbs': '',\n    'Psalms': '',\n    'Ruth': '',\n    'Song of Songs': ' '\n}\n\nexport const hebrewBookNames: booksTable = {\n    '': 'Genesis',\n    '': 'Exodus',\n    '': 'Leviticus',\n    '': 'Numbers',\n    '': 'Deuteronomy',\n    '': 'Amos',\n    '': 'Ezekiel',\n    '': 'Habakkuk',\n    '': 'Haggai',\n    '': 'Hosea',\n    ' ': 'I Kings',\n    ' ': 'I Samuel',\n    ' ': 'II Kings',\n    ' ': 'II Samuel',\n    '': 'Isaiah',\n    '': 'Isaiah', // typo ?\n    '': 'Jeremiah',\n    '': 'Jeremiah', // typo ?\n    '': 'Joel',\n    '': 'Jonah',\n    '': 'Joshua',\n    '': 'Judges',\n    '': 'Malachi',\n    '': 'Micah',\n    '': 'Nahum',\n    '': 'Obadiah',\n    '': 'Zechariah',\n    '': 'Zephaniah',\n    '': 'Daniel',\n    '': 'Ecclesiastes',\n    '': 'Esther',\n    '': 'Ezra',\n    '  ': 'I Chronicles',\n    '  ': 'II Chronicles',\n    '': 'Job',\n    '': 'Lamentations',\n    '': 'Nehemiah',\n    '': 'Proverbs',\n    '': 'Psalms', // possible typo\n    '': 'Psalms',\n    '': 'Ruth',\n    ' ': 'Song of Songs'\n}\n\nexport const hebrewBooks = (): Array<string> => Object.keys(hebrewBookNames)\n\nexport const englishBooks = (): Array<string> => Object.keys(englishBookNames)\n\nexport const matchHebrewBookName = (bibleRef: string): Array<string> => {\n    for (let name of hebrewBooks()) {\n        if (bibleRef.startsWith(name)) {\n            return [bibleRef.replace(name, ''), name]\n        }\n    }\n    return []\n}\n\nexport const englishBookNameToHebrew = (englishBookName: string): string =>\n    englishBookNames[capitalize(englishBookName.trim().toLowerCase())]\n\nexport const hebrewBookNameToEnglish = (hebrewBookName: string): string =>\n    hebrewBookNames[hebrewBookName]\n\nexport const isABibleBook = (book: string): boolean =>\n    // expects an English book name\n    capitalize(book.trim().split(' ')[0]) in englishBookNames\n\n// return an english title even if bookName is in Hebrew\nexport const toEnglish = (bookName: string): string => {\n    const title = hebrewBookNameToEnglish(bookName)\n    if (title === undefined) {\n        return bookName\n    }\n    return title\n}\n\nexport const liturgyUrl = (bookTitle: string, better_book: boolean, path: string): string => {\n // this should be removed when all Karaites books turn to better books\n    if (better_book) {\n        return `/book/${cleanUrl(bookTitle)}/`\n    }\n    return `/${capitalize(path)}/${cleanUrl(bookTitle)}/1/`\n}","import {hebrewBookNameToEnglish} from \"./utils\"\nimport gematriya from 'gematriya'\nimport {slug, capitalize, matchHebrewBookName} from \"./utils\"\n\nexport const parseHebrewRef = (biblicalRef) => {\n\n    let chapterVerseBook = matchHebrewBookName(biblicalRef)\n    if (chapterVerseBook.length < 2) {\n        return {\n            refBook: '',\n            refChapter: 0,\n            refVerse: 0,\n            refHighlight: []\n        }\n    }\n\n    let refBook = chapterVerseBook[1]\n    let splitOn = (chapterVerseBook.indexOf(':') >= 0 ? ' ' : ':')\n    let [refChapter, refVerse] = chapterVerseBook[0].split(splitOn)\n\n    if (refVerse.indexOf('-') > 0) {\n        refVerse = refVerse.split('-')\n    } else {\n        refVerse = refVerse.split(',')\n    }\n\n    return {\n        refBook: slug(hebrewBookNameToEnglish(refBook)),\n        refChapter: gematriya(refChapter.trim()),\n        refVerse: gematriya(refVerse[0].trim()),\n        refHighlight: refVerse.map(hebrewNumber => gematriya(hebrewNumber))\n    }\n\n}\n\nexport const parseEnglishRef = (biblicalRef) => {\n    biblicalRef = capitalize(biblicalRef)\n    let re = /[0-9]+/g\n    let chapterVerse = biblicalRef.match(re)\n\n    re = /[a-z,A-Z,' ']+/g\n    if (chapterVerse === null) {\n        // missing chapter and verse\n        return {\n            refBook: slug(biblicalRef.match(re)[0].trim()),\n            refChapter: null,\n            refVerse: null,\n            refHighlight: null\n        }\n    }\n\n    if (chapterVerse.length === 1) {\n        // missing verse assume 1\n        return {\n            refBook: slug(biblicalRef.match(re)[0].trim()),\n            refChapter: parseInt(chapterVerse[0]),\n            refVerse: 1,\n            refHighlight: null\n        }\n    }\n    // full reference\n    return {\n        refBook: slug(biblicalRef.match(re)[0].trim()),\n        refChapter: parseInt(chapterVerse[0]),\n        refVerse: parseInt(chapterVerse[1]),\n        refHighlight: chapterVerse.slice(1).map(arabic => parseInt(arabic)),\n    }\n}\n\n\nexport const parseBiblicalReference = (e) => {\n    let language = e.target.childNodes[0].parentElement.lang\n    let biblicalRef = e.target.childNodes[0].data.replace('(', '').replace(')', '').replace('cf. ', '').replace(':(', '')\n    biblicalRef = biblicalRef.replace(', ', ':', 1).replace(',', ':', 1).replace('.', '').trim()\n\n    if (language.toLowerCase() === 'he') {\n        return parseHebrewRef(biblicalRef)\n    }\n\n    return parseEnglishRef(biblicalRef)\n\n}\n\n\n","import React, {useState, useContext} from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\n//import {autocompleteUrl} from '../../constants/constants'\nimport {storeContext} from '../../stores/context'\nimport {messageContext} from \"../../stores/messages/messageContext\";\nimport {useHistory} from 'react-router-dom'\nimport {observer} from 'mobx-react-lite'\nimport MenuBookIcon from '@material-ui/icons/MenuBook'\nimport ImportContactsIcon from '@material-ui/icons/ImportContacts'\nimport {parseEnglishRef} from '../../utils/parseBiblicalReference'\nimport {validateBiblicalReference} from \"../../utils/validateBiblicalReference\";\nimport {isABibleBook} from \"../../utils/utils\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n\n\nconst AutoComplete = () => {\n    // The material-ui Autocomplete component has serious flaws\n    // the documented  is not accurate or even helpful\n    const store = useContext(storeContext)\n    const message = useContext(messageContext)\n    const [isOpen, setIsOpen] = useState(true)\n    const [search, setSearch] = useState('')\n    const [options, setOptions] = useState([])\n    const classes = useStyles()\n\n    let history = useHistory()\n\n    const showResults = () => {\n        if (search.length === 0) return\n\n        if (isABibleBook(search)) {\n            const {refBook, refChapter, refVerse} = parseEnglishRef(search)\n\n            // show chapters menu\n            if (refChapter === null && refVerse === null && refBook !== null) {\n                store.resetPanes()\n                history.push(`/Tanakh/${refBook}/`)\n                return\n            }\n            // invalid  Biblical ref\n            const validMessage = validateBiblicalReference(refBook, refChapter, refVerse)\n            if (validMessage !== '') {\n                message.setMessage(validMessage)\n                return\n            }\n            // open book\n            store.resetPanes()\n            history.push(`/Tanakh/${refBook}/${refChapter}/${refVerse}/`)\n            return\n        }\n\n        store.setSearch(search)\n        if (window.location.pathname === '/search-result/') {\n            // hack or page wont reload !!!\n            // see router in app.js\n            history.push('/empty/')\n            history.goBack()\n        } else {\n            history.push('/search-result/')\n        }\n\n    }\n\n\n    const onInputChange = (e, newValue) => {\n        setSearch(() => newValue)\n        if (newValue === '') setOptions([])\n    }\n\n    const onKeyUp = (event) => {\n        if (event.key === 'Enter' && search.length ===0) {\n           message.setMessage('Please enter a search term')\n        }\n        if (event.code === \"Enter\") {\n            setIsOpen(() => false)\n            showResults()\n        } else {\n            setIsOpen(true)\n        }\n    }\n\n    const onChange = (e, value, reason) => {\n        if (reason === 'select-option') {\n            setSearch(() => options[value].w)\n        }\n    }\n    // to use autocomplete uncomment, prepare database too\n    // useEffect(() => {\n    //     const getAutoComplete = async () => {\n    //\n    //         if (search.length < 2) return []\n    //         if (isABibleBook(search)) return []\n    //\n    //         const response = await fetch(`${autocompleteUrl}${search}/`)\n    //         return await response.json()\n    //     }\n    //\n    //     getAutoComplete()\n    //         .then((data) => {\n    //             setOptions(data)\n    //         })\n    //         .catch(e => message.setMessage(e.message))\n    //\n    // }, [search, store.getSearch(), message]);\n\n    return (\n\n        <Autocomplete\n            freeSolo\n            value={search}\n            open={isOpen}\n            classes={{\n                root: classes.root,\n                inputRoot: classes.inputRoot,\n                fullWidth: classes.fullWidth,\n            }}\n            // works around i, will be used has index to access other properties\n            // of options like in renderOption and onChange\n            options={options.map((option, i) => `${i}`)}\n            onKeyUp={onKeyUp}\n            onChange={onChange}\n            getOptionLabel={(option) => option}\n            style={{width: 350, marginRight: 40}}\n            inputValue={search}\n            onInputChange={onInputChange}\n            renderOption={(i) =>\n                <>\n                    {(options[i].c === 'V' ? <ImportContactsIcon/> : <MenuBookIcon/>)}\n                    <span>{' '}{options[i].w}</span>\n                </>\n            }\n            renderInput={(params) => (\n                <TextField\n                    {...params}\n                    label=\"Search\"\n                    variant=\"standard\"\n                />\n            )}\n        />\n    );\n}\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        margin: 0,\n        padding: 0,\n        width: '300px !important',\n        [theme.breakpoints.down('xs')]: {\n            width: '100px !important',\n        },\n    },\n    inputRoot: {\n        marginBottom: 15,\n    },\n\n}))\n\nexport default observer(AutoComplete)","import {versesByBibleBook} from '../constants/constants'\nimport {capitalize} from \"./utils\";\n\nexport const validateBiblicalReference = (book:string, chapter:string, verse:string):string => {\n    try {\n        const theBook = capitalize(book)\n        const chapterNumber = parseInt(chapter) - 1\n        const verseNumber = parseInt(verse)\n        const numberOfChapters = versesByBibleBook[theBook].length;\n        const numberOfVerses = versesByBibleBook[theBook][chapterNumber]\n\n        if (chapterNumber > numberOfChapters) {\n            return `The ${theBook} book has ${numberOfChapters} chapters.`\n        }\n        if (verseNumber > numberOfVerses) {\n            return `The ${theBook} book chapter ${chapter} has ${numberOfVerses} verses.`\n        }\n        return ''\n    } catch (e){\n        return 'Invalid Bible reference. Ex: Genesis 10:1'\n    }\n}","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\n\nimport {Hidden, Typography} from '@material-ui/core';\nimport {Link} from 'react-router-dom';\nimport AutoComplete from '../autcomplete/autocomplete'\n\n\nexport default function PrimarySearchAppBar({theme}) {\n\n    const classes = useStyles();\n\n    return (\n\n        <AppBar position=\"fixed\" color=\"default\">\n            <Toolbar>\n                <Typography className={classes.name} component=\"h3\">\n                    <Link className={classes.link} to=\"/\">KJLC</Link>\n                </Typography>\n                <Typography component=\"h3\">\n                    <Link className={classes.link} to=\"/texts/\">Texts</Link>\n                </Typography>\n                <Hidden smDown>\n                    <Typography component=\"h3\">\n                        <a className={classes.link} href=\"https://www.karaites.org/support-our-work1.html\" rel=\"noreferrer\" target=\"_blank\">Donate</a>\n                    </Typography>\n                    <Typography component=\"h3\">\n                        <Link className={classes.link} to=\"/acknowledgments/\">Acknowledgments</Link>\n                    </Typography>\n                </Hidden>\n                {/*<Typography component=\"h3\">*/}\n                {/*    <Link className={classes.link} to=\"/\"><SearchIcon /></Link>*/}\n                {/*</Typography>*/}\n\n                <div className={classes.sectionDesktop}>\n                    <AutoComplete/>\n\n                </div>\n                {/*<div className={classes.sectionMobile}>*/}\n                {/*    <AutoComplete/>*/}\n                {/*    */}\n                {/*</div>*/}\n            </Toolbar>\n        </AppBar>\n\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    sectionDesktop: {\n        flexGrow: 1,\n        justifyContent: 'flex-end',\n        display: 'flex',\n        // [theme.breakpoints.down('xl')]: {\n        //     display: 'flex',\n        // },\n        // [theme.breakpoints.down('sm')]: {\n        //     display: 'none',\n        // }\n    },\n    // sectionMobile: {\n    //     flexGrow: 1,\n    //     justifyContent: 'flex-end',\n    //     [theme.breakpoints.down('xl')]: {\n    //         display: 'none',\n    //     },\n    //     [theme.breakpoints.down('sm')]: {\n    //         display: 'flex',\n    //     },\n    // },\n\n\n    name: {\n        fontSize: 24,\n    },\n    link: {\n        marginLeft: 10,\n        marginRight: 10,\n        marginTop: 2,\n    },\n\n}));\n","export const fetchData = async (url: string): Promise<any> => {\n    const response = await fetch(url);\n    if (response.ok) {\n        return await response.json()\n    } else {\n        return Promise.reject('error')\n    }\n}\n\n\nexport const dataFetch = async <T, >(url: string): Promise<T> => {\n    const response = await fetch(url);\n    return await response.json();\n}\n","import {makeAutoObservable, observable} from \"mobx\"\nimport {dataFetch} from '../../components/api/dataFetch';\nimport {getLevels} from '../../constants/constants';\n\nconst BREAK_ON = 2\n\ninterface Levels {\n    english: string,\n    hebrew: string,\n    breakOnClassification: boolean,\n    url: string\n}\n\ninterface LevelsObject {\n    [key: string]: Levels[]\n}\n\nclass ReferenceStore {\n    levels_all: LevelsObject = {}\n    levels_no_tanakh: LevelsObject = {}\n\n    constructor() {\n        makeAutoObservable(this, {\n            levels_all: observable,\n            levels_no_tanakh: observable,\n        })\n\n        // get levels this is Law, Liturgy, Poetry, etc\n        dataFetch<LevelsObject>(getLevels).then(data => {\n            this.levels_all = data\n            delete data['Tanakh']\n            this.levels_no_tanakh = data\n        }).catch((e) => console.log(e))\n    }\n\n    getLevelsAll = () => this.levels_all\n\n    getLevelsNoTanakh = () => this.levels_no_tanakh\n\n    getBreakOnClassification = (level: string) => {\n        try {\n            return this.levels_no_tanakh[level][BREAK_ON]\n        } catch (_) {\n            return false\n        }\n    }\n\n}\n\nconst referenceStore = () => new ReferenceStore()\n\nexport default referenceStore\n","import React,{createContext} from 'react';\nimport {useLocalObservable} from 'mobx-react-lite';\nimport referenceStore from \"./referenceStore\";\n\nexport const referenceContext = createContext();\n\nconst ReferenceProvider = ({children}) => {\n    const data = useLocalObservable(referenceStore);\n    return (\n        <referenceContext.Provider value={data}>\n            {children}\n        </referenceContext.Provider>\n    )\n}\n\nexport default ReferenceProvider;","import React, {useContext} from 'react'\nimport {Link} from 'react-router-dom'\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography'\nimport {storeContext} from \"../../stores/context\";\nimport {referenceContext} from \"../../stores/references/referenceContext\";\nimport {makeStyles} from '@material-ui/core/styles'\nimport {observer} from 'mobx-react-lite';\n\nconst HEBREW = 1\nconst ENGLISH = 0\n\nconst FirstLevel = () => {\n    const store = useContext(storeContext)\n    const reference = useContext(referenceContext)\n    const classification = reference.getLevelsAll()\n    const classes = useStyles()\n\n    store.resetPanes()\n\n    if (classification === null) return null;\n\n    const levels = Object.keys(classification).map(key =>\n        <Grid item xl={6} lg={6} md={12} sm={12} xs={12} key={key}>\n            <div className={classes.card}>\n                <Link to={'/' + key + '/'}>\n                    <span className={classes.left}>\n                        <Typography className={classes.hebrew} variant=\"h6\" component=\"h2\">{classification[key][HEBREW]}</Typography>\n                    </span>\n                    <span className={classes.right}>\n                         <Typography className={classes.english} variant=\"h6\" component=\"h2\">{classification[key][ENGLISH]}</Typography>\n                    </span>\n                </Link>\n            </div>\n            <hr/>\n        </Grid>)\n\n    return (\n        <div className={classes.root}>\n            <Grid container item xl={6} lg={6} md={6} sm={6} xs={12}\n                  justifyContent=\"center\"\n                  alignItems=\"center\"\n                  spacing={1}\n                  className={classes.grid}\n            >\n                {levels}\n            </Grid>\n        </div>\n    )\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        paddingTop: theme.spacing(15),\n        width: '100%',\n    },\n    grid: {\n        margin: 'auto',\n        padding: theme.spacing(2),\n    },\n    card: {\n        width: '100%',\n        height: 100,\n    },\n    left: {\n        width: '50%',\n        float: 'left',\n    },\n    right: {\n        width: '50%',\n        float: 'right',\n    },\n    hebrew: {\n        marginRight: theme.spacing(3),\n        direction: 'rtl',\n        textAlign: 'right',\n    },\n    english: {\n        marginLeft: theme.spacing(3),\n        direction: 'ltr',\n        textAlign: 'left',\n    }\n}));\n\n\nexport default observer(FirstLevel)","import React from \"react\";\nimport {Grid} from \"@material-ui/core\";\n\n\nconst Filler = ({xs}: { xs?: any }) =>\n\n    <Grid item xs={xs} key={-1}>\n        <br/>\n        <br/>\n        <br/>\n        <br/>\n    </Grid>\n\n\nexport default Filler","\nexport const languageDirection = (language: string): string => {\n    switch (language) {\n        case 'en':\n            return 'LTR'\n        case 'he':\n            return 'RTL'\n        default: {\n            return 'Error'\n        }\n    }\n}\n","import {FC} from 'react'\nimport {Link} from \"react-router-dom\"\n\ninterface ToTextInterface {\n    to?: string;\n    caption?: string;\n    margin?: number;\n    size?: number;\n}\n\nexport const ToText: FC<ToTextInterface> = ({to = '/texts/', caption = \"To texts\", margin = 10, size = 20}) => {\n    return (\n        <div style={{minHeight: 30}}>\n            <Link to={to} style={{marginBottom: margin, fontSize: size, marginLeft: 40}}>\n                {'\\u2190'}{' '}{caption}\n            </Link>\n        </div>\n    )\n}\n\n\n","import React from 'react'\nimport {Link} from 'react-router-dom'\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography'\nimport {slug} from '../../utils/utils'\nimport Filler from '../general/Filler.tsx'\nimport {makeStyles} from \"@material-ui/core/styles\"\nimport {languageDirection} from \"../../utils/languageDirection\"\nimport {ToText} from \"../general/ToText\";\n\n\nconst RenderMenu = ({books, path, languages = ['en', 'en'], columns = 6}) => {\n    const classes = useStyles()\n    const populate = (obj) => {\n        // links to books\n        return Object.keys(obj).map((key, index) =>\n            <Grid item xs={columns} key={index}>\n                <div className={classes.card}>\n                    <Link to={`/${path}/${slug(key)}/`}>\n                        <Typography className={classes.text} variant=\"h6\" component=\"h2\">{key}</Typography>\n                    </Link>\n                    <br/>\n                    <Typography className={classes.text} style={{direction: languageDirection(languages[1])}} variant=\"body2\" component=\"p\">{obj[key]}</Typography>\n                </div>\n                <br/>\n                <hr/>\n            </Grid>)\n    }\n\n    const MakeMenu = () => {\n        // main text menu Torah...\n        return Object.keys(books).map((key, index) =>\n            <Grid item xs={12} sm={columns} key={index}>\n                <Grid item className={classes.title}>\n                    <Typography className={classes.titleHalakhah} variant=\"h6\" component=\"h2\">{key}</Typography>\n                    <ToText/>\n                    <hr />\n                </Grid>\n                <Grid container spacing={2}>\n                    {populate(books[key])}\n                </Grid>\n            </Grid>)\n    }\n\n    return (\n        <div className={classes.container}>\n            <Grid container\n                  direction=\"column\"\n                  justifycontent=\"space-evenly\"\n                  alignItems=\"center\"\n            >\n                <Filler/>\n                <MakeMenu/>\n            </Grid>\n\n        </div>\n    )\n\n}\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        width: '100%',\n        height: '100%',\n    },\n    title: {\n        marginTop: 50,\n    },\n\n    link: {\n        marginBottom: 20,\n    },\n    titleHalakhah: {\n        marginBottom: 20,\n        paddingRight: 10,\n        paddingLeft: 10,\n    },\n    text: {\n        paddingLeft: 20,\n        paddingRight: 20,\n    },\n    card: {\n        width: '100%',\n        height: 100,\n        marginTop: 40,\n        [theme.breakpoints.down('xl')]: {\n            //backgroundColor: 'pink',\n            marginBottom: 10,\n            fontsize: 40,\n        },\n        [theme.breakpoints.down('lg')]: {\n            //backgroundColor: 'green',\n            marginBottom: 10,\n        },\n        [theme.breakpoints.down('md')]: {\n            //backgroundColor: 'blue',\n            marginBottom: 30,\n        },\n        [theme.breakpoints.down('sm')]: {\n            //backgroundColor: 'yellow',\n            marginBottom: 100,\n        },\n        [theme.breakpoints.down('xs')]: {\n            //backgroundColor: 'red',\n            marginBottom: 130,\n        },\n    },\n}));\n\nexport default RenderMenu","import React from 'react'\nimport RenderMenu from '../menu/RenderMenu'\nimport {BooksObj, BooksMenu} from '../../types/commonTypes'\n\n\nconst torah:BooksObj = {\n    'Genesis': 'Creation, the beginning of mankind, and stories of the patriarchs and matriarchs.',\n    'Exodus': 'The Israelites enslavement in Egypt, miraculous redemption, the giving of the Torah, and building of the Mishkan (Tabernacle).',\n    'Leviticus': 'Laws of sacrificial worship in the Mishkan (Tabernacle), ritual purity, and other topics like agriculture, ethics, and holidays.',\n    'Numbers': 'Wanderings of the Israelites in the desert, census, rebellion, spies and war, interspersed with laws.',\n    'Deuteronomy': 'Moses final speeches, recalling events of the desert, reviewing old laws, introducing new ones, and calling for faithfulness to God.'\n}\n\nconst prophets:BooksObj = {\n    'Joshua': 'The Israelites enter, conquer, and settle Israel under the leadership of Joshua.',\n    'Judges': ' Cycles of sin, foreign oppression, repentance, and redemption through leaders appointed by God.',\n    'I Samuel': 'The prophet Samuel, the advent of monarchy with the reign of Saul, and the rise of a young David.',\n    'II Samuel': 'King Davids triumphs and challenges as he establishes a united kingdom with Jerusalem as its capital.',\n    'I Kings': 'Solomons kingship, construction of the Temple, a schism in the kingdom, and Elijah the Prophet.',\n    'II Kings': 'Stories and miracles of the prophet Elisha, the decline of Israels kingdoms, and the Temples destruction.',\n    'Isaiah': 'Criticism of religious corruption, calls for change, and descriptions of a utopian future',\n    'Jeremiah': 'Warnings of Jerusalems destruction and demands for repentance, largely rejected by the people, some of whom torture and persecute him.',\n    'Ezekiel': 'Dramatic symbolism conveying rebuke or hope, and visions of a future Temple.',\n    'Hosea': 'Rebuke of Israel for abandoning God, comparing their relationship to that of unfaithful lovers',\n    'Joel': 'A locust plague, a call to repent, and a promise of judgement for Israels oppressors.',\n    'Amos': 'Condemnation of oppression and arrogance in the nations and Israel, and a call for reform.',\n    'Obadiah': 'The shortest book in Tanakh, at just 21 verses, predicting the downfall of the kingdom of Edom.',\n    'Jonah': 'A great fish swallows Jonah when he tries to escape his mission of prophecy, and Jonah repents.',\n    'Micah': 'Berating of Israel and its leadership for insincere ritual worship, and calls for justice and kindness.',\n    'Nahum': 'A celebratory prophecy about the downfall of the Assyrian empire, an oppressor of Israel',\n    'Habakkuk': 'Charging God to explain the unjust success of the Babylonians, Gods response, and a prayer.',\n    'Zephaniah': 'Warnings of the destruction God will wreck on the unfaithful and calls for justice and humility.',\n    'Haggai': 'Urgent calls to build the Second Temple and descriptions of its future glory.',\n    'Zechariah': 'Warnings of the destruction God will wreck on the unfaithful and calls for justice and humility.',\n    'Malachi': 'Criticism of disingenuous ritual worship and descriptions of Gods future blessings.',\n}\n\nconst writings:BooksObj = {\n    'Psalms': 'Poems of despair, hope, gratitude, and supplication to God, attributed to David and others',\n    'Proverbs': 'Guidance for living a wise, moral, and righteous life, in the form of poems and short statements.',\n    'Job': 'Satan convinces God to strike a righteous man with tragedy, spurring conversations about suffering.',\n    'Song of Songs': 'Poetic conversations of two lovers, traditionally read as a metaphor for God and Israel.',\n    'Ruth': 'A Moabite widow remains loyal to her mother-in-law and to Israel, embarking on a new beginning.',\n    'Lamentations': 'Laments of Jerusalems destruction, grappling with theological explanations.',\n    'Ecclesiastes': 'An exploration of the meaning of life, reckoning with death, futility, and purpose.',\n    'Esther': 'Esther becomes queen of Persia and foils a plot to destroy the Jews, establishing the Purim holiday.',\n    'Daniel': 'A Jewish advisor to Babylonian kings interprets dreams and miraculously escapes danger.',\n    'Ezra': 'Rebuilding the Temple after decades of exile and religious revival led by Ezra the scribe.',\n    'Nehemiah': 'Rebuilding Jerusalems walls and the nations commitment to observe the commandments.',\n    'I Chronicles': 'Recounts of events in the Torah and early Prophets, focusing on King David.',\n    'II Chronicles': 'Recounts of events in the Prophets, from Solomon through the First Temples destruction.',\n}\n\nconst books:BooksMenu = {'TORAH': torah, 'PROPHETS': prophets, 'WRITINGS': writings}\n\nconst Tanakh = () => <RenderMenu books={books} path={'Tanakh'} languages={['en','en']}/>\n\nexport default Tanakh","import React, {FC} from \"react\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport {observer} from \"mobx-react-lite\"\nimport {makeStyles} from '@material-ui/core/styles'\nimport {LANGUAGE_KEY, LANGUAGE_SYMBOL} from \"../../constants/constants\"\nimport {langButtonReference} from './types';\n\n\nconst LanguageButton: FC<langButtonReference> = ({language, onClick}) => {\n    const classes = useStyles()\n\n    if(language.length === 0)  return null\n\n    return <IconButton\n        aria-label=\"select language\"\n        component=\"span\"\n        className={classes.langButton}\n        onClick={onClick}>\n        {LANGUAGE_SYMBOL[LANGUAGE_KEY[language]]}\n    </IconButton>\n\n}\n\nconst useStyles = makeStyles((theme) => ({\n    langButton: {\n        minWidth: 48,\n        minHeight: 48,\n        fontFamily: \"SBL Hebrew\",\n        fontSize: 18,\n        lineHeight: 0,\n        padding: 1,\n    }\n}));\n\nexport default observer(LanguageButton)","import React, {FC, MouseEventHandler} from 'react'\nimport {makeStyles} from '@material-ui/core/styles'\nimport IconButton from '@material-ui/core/IconButton'\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft'\nimport CloseIcon from '@material-ui/icons/Close';\nimport Container from \"@material-ui/core/Container\";\nimport LanguageButtonReferences from \"../buttons/LanguageButtonReferences\";\n\ninterface HeaderProps {\n    backButton: MouseEventHandler,\n    onClose: MouseEventHandler,\n    onClick:MouseEventHandler,\n    language: string\n}\n\nconst Header:FC<HeaderProps> = ({backButton, onClose, onClick, language}) => {\n    const classes = useStyles()\n\n    return (<Container className={classes.container}>\n            <span>\n                <IconButton\n                    aria-label=\"Close pane\"\n                    component=\"span\"\n                    onClick={onClose}\n                >\n                    <CloseIcon className={classes.iconGrid}/>\n                </IconButton>\n\n                {backButton &&\n                <IconButton\n                    aria-label=\"resources\"\n                    component=\"span\"\n                    onClick={backButton}\n                >\n                    <ChevronLeftIcon className={classes.iconGrid}/>\n                </IconButton>}\n\n            </span>\n            <LanguageButtonReferences language={language} onClick={onClick}/>\n        </Container>)\n\n}\n\nexport default Header\n\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        padding: 0,\n        backgroundColor: (theme.palette.type === 'dark' ? theme.palette.action.selected : theme.palette.background.paper),\n    }, icon: {}, iconGrid: {}, header: {\n        minHeight: 50,\n    },\n}));","import {makeRandomKey} from \"./utils\"\n\n\nconst transform = (refClick, item, kind, paneNumber, node) => {\n    if (node.type === 'tag') {\n        // rewrite the span with a onClick event handler\n        if (node.name === 'span') {\n            if (node['attribs']['class'] === 'en-biblical-ref') {\n                return <span key={makeRandomKey()} lang=\"EN\" onClick={refClick.bind(this, item, kind, paneNumber)} className=\"en-biblical-ref\">{node.children[0]['data']}</span>\n            }\n            if (node['attribs']['class'] === 'he-biblical-ref') {\n                return <span key={makeRandomKey()} lang=\"HE\" onClick={refClick.bind(this, item, kind, paneNumber)} className=\"he-biblical-ref\">{node.children[0]['data']}</span>\n            }\n        }\n    }\n}\n\nexport default transform\n\n","import React from 'react';\nimport './spin.css'\nimport {makeStyles} from '@material-ui/core/styles';\n\nconst Loading = ({text}: { text?: string }) => {\n    const classes = useStyles()\n    return (\n        <div className={classes.loading}>\n            {(text ? <p>{text}</p> : <div className={'spin'}></div>)}\n        </div>\n    )\n}\n\nLoading.defaultProps = {\n    type: 'spin'\n}\n\nconst useStyles = makeStyles(() => ({\n    loading: {\n        display: 'flex',\n        justifyContent: 'center',\n    }\n}))\n\nexport default Loading","import React, {useContext, useState} from 'react'\nimport {makeStyles} from '@material-ui/core/styles'\nimport Button from '@material-ui/core/Button'\nimport {Paper, Typography} from '@material-ui/core'\nimport MenuBookIcon from '@material-ui/icons/MenuBook'\nimport {makeRandomKey, slug} from '../../utils/utils'\nimport {observer} from 'mobx-react-lite'\nimport Header from './header'\nimport {storeContext} from \"../../stores/context\";\nimport {messageContext} from \"../../stores/messages/messageContext\";\nimport {referenceContext} from '../../stores/references/referenceContext'\nimport Container from \"@material-ui/core/Container\";\nimport {fetchData} from \"../api/dataFetch\";\nimport {getBibleReferencesUrl, TRANSFORM_TYPE} from \"../../constants/constants\";\nimport parse from \"html-react-parser\";\nimport transform from \"../../utils/transform\";\nimport Loading from \"../general/loading\";\n\nconst COUNT_HE = 9\nconst COUNT_EN = 10\n\n\nconst RightPane = ({paneNumber, refClick, openBook}) => {\n\n    const store = useContext(storeContext)\n    const message = useContext(messageContext)\n    const reference = useContext(referenceContext)\n    const [loading, setLoading] = useState(false)\n    const verseData =  store.getVerseData(paneNumber)\n    const [languages, setLanguages] = useState(['en', 'he'])\n    const [references, setReferences] = useState([])\n    const [referenceKey, setReferenceKey] = useState('')\n\n    const classes = useStyles()\n\n    const onClick = () => setLanguages([languages[1], languages[0]])\n\n    const callOpenBook = (index) => openBook(paneNumber, slug(references[index]['book_name_en']), references[index]['paragraph_number'])\n\n    const onClose = () => {\n        store.setDistance(0, paneNumber)\n        store.setRightPaneState([], paneNumber)\n        store.setIsRightPaneOpen(false, paneNumber)\n    }\n\n    const backButton = () => setReferenceKey('')\n\n\n    const onClickReference = (key, _) => {\n\n        const bookChapterVerse = store.getBookChapterVerse(paneNumber)\n        // todo: cache the references\n        setLoading(true)\n\n        fetchData(`${getBibleReferencesUrl}${bookChapterVerse}/`)\n            .then(data => {\n                setReferences(data)\n                setReferenceKey(key)\n                setLoading(false)\n            })\n            .catch(e => {\n                message.setMessage('Error fetching references', e)\n                setLoading(false)\n            })\n\n    }\n\n    const ReferencesMenu = () => {\n\n        if (loading || verseData === undefined || verseData.length === 0) {\n            return (\n                <Container className={classes.container}>\n                    <Loading/>\n                </Container>\n            )\n        }\n\n        const levels = reference.getLevelsNoTanakh()\n        const langIndex = (languages[0] === 'en' ? 0 : 1)\n        let counts = [JSON.parse(verseData[COUNT_EN]), JSON.parse(verseData[COUNT_HE])]\n        return Object.keys(levels).map((key, index) => {\n            return (\n                <Container key={makeRandomKey()}>\n                    <Button\n                        variant=\"text\"\n                        className={(langIndex === 0 ? classes.button : classes.buttonHe)}\n                        fullWidth={true}\n                        disabled={counts[langIndex][index] === 0}\n                        startIcon={<MenuBookIcon className={classes.icon}/>}\n                        onClick={onClickReference.bind(this, key)}\n                        key={makeRandomKey()}>\n                        {langIndex === 0 ?\n                            <Typography variant=\"h6\" component=\"h6\" className={classes.itemsEn}>{levels[key][0]} ({counts[langIndex][index]})</Typography>\n                            :\n                            <Typography variant=\"h6\" component=\"h6\" className={classes.itemsHe}>({counts[langIndex][index]}){' '}{levels[key][1]} </Typography>\n                        }\n                    </Button>\n                </Container>\n            )\n        })\n    }\n\n\n    const PaneBody = () => {\n        if (referenceKey === '') {\n            return (\n                <Container className={classes.container} key={makeRandomKey()}>\n                    <Header backButton={null} onClose={onClose} onClick={onClick} language={languages[0]}/>\n                    <Paper className={classes.paper}>\n                        <Typography variant=\"h6\" component=\"h2\" className={classes.related}>Related\n                            texts</Typography>\n                        <hr className={classes.ruler}/>\n                        <ReferencesMenu/>\n                        <hr className={classes.ruler}/>\n                    </Paper>\n                </Container>\n            )\n        }\n        if (references.length === 0) {\n            const message = (languages[0] === 'en' ? 'No references found' : '  ')\n            return (\n                <Container className={classes.container} key={makeRandomKey()}>\n                    <Header backButton={backButton} onClose={onClose} onClick={onClick} language={languages[0]}/>\n                    <Paper className={classes.paper}>\n                        <Typography variant=\"h6\"\n                                    component=\"h2\"\n                                    className={(languages[0] === 'en' ? classes.messageEn : classes.messageHe)}>\n                            {message}\n                        </Typography>\n                        <hr className={classes.ruler}/>\n                    </Paper>\n                </Container>\n            )\n        }\n        // Judeo-Arabic is also 2\n        const index = (languages[0] === 'en' ? 0 : 2)\n        return (\n            <Container className={classes.container}>\n                <Header backButton={backButton} onClose={onClose} onClick={onClick} language={languages[0]}/>\n                <Paper className={classes.paperRefs}>\n                    {references.map(refs => {\n                        if (refs.book_first_level === referenceKey && refs.paragraph_html[index] !== '') {\n                            return (\n                                <div key={makeRandomKey()}>\n                                    <hr/>\n                                    <Typography className={classes.title}>{refs.book_name_en}</Typography>\n                                    <hr/>\n                                    <Typography className={classes.author}>{refs.author}</Typography>\n                                    <span className={classes.refs}>\n                                        {parse(refs.paragraph_html[index], {\n                                            replace: domNode => {\n                                                return transform(refClick,\n                                                    '',\n                                                    TRANSFORM_TYPE,\n                                                    paneNumber,\n                                                    domNode)\n                                            }\n                                        })}\n                                    </span>\n                                    <Button\n                                        className={classes.openBookButton}\n                                        onClick={callOpenBook.bind(this, 0)}>\n                                        Open book\n                                    </Button>\n                                </div>\n                            )\n                        }\n                        return null\n                    })}\n\n                </Paper>\n\n            </Container>\n        )\n    }\n    return <PaneBody/>\n}\n\nexport default observer(RightPane)\n\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        top: 70,\n        padding: 0,\n        height: '100%',\n    },\n    paper: {\n        height: '100%',\n    },\n    paperRefs: {\n        padding: theme.spacing(2),\n        overflow: 'auto',\n        minHeight: '100%',\n        maxHeight: '80vh',\n    },\n    header: {\n        minHeight: 50,\n    },\n    related: {\n        paddingTop: theme.spacing(1),\n        paddingLeft: theme.spacing(3),\n    },\n    ruler: {\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n    },\n    icon: {\n        fontSize: 20,\n    },\n    text: {\n        fontSize: 14,\n    },\n    button: {\n        textTransform: 'none',\n        justifyContent: 'left',\n    },\n    buttonHe: {\n        textTransform: 'none',\n        justifyContent: 'right',\n        direction: 'ltr',\n    },\n    openBookButton: {\n        textTransform: 'none',\n        marginBottom: theme.spacing(3),\n    },\n    itemsEn: {\n        fontSize: 18,\n        direction: 'rtl',\n    },\n    itemsHe: {\n        fontSize: 18,\n        direction: \"ltr\"\n    },\n    title: {\n        fontSize: 16,\n    },\n    author: {\n        fontSize: 14,\n    },\n    title_he: {\n        fontSize: 16,\n        direction: 'rtl',\n        textAlign: 'right',\n    },\n    author_he: {\n        fontSize: 14,\n        direction: 'rtl',\n        textAlign: 'right',\n    },\n    refs: {\n        fontSize: 18,\n    },\n    messageEn: {\n        paddingTop: theme.spacing(3),\n        paddingLeft: theme.spacing(3),\n        direction: \"ltr\"\n    },\n    messageHe: {\n        paddingTop: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n        direction: \"rtl\"\n    }\n}));","import {FC} from 'react'\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord'\n\ninterface RefsBadgeProps {\n    refsCount: number,\n    color?: any\n}\n\nconst RefsBadge: FC<RefsBadgeProps> = ({refsCount, color = 'secondary'}) =>\n    <FiberManualRecordIcon\n        color={color}\n        style={{'visibility': (refsCount !== 0 ? 'visible' : 'hidden'), 'fontSize': 8, 'cursor': 'pointer'}}\n    />\n\nexport default RefsBadge\n","interface TableIndoToHebrew {\n    readonly   [index: number]: string;\n}\n\ninterface TableHebrewToIndo {\n    readonly [index: string]: number;\n}\n\nexport const indoArabicToHebrewCardinal = (indo_arabic_number: number): string => {\n    const table: TableIndoToHebrew = {\n        1: '',\n        2: '',\n        3: '',\n        4: '',\n        5: '',\n        6: '',\n        7: '',\n        8: '',\n        9: '',\n        10: '',\n        11: '',\n        12: '',\n        13: '',\n        14: '',\n        15: '',\n        16: '',\n        17: '',\n        18: '',\n        19: '',\n        20: '',\n        21: '',\n        22: '',\n        23: '',\n        24: '',\n        25: '',\n        26: '',\n        27: '',\n        28: '',\n        29: '',\n        30: '',\n        31: '',\n        32: '',\n        33: '',\n        34: '',\n        35: '',\n        36: '',\n        37: '',\n        38: '',\n        39: '',\n        40: '',\n        41: '',\n        42: '',\n        43: '',\n        44: '',\n        45: '',\n        46: '',\n        47: '',\n        48: '',\n        49: '',\n        50: '',\n        51: '',\n        52: '',\n        53: '',\n        54: '',\n        55: '',\n        56: '',\n        57: '',\n        58: '',\n        59: '',\n        60: '',\n        61: '',\n        62: '',\n        63: '',\n        64: '',\n        65: '',\n        66: '',\n        67: '',\n        68: '',\n        69: '',\n        70: '',\n        71: '',\n        72: '',\n        73: '',\n        74: '',\n        75: '',\n        76: '',\n        77: '',\n        78: '',\n        79: '',\n        80: '',\n        81: '',\n        82: '',\n        83: '',\n        84: '',\n        85: '',\n        86: '',\n        87: '',\n        88: '',\n        89: '',\n        90: '',\n        91: '',\n        92: '',\n        93: '',\n        94: '',\n        95: '',\n        96: '',\n        97: '',\n        98: '',\n        99: '',\n        100: '',\n        101: '',\n        102: '',\n        103: '',\n        104: '',\n        105: '',\n        106: '',\n        107: '',\n        108: '',\n        109: '',\n        110: '',\n        111: '',\n        112: '',\n        113: '',\n        114: '',\n        115: '',\n        116: '',\n        117: '',\n        118: '',\n        119: '',\n        120: '',\n        121: '',\n        122: '',\n        123: '',\n        124: '',\n        125: '',\n        126: '',\n        127: '',\n        128: '',\n        129: '',\n        130: '',\n        131: '',\n        132: '',\n        133: '',\n        134: '',\n        135: '',\n        136: '',\n        137: '',\n        138: '',\n        139: '',\n        140: '',\n        141: '',\n        142: '',\n        143: '',\n        144: '',\n        145: '',\n        146: '',\n        147: '',\n        148: '',\n        149: '',\n    }\n    try {\n        return table[indo_arabic_number]\n    } catch (e) {\n        console.log(\"Number must be between 1 and 149.\")\n    }\n    return ''\n}\n\nexport const indoArabicToHebrew = (number: number): string => {\n    const table: TableIndoToHebrew = {\n        1: '',\n        2: '',\n        3: '',\n        4: '',\n        5: '',\n        6: '',\n        7: '',\n        8: '',\n        9: '',\n        10: '',\n        11: '',\n        12: '',\n        13: '',\n        14: '',\n        15: '',\n        16: '',\n        17: '',\n        18: '',\n        19: '',\n        20: '',\n        21: '',\n        22: '',\n        23: '',\n        24: '',\n        25: '',\n        26: '',\n        27: '',\n        28: '',\n        29: '',\n        30: '',\n        31: '',\n        32: '',\n        33: '',\n        34: '',\n        35: '',\n        36: '',\n        37: '',\n        38: '',\n        39: '',\n        40: '',\n        41: '',\n        42: '',\n        43: '',\n        44: '',\n        45: '',\n        46: '',\n        47: '',\n        48: '',\n        49: '',\n        50: '',\n        51: '',\n        52: '',\n        53: '',\n        54: '',\n        55: '',\n        56: '',\n        57: '',\n        58: '',\n        59: '',\n        60: '',\n        61: '',\n        62: '',\n        63: '',\n        64: '',\n        65: '',\n        66: '',\n        67: '',\n        68: '',\n        69: '',\n        70: '',\n        71: '',\n        72: '',\n        73: '',\n        74: '',\n        75: '',\n        76: '',\n        77: '',\n        78: '',\n        79: '',\n        80: '',\n        81: '',\n        82: '',\n        83: '',\n        84: '',\n        85: '',\n        86: '',\n        87: '',\n        88: '',\n        89: '',\n        90: '',\n        91: '',\n        92: '',\n        93: '',\n        94: '',\n        95: '',\n        96: '',\n        97: '',\n        98: '',\n        99: '',\n        100: '',\n        101: '',\n        102: '',\n        103: '',\n        104: '',\n        105: '',\n        106: '',\n        107: '',\n        108: '',\n        109: '',\n        110: '',\n        111: '',\n        112: '',\n        113: '',\n        114: '',\n        115: '',\n        116: '',\n        117: '',\n        118: '',\n        119: '',\n        120: '',\n        121: '',\n        122: '',\n        123: '',\n        124: '',\n        125: '',\n        126: '',\n        127: '',\n        128: '',\n        129: '',\n        130: '',\n        131: '',\n        132: '',\n        133: '',\n        134: '',\n        135: '',\n        136: '',\n        137: '',\n        138: '',\n        139: '',\n        140: '',\n        141: '',\n        142: '',\n        143: '',\n        144: '',\n        145: '',\n        146: '',\n        147: '',\n        148: '',\n        149: '',\n        150: '',\n        151: '',\n        152: '',\n        153: '',\n        154: '',\n        155: '',\n        156: '',\n        157: '',\n        158: '',\n        159: '',\n        160: '',\n        161: '',\n        162: '',\n        163: '',\n        164: '',\n        165: '',\n        166: '',\n        167: '',\n        168: '',\n        169: '',\n        170: '',\n        171: '',\n        172: '',\n        173: '',\n        174: '',\n        175: '',\n        176: '',\n        177: '',\n        178: '',\n        179: '',\n        180: '',\n        181: '',\n        182: '',\n        183: '',\n        184: '',\n        185: '',\n        186: '',\n        187: '',\n        188: '',\n        189: '',\n        190: '',\n        191: '',\n        192: '',\n        193: '',\n        194: '',\n        195: '',\n        196: '',\n        197: '',\n        198: '',\n        199: '',\n        200: '',\n    }\n    return table[number]\n}\n\nexport const hebrewCardinalNumbers: TableHebrewToIndo = {\n    '': 1,\n    '': 2,\n    '': 3,\n    '': 4,\n    '': 5,\n    '': 6,\n    '': 7,\n    '': 8,\n    '': 9,\n    '': 10,\n    '': 11,\n    '': 12,\n    '': 13,\n    '': 14,\n    '': 15,\n    '': 16,\n    '': 17,\n    '': 18,\n    '': 19,\n    '': 20,\n    '': 21,\n    '': 22,\n    '': 23,\n    '': 24,\n    '': 25,\n    '': 26,\n    '': 27,\n    '': 28,\n    '': 29,\n    '': 30,\n    '': 31,\n    '': 32,\n    '': 33,\n    '': 34,\n    '': 35,\n    '': 36,\n    '': 37,\n    '': 38,\n    '': 39,\n    '': 40,\n    '': 41,\n    '': 42,\n    '': 43,\n    '': 44,\n    '': 45,\n    '': 46,\n    '': 47,\n    '': 48,\n    '': 49,\n    '': 50,\n    '': 51,\n    '': 52,\n    '': 53,\n    '': 54,\n    '': 55,\n    '': 56,\n    '': 57,\n    '': 58,\n    '': 59,\n    '': 60,\n    '': 61,\n    '': 62,\n    '': 63,\n    '': 64,\n    '': 65,\n    '': 66,\n    '': 67,\n    '': 68,\n    '': 69,\n    '': 70,\n    '': 71,\n    '': 72,\n    '': 73,\n    '': 74,\n    '': 75,\n    '': 76,\n    '': 77,\n    '': 78,\n    '': 79,\n    '': 80,\n    '': 81,\n    '': 82,\n    '': 83,\n    '': 84,\n    '': 85,\n    '': 86,\n    '': 87,\n    '': 88,\n    '': 89,\n    '': 90,\n    '': 91,\n    '': 92,\n    '': 93,\n    '': 94,\n    '': 95,\n    '': 96,\n    '': 97,\n    '': 98,\n    '': 99,\n    '': 100,\n    '': 101,\n    '': 102,\n    '': 103,\n    '': 104,\n    '': 105,\n    '': 106,\n    '': 107,\n    '': 108,\n    '': 109,\n    '': 110,\n    '': 111,\n    '': 112,\n    '': 113,\n    '': 114,\n    '': 115,\n    '': 116,\n    '': 117,\n    '': 118,\n    '': 119,\n    '': 120,\n    '': 121,\n    '': 122,\n    '': 123,\n    '': 124,\n    '': 125,\n    '': 126,\n    '': 127,\n    '': 128,\n    '': 129,\n    '': 130,\n    '': 131,\n    '': 132,\n    '': 133,\n    '': 134,\n    '': 135,\n    '': 136,\n    '': 137,\n    '': 138,\n    '': 139,\n    '': 140,\n    '': 141,\n    '': 142,\n    '': 143,\n    '': 144,\n    '': 145,\n    '': 146,\n    '': 147,\n    '': 148,\n    '': 149,\n    '': 150,\n    '': 151,\n    '': 152,\n    '': 153,\n    '': 154,\n    '': 155,\n    '': 156,\n    '': 157,\n    '': 158,\n    '': 159,\n    '': 160,\n    '': 161,\n    '': 162,\n    '': 163,\n    '': 164,\n    '': 165,\n    '': 166,\n    '': 167,\n    '': 168,\n    '': 169,\n    '': 170,\n    '': 171,\n    '': 172,\n    '': 173,\n    '': 174,\n    '': 175,\n    '': 176,\n    '': 177,\n    '': 178,\n    '': 179,\n    '': 180,\n    '': 181,\n    '': 182,\n    '': 183,\n    '': 184,\n    '': 185,\n    '': 186,\n    '': 187,\n    '': 188,\n    '': 189,\n    '': 190,\n    '': 191,\n    '': 192,\n    '': 193,\n    '': 194,\n    '': 195,\n    '': 196,\n    '': 197,\n    '': 198,\n    '': 199,\n    '': 200,\n}\n\nexport const hebrewToIndoArabic = (hebrew_number: string): number => {\n    hebrew_number = hebrew_number.trim()\n    // first try cardinal numbers\n    let translate = hebrewCardinalNumbers[hebrew_number]\n    if (translate === undefined)\n        // second try ordinal numbers\n        translate = hebrewOrdinalToIndoArabic(hebrew_number)\n    return translate\n\n}\n\nexport const hebrewOrdinalsNumbers: TableHebrewToIndo = {\n    '': 1,\n    '': 2,\n    '': 3,\n    '': 4,\n    '': 5,\n    '': 6,\n    '': 7,\n    '': 8,\n    '': 9,\n    '': 10,\n    '': 11,\n    '': 12,\n    '': 13,\n    '': 14,\n    '': 15,\n    '': 16,\n    '': 17,\n    '': 18,\n    '': 19,\n    '': 20,\n    '': 21,\n    '': 22,\n    '': 23,\n    '': 24,\n    '': 25,\n    '': 26,\n    '': 27,\n    '': 28,\n    '': 29,\n    '': 30,\n    '': 31,\n    '': 32,\n    '': 33,\n    '': 34,\n    '': 35,\n    '': 36,\n    '': 37,\n    '': 38,\n    '': 39,\n    '': 40,\n    '': 41,\n    '': 42,\n    '': 43,\n    '': 44,\n    '': 45,\n    '': 46,\n    '': 47,\n    '': 48,\n    '': 49,\n    '': 50,\n    '': 51,\n    '': 52,\n    '': 53,\n    '': 54,\n    '': 55,\n    '': 56,\n    '': 57,\n    '': 58,\n    '': 59,\n    '': 60,\n    '': 61,\n    '': 62,\n    '': 63,\n    '': 64,\n    '': 65,\n    '': 66,\n    '': 67,\n    '': 68,\n    '': 69,\n    '': 70,\n    '': 71,\n    '': 72,\n    '': 73,\n    '': 74,\n    '': 75,\n    '': 76,\n    '': 77,\n    '': 78,\n    '': 79,\n    '': 80,\n    '': 81,\n    '': 82,\n    '': 83,\n    '': 84,\n    '': 85,\n    '': 86,\n    '': 87,\n    '': 88,\n    '': 89,\n    '': 90,\n    '': 91,\n    '': 92,\n    '': 93,\n    '': 94,\n    '': 95,\n    '': 96,\n    '': 97,\n    '': 98,\n    '': 99,\n    '': 100,\n    '': 101,\n    '': 102,\n    '': 103,\n    '': 104,\n    '': 105,\n    '': 106,\n    '': 107,\n    '': 108,\n    '': 109,\n    '': 110,\n    '': 111,\n    '': 112,\n    '': 113,\n    '': 114,\n    '': 115,\n    '': 116,\n    '': 117,\n    '': 118,\n    '': 119,\n    '': 120,\n    '': 121,\n    '': 122,\n    '': 123,\n    '': 124,\n    '': 125,\n    '': 126,\n    '': 127,\n    '': 128,\n    '': 129,\n    '': 130,\n    '': 131,\n    '': 132,\n    '': 133,\n    '': 134,\n    '': 135,\n    '': 136,\n    '': 137,\n    '': 138,\n    '': 139,\n    '': 140,\n    '': 141,\n    '': 142,\n    '': 143,\n    '': 144,\n    '': 145,\n    '': 146,\n    '': 147,\n    '': 148,\n    '': 149,\n}\n\nexport const hebrewOrdinalToIndoArabic = (hebrew_ordinal: string): number => hebrewOrdinalsNumbers[hebrew_ordinal]\n\n","import React, {useContext, useEffect} from 'react'\nimport {makeStyles} from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport {\n    BIBLE_ENGLISH,\n    BIBLE_HEBREW,\n    BIBLE_VERSE,\n    BIBLE_CHAPTER,\n    BIBLE_RENDER_CHAPTER,\n    REFS_HE,\n    REFS_EN,\n} from \"../../constants/constants\";\nimport Tooltip from '@material-ui/core/Tooltip';\nimport RefsBadge from \"../general/RefsBadge\";\nimport {observer} from 'mobx-react-lite';\nimport {storeContext} from '../../stores/context'\nimport {indoArabicToHebrew} from \"../../utils/english-hebrew/numberConvertion\";\n\n\nconst ChapterHeaderVerse = ({data, item, gridVisibleRange, paneNumber, audioBookPlaying, speaking}) => {\n    const store = useContext(storeContext)\n    const allBookData = store.getBookData(paneNumber)\n    const lang = store.getLanguage(paneNumber)\n    const classes = useStyles({lang})\n    const chapter = data[BIBLE_CHAPTER]\n    const renderChapter = data[BIBLE_RENDER_CHAPTER]\n    const refsHe = parseInt(data[REFS_HE])\n    const refsEn = parseInt(data[REFS_EN])\n    let chapterHtml = null\n\n    const updateItemDistance = (i) => {\n        store.setCurrentItem(i, paneNumber)\n        store.setDistance(i - gridVisibleRange.startIndex, paneNumber)\n    }\n\n    const onDoubleClick = (i) => {\n        if (audioBookPlaying || speaking) {\n           return\n        }\n        store.setCurrentItem(i, paneNumber)\n        store.setDistance(0, paneNumber)\n        store.setIsRightPaneOpen(!store.getIsRightPaneOpen(paneNumber), paneNumber)\n    }\n\n    const onClick = (i) => {\n        if (audioBookPlaying || speaking) {\n            return\n        }\n\n        updateItemDistance(i)\n    }\n\n    if (renderChapter === \"1\") {\n\n        chapterHtml = (\n            <div className={classes.chapter}>\n                <div className={classes.chapterNumber}>\n                    <Typography className={classes.ch}>{lang === 'he' ? indoArabicToHebrew(chapter) : chapter}</Typography>\n                    <hr/>\n                </div>\n            </div>)\n    }\n\n\n    let current = null\n    const startIndex = gridVisibleRange.startIndex\n    if (audioBookPlaying || speaking) {\n        current = store.getCurrentItem(paneNumber)\n    } else {\n        current = startIndex + store.getDistance(paneNumber)\n    }\n    let found = item === current\n\n\n    useEffect(() => {\n        store.setRefsChapterVerse(allBookData[current][BIBLE_CHAPTER], allBookData[current][BIBLE_VERSE], paneNumber)\n        store.setVerseData(allBookData[current], paneNumber)\n    }, [allBookData[current][BIBLE_CHAPTER], allBookData[current][BIBLE_VERSE], paneNumber])\n\n    const ChapterBody = () => {\n        switch (lang) {\n            case 'en_he':\n                return (\n                    <>\n                        <div className={classes.references}>\n                            <RefsBadge refsCount={refsHe} color=\"primary\"/>\n                        </div>\n                        <div className={classes.verseHe}>\n                            <Typography variant=\"body1\" className={classes.hebrewFont}>{data[BIBLE_HEBREW]}</Typography>\n                        </div>\n                        <div className={classes.verseNumber}>\n                            <Typography className={classes.vn}>{data[BIBLE_VERSE]}</Typography>\n                        </div>\n                        <div className={classes.verseEn}>\n                            <Typography variant=\"body1\" className={classes.englishFont}>{data[BIBLE_ENGLISH]}</Typography>\n                        </div>\n                        <div className={classes.references}>\n                            <RefsBadge refsCount={refsEn} color=\"primary\"/>\n                        </div>\n                    </>\n                )\n            case 'he':\n                return (\n                    <>\n                        <div className={classes.references}>\n                            <RefsBadge refsCount={refsHe} color=\"primary\"/>\n                        </div>\n                        <div className={classes.verseHe}>\n                            <Typography className={classes.hebrewFont}>{data[BIBLE_HEBREW]}</Typography>\n                        </div>\n\n                        <div className={classes.verseNumber}>\n                            <Tooltip title={data[BIBLE_VERSE]} placement=\"top\">\n                                <Typography className={classes.vn}>{indoArabicToHebrew(data[BIBLE_VERSE])}</Typography>\n                            </Tooltip>\n                        </div>\n                    </>\n                )\n            case 'en':\n                return (\n                    <>\n                        <div className={classes.verseNumber}>\n                            <Tooltip title={indoArabicToHebrew(data[BIBLE_VERSE])} placement=\"top\">\n                                <Typography className={classes.vn}>{data[BIBLE_VERSE]}</Typography>\n                            </Tooltip>\n                        </div>\n                        <div className={classes.verseEn}>\n                            <Typography className={classes.englishFont}>{data[BIBLE_ENGLISH]}</Typography>\n                        </div>\n                        <div className={classes.references}>\n                            <RefsBadge refsCount={refsEn} color=\"primary\"/>\n                        </div>\n                    </>\n                )\n            default: {\n                console.log(`Unknown language: ${lang}`)\n            }\n        }\n    }\n    return (\n        <div className={classes.verse}>\n            {chapterHtml}\n            <div className={`${classes.textContainer} ${(found ? classes.selectVerse : '')}`}\n                 onClick={onClick.bind(this, item)}\n                 onDoubleClick={onDoubleClick.bind(this, item)}>\n                <ChapterBody/>\n            </div>\n\n        </div>\n    )\n}\n\n\nconst useStyles = makeStyles(() => ({\n\n    textContainer: {\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        flexWrap: 'wrap',\n        justifyContent: 'center',\n        alignItems: 'top',\n\n    },\n    chapter: {\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        flexWrap: 'wrap',\n        justifyContent: 'center',\n        alignItems: 'center',\n        cursor: 'default',\n    },\n    chapterTitle_he: {\n        maxWidth: '35%',\n        minWidth: '35%',\n        margin: 10,\n    },\n    he: {\n        fontSize: 22,\n        direction: ((props) => props.lang === 'he' ? 'RTL' : 'LTR'),\n        textDecoration: 'underline',\n        textDecorationColor: '#c6c6c6',\n    },\n    en: {\n        fontSize: 22,\n        textDecoration: 'underline',\n        textDecorationColor: '#c6c6c6',\n    },\n    ch: {\n        fontSize: 18,\n        color: 'gray',\n        direction: 'RTL',\n        fontFamily: 'SBL Hebrew',\n    },\n    chapterTitle_en: {\n        maxWidth: '35%',\n        minWidth: '35%',\n        margin: 10,\n    },\n    chapterNumber: {\n        minWidth: '5%',\n        margin: 10,\n        textAlign: 'center',\n        verticalAlign: 'text-top',\n        fontSize: 20,\n        color: 'gray'\n    },\n    verseHe: {\n        maxWidth: ((props) => props.lang === 'he' ? '45%' : '35%'),\n        minWidth: ((props) => props.lang === 'he' ? '45%' : '35%'),\n        textAlign: 'right',\n        verticalAlign: 'center',\n        margin: 10,\n        fontFamily: 'SBL Hebrew',\n        fontSize: '21px',\n    },\n    verseNumber: {\n        margin: 10,\n        maxWidth: '5%',\n        minWidth: '5%',\n        textAlign: 'center',\n        alignSelf: 'center',\n    },\n    vn: {\n        fontSize: 12,\n        color: 'gray',\n        direction: ((props) => props.lang === 'he' ? 'RTL' : 'LTR')\n    },\n    verse: {\n        cursor: 'pointer',\n    },\n    verseEn: {\n        maxWidth: ((props) => props.lang === 'en' ? '45%' : '35%'),\n        minWidth: ((props) => props.lang === 'en' ? '45%' : '35%'),\n        textAlign: 'left',\n        verticalAlign: 'text-top',\n        margin: 10,\n        fontSize: '21px',\n    },\n    hebrewFont: {\n        direction: 'RTL',\n        fontFamily: 'SBL Hebrew',\n        fontSize: 21,\n    },\n    englishFont: {\n        direction: 'LTR',\n        fontFamily: 'SBL Hebrew',\n        fontSize: 21,\n    },\n    selectVerse: {\n        backgroundColor: '#11c4f114',\n    },\n    references: {\n        cursor: 'pointer',\n        alignSelf: 'center',\n        maxWidth: '5%',\n    },\n    playButton: {\n        cursor: 'pointer',\n        position: 'absolute',\n        minWidth: '50',\n    },\n}))\n\nexport default observer(ChapterHeaderVerse)","import React, {FC, useContext} from \"react\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport {observer} from \"mobx-react-lite\"\nimport {makeStyles} from '@material-ui/core/styles'\nimport {LANGUAGE_KEY, LANGUAGE_SYMBOL} from \"../../constants/constants\"\nimport {storeContext} from \"../../stores/context\"\nimport {langButton} from './types';\n\n\nconst LanguageButton: FC<langButton> = ({paneNumber}) => {\n    const store = useContext(storeContext)\n    const classes = useStyles()\n\n    const onClick = () => {\n        store.nextLanguage(paneNumber)\n    }\n\n\n    return <IconButton\n        aria-label=\"select language\"\n        component=\"span\"\n        className={classes.langButton}\n        onClick={onClick}>\n        {LANGUAGE_SYMBOL[LANGUAGE_KEY[store.getLanguage(paneNumber)]]}\n    </IconButton>\n\n}\n\nconst useStyles = makeStyles((theme) => ({\n    langButton: {\n        minWidth: 48,\n        minHeight: 48,\n        fontFamily: \"SBL Hebrew\",\n        fontSize: 18,\n        lineHeight: 0,\n        padding: 1,\n    }\n}));\n\nexport default observer(LanguageButton)","import React, {FC} from \"react\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {ButtonProps} from './types';\n\n\nexport const CloseButton: FC<ButtonProps> = ({onClick, color = \"inherit\"}) =>\n    <IconButton aria-label=\"Close\"\n                component=\"span\"\n                color={color}\n                onClick={onClick}>\n        <CloseIcon/>\n    </IconButton>\n\n","export default __webpack_public_path__ + \"static/media/record_voice_over_black_24dp.7097292f.svg\";","export default __webpack_public_path__ + \"static/media/voice_over_off_black_24dp.fabf4034.svg\";","export default __webpack_public_path__ + \"static/media/record_voice_over_white_24dp.9e5c8785.svg\";","export default __webpack_public_path__ + \"static/media/voice_over_off_white_24dp.5c429827.svg\";","import React, {FC} from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {ButtonPropsOnOff} from './types';\nimport {useTheme} from '@material-ui/core/styles';\nimport textToSpeechOnBlack from '../../img/record_voice_over_black_24dp.svg'\nimport textToSpeechOffBlack from '../../img/voice_over_off_black_24dp.svg'\nimport textToSpeechOnWhite from '../../img/record_voice_over_white_24dp.svg'\nimport textToSpeechOffWhite from '../../img/voice_over_off_white_24dp.svg'\n\n\nexport const TextToSpeechButton: FC<ButtonPropsOnOff> = ({onClick, color, onOff, isSpeechError}) => {\n\n    const theme = useTheme()\n\n    if (isSpeechError) return null;\n\n    if (theme.palette.type === 'dark') {\n        return (\n            <IconButton aria-label=\"Close\"\n                        component=\"span\"\n                        onClick={onClick}>\n                {(onOff ? <img src={textToSpeechOnWhite} width={24} height={24} alt=\"Speech on\"/> :\n                    <img src={textToSpeechOffWhite} width={24} height={24} alt=\"Speech off\"/>)}\n            </IconButton>\n        )\n    }\n    return (\n        <IconButton aria-label=\"Close\"\n                    component=\"span\"\n                    onClick={onClick}>\n            {(onOff ? <img src={textToSpeechOnBlack} width={24} height={24} alt=\"Speech on\"/> :\n                <img src={textToSpeechOffBlack} width={24} height={24} alt=\"Speech off\"/>)}\n        </IconButton>\n    )\n}","import React, {FC} from \"react\";\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {ButtonPropsOnOff} from './types';\n\n\nexport const AudioBookButton: FC<ButtonPropsOnOff> = ({onClick, color=\"inherit\", onOff}) =>\n    <IconButton aria-label=\"Close\"\n                component=\"span\"\n                color={color}\n                onClick={onClick}>\n        {( ! onOff ? <PlayArrowIcon/>: <PauseIcon/>)}\n    </IconButton>\n\n","import React, {FC, MouseEventHandler} from 'react';\nimport {TextToSpeechButton} from '../buttons/textToSpeechButton';\nimport {AudioBookButton} from '../buttons/AudioBookButton';\n\n\ninterface AudioBookProps {\n    isAudioBook: boolean;\n    flip: boolean[];\n    isSpeechError: boolean;\n    onAudioBookOnOff: MouseEventHandler;\n    audioBookPlaying: boolean;\n    onSpeakOnOffHe: MouseEventHandler;\n}\n\nexport const IsAudioBook: FC<AudioBookProps> = ({\n                                                    isAudioBook,\n                                                    flip,\n                                                    isSpeechError,\n                                                    onAudioBookOnOff,\n                                                    audioBookPlaying,\n                                                    onSpeakOnOffHe,\n                                                }) =>\n    (isAudioBook ?\n            <AudioBookButton onClick={onAudioBookOnOff} onOff={audioBookPlaying} isSpeechError={isSpeechError}/>\n            :\n            <TextToSpeechButton onClick={onSpeakOnOffHe} onOff={flip[0]} isSpeechError={isSpeechError}/>\n    );","import React, {useContext} from 'react'\nimport {Typography} from '@material-ui/core';\nimport {englishBookNameToHebrew, unslug} from '../../utils/utils'\nimport {indoArabicToHebrewCardinal} from '../../utils/english-hebrew/numberConvertion'\nimport {Grid} from '@material-ui/core';\nimport {makeStyles} from '@material-ui/core/styles'\nimport {storeContext} from \"../../stores/context\";\nimport LanguageButton from \"../buttons/LanguageButton\";\nimport {CloseButton} from \"../buttons/CloseButton\";\nimport {TextToSpeechButton} from \"../buttons/textToSpeechButton\";\nimport {IsAudioBook} from \"../audio/IsAudioBook\";\n\nconst RenderHeader = ({\n                          book,\n                          paneNumber,\n                          chapter,\n                          onClosePane,\n                          isSpeechError,\n                          flip,\n                          onSpeakOnOffHe,\n                          onSpeakOnOffEn,\n                          onAudioBookOnOff,\n                          audioBookPlaying,\n                          isAudioBook,\n                      }) => {\n\n    const store = useContext(storeContext)\n\n    const lang = store.getLanguage(paneNumber)\n    const classes = useStyles({lang})\n\n    const onClose = () => {\n        onClosePane(paneNumber)\n    }\n\n    book = unslug(book)\n\n    const HeaderBody = ({chapter}) => {\n\n        switch (lang) {\n            case 'en_he':\n                return (\n                    <>\n                        <Grid item xs={3} key={2}>\n                            <Typography className={classes.hebrewBook}>{englishBookNameToHebrew(book)}</Typography>\n                        </Grid>\n                        <Grid item xs={1} key={3}>\n\n                            <IsAudioBook isAudioBook={isAudioBook}\n                                         flip={flip[0]}\n                                         isSpeechError={isSpeechError ===1 || isSpeechError === 3}\n                                         onAudioBookOnOff={onAudioBookOnOff}\n                                         audioBookPlaying={audioBookPlaying}\n                                         onSpeakOnOffHe={onSpeakOnOffHe}\n                            />\n\n                        </Grid>\n                        <Grid item xs={2} key={4}>\n                            <Typography className={classes.chapterView}>{chapter}</Typography>\n                        </Grid>\n                        <Grid className={classes.adjust} item xs={1} key={5}>\n                            <TextToSpeechButton\n                                onClick={onSpeakOnOffEn}\n                                onOff={flip[1]}\n                                isSpeechError={isSpeechError >=2}\n                            />\n\n                        </Grid>\n                        <Grid item xs={3} key={6}>\n                            <Typography className={classes.englishBook}>{book} </Typography>\n                        </Grid>\n\n                    </>\n                )\n            case 'he':\n                return (\n                    <>\n                        <Grid item xs={9} key={7}>\n                            <Typography className={classes.hebrewBook}>\n                                {englishBookNameToHebrew(book)}\n                                {' '}\n                                {indoArabicToHebrewCardinal(chapter)}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={1} key={8}>\n                            <IsAudioBook isAudioBook={isAudioBook}\n                                         flip={flip[0]}\n                                         isSpeechError={isSpeechError ===1 || isSpeechError === 3}\n                                         onAudioBookOnOff={onAudioBookOnOff}\n                                         audioBookPlaying={audioBookPlaying}\n                                         onSpeakOnOffHe={onSpeakOnOffHe}\n                            />\n                        </Grid>\n                    </>\n                )\n            case 'en':\n                return (\n                    <>\n                        <Grid item xs={9} key={9}>\n                            <Typography className={classes.englishBook}>\n                                {book}\n                                {' '}\n                                {chapter}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={1} key={10}>\n                            <TextToSpeechButton\n                                onClick={onSpeakOnOffEn}\n                                onOff={flip[1]}\n                                isSpeechError={isSpeechError >=2}\n                            />\n                        </Grid>\n                    </>\n                )\n            default: {\n                console.log(`Unknown language: ${lang}`)\n            }\n        }\n    }\n\n    return (\n        <Grid container className={classes.header} direction=\"row\">\n            <Grid item xs={1} key={0}>\n                <CloseButton onClick={onClose}/>\n            </Grid>\n            <HeaderBody chapter={chapter}/>\n            <Grid item xs={1} key={1}>\n                <LanguageButton paneNumber={paneNumber}/>\n            </Grid>\n        </Grid>\n    )\n\n\n}\n\n\nconst useStyles = makeStyles((theme) => ({\n    header: {\n        flexGrow: 1,\n        minHeight: 50,\n        maxHeight: 50,\n        width: '100%',\n        textAlign: 'center',\n        marginTop: 0,\n        [theme.breakpoints.down('sm')]: {\n            marginTop: 26,\n        }\n    },\n    hebrewBook: {\n        textAlign: ((props) => props.lang === 'he' ? 'center' : 'right'),\n        verticalAlign: 'middle',\n        direction: 'rtl',\n        fontFamily: 'SBL Hebrew',\n        paddingTop: 10,\n        [theme.breakpoints.down('sm')]: {\n            marginRight: -5,\n        },\n\n\n    },\n    center: {\n        maxWidth: '31.5%',\n    },\n    adjust: {\n        [theme.breakpoints.down('sm')]: {\n            marginLeft: '-23px',\n            marginRight: 8,\n        },\n    },\n    chapterView: {\n        textAlign: 'center',\n        verticalAlign: 'middle',\n        paddingTop: 10,\n        [theme.breakpoints.down('sm')]: {\n            paddingRight: 10,\n        },\n\n    },\n    englishBook: {\n        verticalAlign: 'middle',\n        textAlign: ((props) => props.lang === 'en' ? 'center' : 'left'),\n        paddingTop: 10,\n        paddingLeft: 30,\n        [theme.breakpoints.down('sm')]: {\n            paddingLeft: ((props) => props.lang === 'en' ? 33 : 0),\n        },\n\n    },\n\n}));\n\nexport default RenderHeader","import {makeAutoObservable, observable} from \"mobx\"\nimport {CallBack} from '../types/commonTypes';\n\n\nclass AudioBook {\n\n    audio: any = null\n    title: string = ''\n    ready: boolean = false\n    callback: CallBack = () => {}\n    ended = () => {}\n    loading: boolean = false\n    playing: boolean = false\n\n    constructor() {\n        makeAutoObservable(this, {\n            audio: observable,\n            title: observable,\n            ready: observable,\n            playing: observable,\n        })\n\n        this.audio = new Audio()\n\n        this.audio.ontimeupdate = () => {\n            this.callback(this.audio.currentTime)\n        }\n\n        this.audio.onended = () => {\n            this.ended()\n            // console.log('Audio ended')\n        }\n\n        this.audio.loadeddata = () => {\n            if (this.audio.readyState === 4) {\n                this.ready = true\n                this.loading = false\n            }\n        }\n    }\n\n    load = (url: string, title: string = ''): void => {\n        this.title = (title === '' ? url : title)\n        this.audio.src = url\n        this.audio.preload = 'auto'\n    }\n    // better this Function=() => void\n    play = (start: number = 0,\n            onUpdate = () => {},\n            ended =()=>{}): void => {\n        this.callback = onUpdate\n        this.ended = ended\n        this.audio.currentTime = start\n        this.audio.play()\n        this.playing = true\n    }\n\n    pause = (): void => {\n        this.audio.pause()\n    }\n\n    stop = (): void => {\n        this.callback = () => {}\n        this.audio.pause()\n        this.ready = false\n        this.audio.currentTime = 0\n        this.playing = false\n    }\n\n    cancel = (): void => {\n        this.stop()\n    }\n    getIsPlaying = (): boolean => this.playing\n}\n\nconst audioBookStore = () => new AudioBook()\n\nexport default audioBookStore;\n","import React, {createContext} from 'react';\nimport {useLocalObservable} from 'mobx-react-lite';\nimport audioBookStore from \"./audioBook\";\n\n\nexport const AudioBookContext = createContext();\n\nconst AudioBookProvider = ({children}) => {\n    const data = useLocalObservable(audioBookStore);\n    return (\n        <AudioBookContext.Provider value={data}>\n            {children}\n        </AudioBookContext.Provider>\n    )\n}\n\nexport default AudioBookProvider;","import {makeAutoObservable, observable} from \"mobx\"\n\n\nconst ENGLISH = 0\nconst HEBREW = 1\nconst NO_ERROR = 0\nconst HEBREW_VOICE = 1\nconst ENGLISH_VOICE = 2\nconst NOT_SUPPORTED = 4\n\nclass TextToSpeech {\n\n    synthesise: any = null\n    paused = false\n    resumed = false\n    error = NO_ERROR\n    onError = ''\n    started = false\n    ended = false\n    voice = [-1, -1]\n    language = \"en\"\n    // should call callback\n    canceled = false\n    errorReported = false\n\n    constructor() {\n        makeAutoObservable(this, {\n            synthesise: observable,\n            paused: observable,\n            resumed: observable,\n            error: observable,\n            started: observable,\n            ended: observable,\n            voice: observable,\n            language: observable,\n            canceled: observable\n        })\n\n        // check if browser supports speech synthesis\n        if ('speechSynthesis' in window) {\n            // in future make voices configurable\n            new Promise(resolve => window.speechSynthesis.onvoiceschanged = resolve)\n                .then(() => {\n                    let voices = window.speechSynthesis.getVoices()\n                    this.setVoice([\n                        voices.findIndex(v => v.name === 'Daniel'),\n                        voices.findIndex(v => v.name === 'Carmit')\n                    ])\n\n                    if (this.voice[HEBREW] === -1) {\n                        this.error += HEBREW_VOICE\n                    }\n                    if (this.voice[ENGLISH] === -1) {\n                        this.error += ENGLISH_VOICE\n                    }\n                    // error = 3 no Hebrew or English voices\n                })\n                .catch((e) => {\n                    // console.log(e.message)\n                })\n        } else {\n            // Speech Synthesis Not Supported \n            this.error = NOT_SUPPORTED\n        }\n    }\n\n    setLanguage = (language: string) => {\n        this.language = language\n    }\n\n    setVoice = (voice: any[]) => {\n        this.voice = voice\n    }\n\n    getVoice = () => this.voice[this.getIndex()]\n\n    getLanguage = () => this.language\n\n    getIndex = (): number => (this.language === 'en' ? 0 : 1)\n\n    play = (data: Array<any>, callback: Function) => {\n        this.synthesise = new SpeechSynthesisUtterance(data[this.getIndex()])\n        this.synthesise.voice = window.speechSynthesis.getVoices()[this.getVoice()]\n        this.synthesise.volume = 10\n        this.synthesise.pitch = 1\n        this.synthesise.rate = 0.7\n\n        this.synthesise.onend = () => {\n            this.started = false\n            this.resumed = false\n            this.paused = false\n            this.ended = true\n            if (!this.canceled) {\n                callback()\n            }\n        }\n\n        this.synthesise.onpause = () => {\n        }\n\n        this.synthesise.onresume = () => {\n            this.resumed = true\n            this.paused = false\n        }\n\n        this.synthesise.onerror = (e:SpeechSynthesisErrorEvent) => this.onError = e.error\n\n        this.synthesise.onstart = () => {\n            this.started = true\n            this.resumed = false\n            this.paused = this.synthesise.paused\n            this.canceled = false\n        }\n        speechSynthesis.speak(this.synthesise)\n    }\n\n    pause = () => {\n        this.resumed = false\n        this.paused = true\n        speechSynthesis.pause()\n    }\n\n    cancel = () => {\n        this.canceled = true\n        speechSynthesis.cancel()\n    }\n    getVoicesStatusError = () => this.error\n\n    errorAlreadyReported = () => this.errorReported\n\n    setErrorReported = (errorReported: boolean) => {\n        this.errorReported = errorReported\n    }\n\n    // getOnErrorMessage = () => this.onError\n\n}\n\nconst ttSpeechStore = () => new TextToSpeech()\n\nexport default ttSpeechStore;","import React,{createContext} from 'react';\nimport {useLocalObservable} from 'mobx-react-lite';\nimport ttSpeechStore from './ttSpeech';\n\nexport const speechContext = createContext();\n\nconst SpeechProvider = ({children}) => {\n    const data = useLocalObservable(ttSpeechStore);\n    return (\n        <speechContext.Provider value={data}>\n            {children}\n        </speechContext.Provider>\n    )\n}\n\nexport default SpeechProvider;","import React, {useContext, useEffect, useRef, useState} from 'react'\nimport {Virtuoso} from 'react-virtuoso'\nimport ChapterHeaderVerse from './ChapterHeaderVerse'\nimport RenderHeader from './RenderHeader'\nimport {observer} from 'mobx-react-lite'\nimport {storeContext} from \"../../stores/context\";\nimport {AudioBookContext} from \"../../stores/audioBookContext\";\nimport {speechContext} from \"../../stores/ttspeechContext\";\nimport {audioBooksUrl, versesByBibleBook} from \"../../constants/constants\";\nimport {\n    START_AUDIO_BOOK,\n    AUDIO_BOOK_ID,\n    SCROLL_LATENCY_MS,\n    SCROLL_LATENCY_SECONDS,\n} from \"../../constants/constants\";\nimport {messageContext} from \"../../stores/messages/messageContext\";\n\n\nconst RenderTextGrid = ({paneNumber, onClosePane}) => {\n    const store = useContext(storeContext)\n    const speech = useContext(speechContext)\n    const audioBookStore = useContext(AudioBookContext)\n    const message = useContext(messageContext)\n    const book = store.getBook(paneNumber)\n    const [speaking, setSpeaking] = useState(false)\n    const [audioBookPlaying, setAudioBookPlaying] = useState(false)\n    const [flip, setFlip] = useState([false, false])\n    const [gridVisibleRange, setGridVisibleRange] = useState({startIndex: 0, endIndex: 0})\n    const virtuoso = useRef(null)\n\n    const callFromEnded = (set = true) => {\n\n        if (audioBookStore.getIsPlaying()) {\n            store.setCurrentItem(store.getCurrentItem(paneNumber) + 1, paneNumber)\n            if (store.getDistance(paneNumber) !== 1) {\n                store.setDistance(1, paneNumber)\n            }\n        }\n\n        setTimeout(() => {\n            //     @ts-ignore\n            virtuoso.current.scrollToIndex({\n                index: store.getCurrentItem(paneNumber),\n                align: 'start',\n                behavior: 'smooth'\n            })\n            // speech synthesis only!\n            if (set) setSpeaking(() => true)\n        }, SCROLL_LATENCY_MS)\n    }\n\n    const onTimeUpdate = (currentTime) => {\n        const [start, end, id] =store.getAudioBookData(paneNumber)\n        const lastId = store.getLastId(paneNumber)\n        // console.log('onTimeUpdate start',start,'end', end,'current time', currentTime)\n        // console.log('onTimeUpdate id', id ,'last id', lastId, 'current item', store.getCurrentItem(paneNumber))\n\n\n        if (start === 0 && end === 0) {\n            setAudioBookPlaying(false)\n            audioBookStore.stop()\n            return\n        }\n\n        if ( currentTime + SCROLL_LATENCY_SECONDS > end && lastId === id) {\n            // console.log('onTimeUpdate callFromEnded', store.getCurrentItem(paneNumber))\n            callFromEnded(false)\n        }\n    }\n\n    const onAudioBookEnded = () => {\n        // console.log('onAudioBookEnded', store.getCurrentItem(paneNumber))\n        setAudioBookPlaying(() => false)\n        onAudioBookOnOff()\n    }\n    const onAudioBookOnOff = () => {\n\n        if (!audioBookPlaying) {\n            let audioData  = store.getAudioBookData(paneNumber)\n            store.setLastId(audioData[AUDIO_BOOK_ID], paneNumber)\n            // console.log('onAudioBookOnOff', audioData[AUDIO_BOOK_ID])\n            const audioFile = store.getBookAudioFile(paneNumber)\n            audioBookStore.load(`${audioBooksUrl}${audioFile}`, book)\n            // callFromEnded(false)\n            audioBookStore.play(audioData[START_AUDIO_BOOK], onTimeUpdate, onAudioBookEnded)\n            setAudioBookPlaying(() => true)\n        } else {\n            setAudioBookPlaying(() => false)\n        }\n\n    }\n\n    const onSpeakOnOffEn = () => {\n        if (speaking) {\n            setSpeaking(false)\n            setFlip([false, false])\n            speech.cancel()\n        } else {\n            setFlip([false, true])\n            speech.setLanguage('en')\n            setSpeaking(true)\n        }\n    }\n\n    const onSpeakOnOffHe = () => {\n        if (speaking) {\n            setSpeaking(false)\n            setFlip([false, false])\n            speech.cancel()\n        } else {\n            setFlip([true, false])\n            speech.setLanguage('he')\n            setSpeaking(true)\n        }\n    }\n\n    useEffect(() => {\n        // todo:Move this to the store\n        const error = speech.getVoicesStatusError()\n        if (speech.errorAlreadyReported()) return\n        if (error === 1) message.setMessage('Hebrew voice not found!')\n        if (error === 2) message.setMessage('English voice not found!')\n        if (error === 3) message.setMessage('Hebrew and  English voice not found!')\n        if (error) speech.setErrorReported(true)\n\n    })\n\n    useEffect(() => {\n        return () => {\n            if (audioBookPlaying) {\n                audioBookStore.cancel()\n            }\n        }\n    }, [audioBookPlaying])\n\n    useEffect(() => {\n        if (speaking) {\n            speech.play(store.getBookData(paneNumber)[store.getCurrentItem(paneNumber)], callFromEnded)\n        }\n        return () => {\n            speech.cancel()\n        }\n    }, [store.getCurrentItem(paneNumber), speaking, paneNumber, speech])\n\n\n    const calculateCurrentChapter = () => {\n        let book = store.getBook(paneNumber)\n        let avg = gridVisibleRange.startIndex + 1\n        let start = 0\n        let end = 0\n        for (let i = 0; i < versesByBibleBook[book].length; i++) {\n            end += versesByBibleBook[book][i]\n            if (avg >= start && avg <= end) {\n                return i + 1\n            }\n            start = end\n        }\n    }\n\n    const itemContent = (item, data) => <ChapterHeaderVerse\n        data={data}\n        item={item}\n        gridVisibleRange={gridVisibleRange}\n        paneNumber={paneNumber}\n        audioBookPlaying={audioBookPlaying}\n        speaking={speaking}\n\n    />\n    let currentChapter = calculateCurrentChapter()\n\n    return (\n        <>\n            <RenderHeader book={book}\n                          paneNumber={paneNumber}\n                          chapter={currentChapter}\n                          onClosePane={onClosePane}\n                          isSpeechError={speech.getVoicesStatusError()}\n                          onSpeakOnOffHe={onSpeakOnOffHe}\n                          onSpeakOnOffEn={onSpeakOnOffEn}\n                          flip={flip}\n                          onAudioBookOnOff={onAudioBookOnOff}\n                          audioBookPlaying={audioBookPlaying}\n                          isAudioBook={store.isAudioBook(paneNumber)}\n\n            />\n            {/* must update current item when click on torah Portions */}\n            <Virtuoso\n                data={store.getBookData(paneNumber)}\n                ref={virtuoso}\n                initialTopMostItemIndex={store.getCurrentItem(paneNumber)}\n                rangeChanged={setGridVisibleRange}\n                itemContent={itemContent}\n                components={{\n                    Footer: () => {\n                        return (\n                            <div style={{padding: '1rem', textAlign: 'center'}}>\n                                Book end.\n                            </div>\n                        )\n                    }\n                }}\n            />\n        </>\n    )\n}\nexport default observer(RenderTextGrid)\n","// translate error messages, in a way that is more user-friendly\n// add some action to every error\n\nexport const translateMessage = (error:unknown) => {\n    // maybe some other solution ??\n    const message =(error as any).message\n    switch (message) {\n        case 'Cannot read properties of undefined (reading \\'indexOf\\')':\n            // todo add action where !\n            return 'This Bible reference is unknown! A message was sent to site administrators'\n        default: {\n            // todo add action where !\n            return 'Unknown error message.'\n        }\n    }\n}","import React, {FC} from \"react\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {ButtonProps} from './types';\n\nexport const InfoButton: FC<ButtonProps> = ({onClick, color = \"inherit\"}) =>\n    <IconButton aria-label=\"Close\"\n                component=\"span\"\n                color={color}\n                onClick={onClick}>\n        <InfoIcon/>\n    </IconButton>\n\n","import React, {FC} from \"react\";\nimport TocIcon from \"@material-ui/icons/Toc\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {ButtonProps} from './types';\n\nexport const TocButton: FC<ButtonProps> = ({onClick, color = \"inherit\"}) =>\n    <IconButton aria-label=\"Close\"\n                component=\"span\"\n                color={color}\n                onClick={onClick}>\n        <TocIcon/>\n    </IconButton>\n\n","import React, {FC} from \"react\";\nimport MenuBookButton from \"@material-ui/icons/MenuBook\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {ButtonProps} from './types';\n\n\nexport const BookButton: FC<ButtonProps> = ({onClick, color=\"inherit\"}) =>\n    <IconButton aria-label=\"Close\"\n                component=\"span\"\n                color={color}\n                onClick={onClick}>\n        <MenuBookButton/>\n    </IconButton>\n\n","import React, {FC} from \"react\";\nimport ShoppingCart from \"@material-ui/icons/ShoppingCart\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {ButtonProps} from './types';\n\n\nexport const BuyButton: FC<ButtonProps> = ({onClick, color}) =>\n    <IconButton aria-label=\"Buy\" style={{color: \"indianred\"}}\n                component=\"span\"\n                color={color}\n                onClick={onClick}>\n        <ShoppingCart/>\n    </IconButton>\n","import React, {useContext, useEffect, useState, FC} from \"react\";\nimport {AudioBookContext} from \"../../../stores/audioBookContext\";\nimport {messageContext} from \"../../../stores/messages/messageContext\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PauseIcon from \"@material-ui/icons/Pause\";\nimport PlayArrowIcon from \"@material-ui/icons/PlayArrow\";\nimport FastRewindIcon from \"@material-ui/icons/FastRewind\";\nimport {songsUrl} from \"../../../constants/constants\";\n\ninterface SongProps {\n    song: {'song_file':string, song_title:string}[];\n    index: number;\n}\n\nexport const BasicAudioPlayer:FC<SongProps> = ({song, index}) => {\n\n    const message = useContext(messageContext);\n    const audioBookStore = useContext(AudioBookContext)\n    const [mouseEnter, setMouseEnter] = useState(false);\n    const [playing, setPlaying] = useState(false);\n    const [paused, setPaused] = useState(false);\n\n    const onMouseEnter = () => {\n        if (!mouseEnter) {\n            setMouseEnter(true);\n            message.setMessage(`Playing ${song[index]['song_title']}`, 'info');\n        }\n    }\n\n    const onMouseLeave = () => {\n        setMouseEnter(false);\n    }\n\n    const play = () => {\n        if (playing) {\n            setPlaying(false);\n            pause();\n        } else {\n            setPlaying(true);\n            audioBookStore.play()\n        }\n    }\n\n    const pause = () => {\n        if (paused) {\n            setPaused(false)\n            audioBookStore.resume()\n        } else {\n            setPaused(true)\n            audioBookStore.pause()\n        }\n    }\n\n    const reset = () => {\n        setPlaying(false);\n        setPaused(false);\n        audioBookStore.reset()\n    }\n\n    useEffect(() => {\n        audioBookStore.load(`${songsUrl}${song[index]['song_file']}`, song[index]['song_title'])\n        return () => {\n            audioBookStore.stop()\n        }\n    }, [index, song, audioBookStore])\n\n    return (\n        <span>\n            <IconButton saria-label=\"Play pause song\"\n                        component=\"span\"\n                        onClick={play}>\n                {(playing ? <PauseIcon onMouseEnter={onMouseEnter} onMouseLeave={onMouseLeave}/> : <PlayArrowIcon/>)}\n            </IconButton>\n            <IconButton aria-label=\"Restart song \"\n                        component=\"span\"\n                        onClick={reset}>\n                {(playing ? <FastRewindIcon/> : null)}\n            </IconButton>\n    </span>\n    )\n}\n\n\n","import React, {FC, MouseEvent, useState} from 'react'\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport {SongList} from './types';\nimport {BasicAudioPlayer} from '../audio/audio-player/basic-audio-player';\nimport PlaylistPlayIcon from '@material-ui/icons/PlaylistPlay';\nimport IconButton from \"@material-ui/core/IconButton\";\n\n\nexport const MusicSelect: FC<SongList> = ({songs}) => {\n    const [anchorEl, setAnchorEl] = useState<null | HTMLButtonElement>(null);\n    const [index, setIndex] = useState(-1);\n\n    if (songs.length === 0) return null\n    if (songs.length === 1) return <BasicAudioPlayer song={songs} index={0}/>\n\n    const selectSong = (i: number) => {\n        setAnchorEl(null)\n        setIndex(i)\n    }\n\n    const onClick = (event: MouseEvent<HTMLButtonElement>) => {\n        setAnchorEl(event.currentTarget);\n    }\n\n    // const onResetPlayer = (): void => {\n    //     setIndex(-1)\n    // }\n\n    if (index !== -1) {\n        return <BasicAudioPlayer song={songs}  index={index}/>\n    }\n\n    return (\n        <span>\n            <IconButton aria-label=\"Open music selector\" aria-controls=\"select-music\" onClick={onClick} color={\"inherit\"}>\n                <PlaylistPlayIcon aria-controls=\"Select music from list\"/>\n            </IconButton>\n            <Menu\n                id=\"select-music\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={selectSong}>\n                {songs.map((song, index) => <MenuItem key={index} onClick={() => {\n                    selectSong(index)\n                }}>{song['song_title']}</MenuItem>)}\n            </Menu>\n        </span>\n    )\n}","import React, {useContext, FC} from 'react'\nimport {makeStyles} from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport {Grid} from '@material-ui/core'\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {unslug} from '../../utils/utils'\nimport {storeContext} from '../../stores/context'\nimport {CloseButton} from \"../buttons/CloseButton\";\nimport {InfoButton} from \"../buttons/InfoButton\";\nimport {TocButton} from '../buttons/TocButton';\nimport {BookButton} from '../buttons/BookButton';\nimport {BuyButton} from '../buttons/BuyButton';\nimport {MusicSelect} from '../buttons/music-select';\nimport {iOS} from '../../utils/utils';\nimport {ClosePanes, PaneNumber} from '../../types/commonTypes';\n\ninterface IProps {\n    paneNumber: number,\n    onClosePane: ClosePanes,\n    onIntroClick: PaneNumber\n    onTocClick: PaneNumber,\n    onBookClick: PaneNumber,\n    details: any,\n}\n\nconst KaraitesPaneHeader: FC<IProps> = ({\n                                            paneNumber,\n                                            onClosePane,\n                                            onIntroClick,\n                                            onTocClick,\n                                            onBookClick,\n                                            details\n                                        }) => {\n\n    const store = useContext(storeContext)\n    const classes = useStyles()\n    const matches = useMediaQuery('(min-width:600px)');\n    const direction = (matches ? 'row' : 'column')\n    const xsColumns1 = (matches ? 5 : 12)\n    const xsColumns2 = (matches ? 4 : 12)\n\n    const onClose = () => {\n        onClosePane(paneNumber)\n    }\n    const onIntro = () => {\n        onIntroClick(paneNumber)\n    }\n    const onToc = () => {\n        onTocClick(paneNumber)\n    }\n    const onBook = () => {\n        onBookClick(paneNumber)\n    }\n    const onBuy = () => {\n        window.open(details.buy_link)\n    }\n    return (\n        <Grid container\n              direction={direction}\n              className={classes.resources}\n              justifyContent=\"flex-start\"\n              alignItems=\"center\"\n              spacing={1}>\n\n            <Grid item xs={xsColumns1}>\n                <CloseButton onClick={onClose}/>\n                <InfoButton onClick={onIntro}/>\n                <TocButton onClick={onToc}/>\n                <BookButton onClick={onBook}/>\n                <MusicSelect songs={details.songs_list}/>\n                {(details.buy_link === '' ? null : <BuyButton onClick={onBuy}/>)}\n            </Grid>\n\n            <Grid item xs={xsColumns2}>\n                <Typography>{unslug(store.getBook(paneNumber))}</Typography>\n            </Grid>\n        </Grid>\n    )\n}\n\nconst useStyles = makeStyles({\n    resources: {\n        minHeight: 50,\n        padding: 0,\n        paddingTop: (iOS() ? 50 : 0),\n        marginRight: 0,\n    },\n    iconGrid: {\n        margin: 0,\n        padding: 0,\n\n    },\n    iconButton: {\n        marginRight: 12\n    },\n\n})\n\nexport default KaraitesPaneHeader","import React, {useContext, useState, useRef, FC} from 'react'\nimport {makeStyles} from '@material-ui/core/styles'\nimport {Virtuoso} from 'react-virtuoso'\nimport {TableVirtuoso} from 'react-virtuoso'\nimport KaraitePaneHeader from './KaraitePaneHeader';\nimport transform from '../../utils/transform'\nimport '../../css/_comments.css'\nimport '../../css/books.css'\nimport {TRANSFORM_TYPE} from '../../constants/constants'\nimport parse from 'html-react-parser'\nimport {storeContext} from \"../../stores/context\";\nimport {Button} from '@material-ui/core';\nimport {ClosePanes, RefClick} from '../../types/commonTypes';\n\nconst BOOK = 0\nconst TOC = 1\nconst INTRO = 2\nconst SUBJECT = 0\nconst INDEX = 1\nconst START_PARAGRAPH = 2\nconst ENGLISH = 0\nconst HEBREW = 2\n\n\ninterface KaraitesBooksInterface {\n    paneNumber: number,\n    refClick: RefClick,\n    paragraphs: Array<any>,\n    details: any,\n    type: string,\n    onClosePane: ClosePanes,\n    jumpToIntro: boolean,\n}\n\ninterface TableBook {\n    initial: number,\n}\n\nconst KaraitesBooks: FC<KaraitesBooksInterface> = ({\n                                                       paneNumber,\n                                                       refClick,\n                                                       paragraphs,\n                                                       details,\n                                                       type,\n                                                       onClosePane,\n                                                       jumpToIntro,\n                                                   }) => {\n\n    const store = useContext(storeContext)\n    // book, toc, intro\n    const [flags, setFlags] = useState<Array<boolean>>([!jumpToIntro, false, jumpToIntro])\n    const classes = useStyles()\n    const virtuoso = useRef(null);\n\n    const onIntroClick = () => setFlags([false, false, true])\n\n    const onTocClick = () => setFlags([false, true, false])\n\n    const onBookClick = () => setFlags([true, false, false])\n\n    const onButtonClick = (starParagraph: number) => {\n        setFlags([true, false, false])\n        // only works this way because the virtuoso is not re-rendered\n        setTimeout(() => {\n            // @ts-ignore\n            virtuoso.current.scrollToIndex(starParagraph - 1, {\n                align: 'top',\n                behavior: 'smooth',\n            })\n        }, 100)\n    }\n\n    const selectCurrent = (item: number): boolean => {\n        if (store.panes.length === 1) {\n            return false\n        }\n        return store.getCurrentItem(paneNumber) === item\n    }\n\n\n    const itemTable = (item: number, data: Array<any>) => {\n        return (\n            <tr>\n                {parse(data[HEBREW], {\n                    replace: domNode => {\n                        return transform(refClick, item, TRANSFORM_TYPE, paneNumber, domNode)\n                    }\n                })}\n                {parse(data[ENGLISH], {\n                    replace: domNode => {\n                        return transform(refClick, item, TRANSFORM_TYPE, paneNumber, domNode)\n                    }\n                })}\n\n            </tr>\n        )\n\n    }\n    const itemContent = (item: number, data: Array<any>) => {\n        let index = 2\n        if(type==='Liturgy' || (type==='Comments' && details.book_language.indexOf('en')>=0)) index = 0\n        return (\n            <div className={`${classes.paragraphContainer} ${selectCurrent(item) ? classes.selected : ''}`}>\n                <div className={(type !== 'Liturgy' ? classes.paragraph : classes.liturgy)}>\n                    {parse(data[index], {\n                        replace: domNode => {\n                            return transform(refClick, item, TRANSFORM_TYPE, paneNumber, domNode)\n                        }\n                    })}\n                </div>\n            </div>\n        )\n    }\n\n    const itemIntroduction = (item: number, data: string) => {\n        return (<div className={`${classes.paragraphContainer} ${selectCurrent(item) ? classes.selected : ''}`}>\n            <div className={(type !== 'Liturgy' ? classes.paragraph : classes.liturgy)}>\n                {parse(data, {\n                    replace: domNode => {\n                        return transform(refClick, item, TRANSFORM_TYPE, paneNumber, domNode)\n                    }\n                })}\n            </div>\n        </div>)\n    }\n\n    const itemToc = (item: number, data: any) => {\n        if (data[INDEX] === '') {\n            // one column TOC\n            return (<div className={`${classes.tocParagraph} ${selectCurrent(item) ? classes.selected : ''}`}>\n                <p className={classes.tocItem} style={{direction: details.direction}} onClick={onButtonClick.bind(this, data[START_PARAGRAPH])}>\n                    {data[SUBJECT]}\n                </p>\n            </div>)\n        }\n\n\n        // 2 columns TOC\n        return (<div className={`${classes.paragraphContainer} ${selectCurrent(item) ? classes.selected : ''}`}>\n            <div className={(type !== 'Liturgy' ? classes.paragraph : classes.liturgy)}>\n                <Button className={classes.tocButton} onClick={onButtonClick.bind(this, data[START_PARAGRAPH])}>\n                    <div className={classes.heLeft}>\n                        <p className={classes.he}>{data[INDEX]}</p>\n                    </div>\n                    <div className={classes.filler}>\n                    </div>\n                    <div className={classes.enRight}>\n                        <p className={classes.en}>{data[SUBJECT]}</p>\n                    </div>\n                </Button>\n            </div>\n        </div>)\n    }\n\n    const TableBook: FC<TableBook> = ({initial}) => {\n        if (details.table_book) {\n            const tableBook = 'table-book'\n            return (\n                <TableVirtuoso\n                    className={`${tableBook}  ${(flags[BOOK] ? classes.Show : classes.Hide)}`}\n                    data={paragraphs}\n                    ref={virtuoso}\n                    initialTopMostItemIndex={initial}\n                    itemContent={itemTable}\n                />\n            )\n        } else {\n            return (\n                <Virtuoso className={(flags[BOOK] ? classes.Show : classes.Hide)}\n                          data={paragraphs}\n                          ref={virtuoso}\n                          initialTopMostItemIndex={initial}\n                          itemContent={itemContent}\n                />\n            )\n        }\n    }\n    if (details === undefined  || details.book_title_en === undefined) return null\n\n    // initial can't be negative\n    const topItem: number = store.getCurrentItem(paneNumber) - 1\n    const initial: number = (topItem > 0 ? topItem : 0)\n\n    const intro = (details.intro === undefined ? [''] : [details.intro])\n    const toc = (details.toc === undefined ? [''] : details.toc)\n\n\n    return (\n        <>\n            <KaraitePaneHeader paneNumber={paneNumber}\n                               onClosePane={onClosePane}\n                               onIntroClick={onIntroClick}\n                               onTocClick={onTocClick}\n                               onBookClick={onBookClick}\n                               details={details}\n            />\n            <TableBook initial={initial}/>\n\n            <Virtuoso className={`${(flags[TOC] ? classes.Show : classes.Hide)} ${classes.toc}`}\n                      data={toc}\n                      initialTopMostItemIndex={0}\n                      itemContent={itemToc}\n                      components={{\n                          Footer: () => {\n                              return (\n                                  <div style={{padding: '1rem', textAlign: 'center'}}>\n                                      Table of Contents end.\n                                  </div>\n                              )\n                          }\n                      }}/>\n            <Virtuoso className={`${(flags[INTRO] ? classes.Show : classes.Hide)} ${classes.head}`}\n                      data={intro}\n                      initialTopMostItemIndex={0}\n                      itemContent={itemIntroduction}/>\n\n        </>\n    )\n}\n\nconst useStyles = makeStyles(() => ({\n    virtuoso: {\n        top: 70,\n        position: 'fixed',\n        width: '100%',\n        height: '200%',\n        alignContent: 'center',\n    },\n    paragraphContainer: {\n        fontFamily: 'SBL Hebrew',\n        \"&:hover\": {\n            background: '#11c4f114',\n        },\n        width: '100%',\n    },\n    paragraph: {\n        fontFamily: 'SBL Hebrew',\n        fontSize: 21,\n        paddingLeft: 20,\n        paddingRight: 20,\n        maxWidth: 600,\n        margin: 'auto',\n    },\n    liturgy: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignContent: 'center',\n        justifyContent: 'center',\n        maxWidth: '100%',\n    },\n    paragraphContainerHeEn: {\n        paddingLeft: 20,\n        paddingRight: 20,\n        width: 'auto',\n        margin: 'auto',\n        direction: 'rtl',\n    },\n    tocParagraph: {\n        \"&:hover\": {\n            background: '#11c4f114',\n        },\n        fontFamily: 'SBL Hebrew',\n        maxWidth: '100%',\n        marginLeft: '10%',\n        marginRight: '10%',\n        fontSize: '21px',\n        lineHeight: 'initial',\n        direction: 'rtl'\n    },\n    tocItem: {\n        cursor: 'pointer',\n    },\n    hebrew: {\n        float: 'left',\n    },\n    english: {\n        float: 'right',\n    },\n    selected: {\n        backgroundColor:'#36363614',\n    },\n    Hide: {\n        display: 'none',\n    },\n    Show: {\n        display: 'block',\n    },\n    heLeft: {\n        fontFamily: 'SBL Hebrew',\n        float: 'left',\n        direction: 'rtl',\n        textAlign: 'right',\n        lineHeight: 'initial',\n        fontSize: '20.35px',\n        verticalAlign: 'top',\n        width: '100%',\n        // border: '1px solid red',\n    },\n    filler: {\n        width: '0',\n    },\n    heRight: {\n        fontFamily: 'SBL Hebrew',\n        lineHeight: 'initial',\n        float: 'right',\n        textAlign: 'right',\n        verticalAlign: 'top'\n    },\n    enRight: {\n        textAlign: 'left',\n        direction: 'ltr',\n        marginLeft: 15,\n        fontSize: 21,\n        width: '100%',\n        verticalAlign: 'top',\n        fontFamily: 'SBL Hebrew',\n        lineHeight: 'initial',\n        // border: '1px solid blue',\n    },\n    heRightCenter: {\n        direction: 'rtl',\n        border: '1px solid red',\n        textAlign: 'right',\n        minWidth: '100%',\n    },\n    he: {\n        direction: 'rtl',\n    },\n    en: {\n        direction: 'ltr',\n    },\n    head: {},\n    toc: {\n        top: 70,\n        minWith: '80%',\n    },\n    tocButton: {\n        textTransform: 'none',\n        width: '100%',\n    },\n}))\n\n\nexport default KaraitesBooks","import {calculateItemNumber, makeBookUrl} from '../utils/utils';\nimport {\n    bookChapterUrl,\n    chaptersByBibleBook,\n    karaitesBookUrl,\n    betterBookUrl\n} from '../constants/constants';\nimport {BookType} from '../types/commonTypes';\nimport {toJS} from 'mobx';\n\n\nconst PARAGRAPHS = 0\nconst BOOK_DETAILS = 1\n\nconst fetchData = async (paneNumber: number, store: any, message: any, url: string, type: BookType) => {\n    try {\n\n        store.setLoading(true)\n        const response = await fetch(url)\n        debugger\n        if (response.ok) {\n\n            const data = await response.json()\n            switch (type.toLowerCase()) {\n\n                case 'bible':\n                    store.setBookData(data.chapter, paneNumber)\n                    store.setBookDetails(data.book, paneNumber)\n                    break\n\n                case 'karaites':\n\n                    store.setParagraphs(data[PARAGRAPHS], paneNumber)\n                    store.setBookDetails(data[BOOK_DETAILS], paneNumber)\n                    break\n\n                case 'better':\n\n                    store.setSongsBetter(data['songs'], paneNumber)\n                    store.setBookDetailsBetter(data['details'], paneNumber)\n                    store.setBookBetter(data['book_data'], paneNumber)\n                    break\n\n                default:\n                    console.log('Invalid type', type)\n            }\n            store.setLoading(false)\n\n        }\n    } catch\n        (e: any) {\n        message.setMessage(\"Error: \" + e.message)\n    } finally {\n        store.setLoading(false)\n    }\n}\n\nconst getBook = async (book: string, chapter: number, verse: number, highlight: number[], type: BookType, store: any, message: any) => {\n    let url = ''\n\n    if (isNaN(chapter)) {\n        chapter = 1\n    }\n\n    if (!store.isPaneOpen(book, chapter, verse)) {\n\n        switch (type.toLowerCase()) {\n            case 'bible':\n\n                store.setPanes({\n                    book: book,\n                    chapter: chapter - 1,\n                    verse: verse,\n                    bookData: [],\n                    book_details: [],\n                    highlight: [],\n                    type: 'bible',\n                    verseData: [],\n                    refsChapterVerse: [0, 0],\n                    isRightPaneOpen: false,\n                    references: [],\n                    distance: 0,\n                    currentItem: calculateItemNumber(book, chapter, verse),\n                    rightPaneState: [],\n                    rightPaneStateHalakhah: 1,\n                    languages: ['en_he', 'he', 'en'],\n                })\n                url = makeBookUrl(bookChapterUrl, book, chaptersByBibleBook[book], '0', false)\n                await fetchData(store.panes.length - 1, store, message, url, type)\n                break\n\n            case 'karaites':\n\n                store.setPanes({\n                    book: book,\n                    chapter: chapter - 1,\n                    verse: verse,\n                    paragraphs: [],\n                    book_details: [],\n                    TOC: [],\n                    highlight: [],\n                    type: 'karaites',\n                    currentItem: chapter,\n                    languages: ['he', 'en'],\n                })\n                url = `${karaitesBookUrl}${book}/${999999}/${0}/`\n                await fetchData(store.panes.length - 1, store, message, url, type)\n                break\n\n            case 'better':\n                store.setPanes({\n                    book: book,\n                    chapter: chapter - 1,\n                    verse: verse,\n                    book_details: [],\n                    paragraphs: [],\n                    songs: [],\n                    TOC: [],\n                    highlight: [],\n                    type: 'better',\n                    currentItem: 0,\n                    range: [0, 0],\n                    languages: ['he', 'en'],\n                })\n\n                await fetchData(store.panes.length - 1, store, message, `${betterBookUrl}${book}/`, type)\n                break\n\n            default:\n                console.log('Error: unknown book type')\n\n        }\n    }\n}\n\nexport default getBook","import React, {FC, useContext, useRef, useState} from 'react'\nimport {ListRange, TableVirtuoso} from 'react-virtuoso'\nimport {makeStyles} from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport {storeContext} from \"../../stores/context\";\nimport {observer} from 'mobx-react-lite'\nimport {toJS} from 'mobx'\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport {ClosePanes, RefClick} from '../../types/commonTypes';\nimport {CloseButton} from \"../buttons/CloseButton\";\nimport {Grid} from '@material-ui/core';\nimport {InfoButton} from '../buttons/InfoButton';\nimport {TocButton} from '../buttons/TocButton';\nimport {BookButton} from '../buttons/BookButton';\nimport {MusicSelect} from '../buttons/music-select';\nimport {BuyButton} from '../buttons/BuyButton';\nimport {AudioBookButton} from '../buttons/AudioBookButton';\nimport {iOS, unslug} from '../../utils/utils';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {\n    BETTER_START_AUDIO,\n    BETTER_END_AUDIO,\n    BETTER_AUDIO_BOOK_ID,\n    SCROLL_LATENCY_MS,\n    SCROLL_LATENCY_SECONDS,\n    songsUrl,\n} from \"../../constants/constants\";\nimport {AudioBookContext} from '../../stores/audioBookContext';\n\nconst HEBREW = 0\nconst TRANSLITERATION = 1\nconst ENGLISH = 2\nconst QUAHAL = 6\nconst BREAK = 10\nconst FILLER = 11\nconst TOP_LINES = 0\n\ninterface BooksInterface {\n    paneNumber: number,\n    bookData: any[]\n    details: any,\n    refClick: RefClick,\n    onClosePane: ClosePanes\n}\n\nconst BookGrid: FC<BooksInterface> = ({paneNumber, bookData, details, refClick, onClosePane}) => {\n    const classes = useStyles()\n    const store = useContext(storeContext)\n    const audioBookStore = useContext(AudioBookContext)\n    const matches = useMediaQuery('(min-width:600px)');\n    const direction = (matches ? 'row' : 'column')\n    const xsColumns1 = (matches ? 4 : 12)\n    // const xsColumns2 = (matches ? 2 : 12)\n    const book = store.getBook(paneNumber)\n    const [audioBookPlaying, setAudioBookPlaying] = useState(false)\n    const [distanceFromTop, setDistanceFromTop] = useState(TOP_LINES)\n    const virtuoso = useRef(null)\n    const  hasSongs = store.hasSongsBetter(paneNumber)\n\n    if (bookData === undefined || bookData.length === 0) return null;\n\n    const callFromEnded = () => {\n\n        let currentItem = store.getCurrentItem(paneNumber)\n        const len = bookData.length\n        // skip english translation or any other that has filer = 1\n        do\n            currentItem++\n        while (currentItem < len && bookData[currentItem][FILLER] === \"1\")\n\n        store.setCurrentItem(currentItem, paneNumber)\n        setTimeout(() => {\n            //     @ts-ignore\n            virtuoso.current.scrollToIndex({\n                index: currentItem,\n                align: 'start',\n                behavior: 'smooth'\n            })\n\n        }, SCROLL_LATENCY_MS)\n    }\n\n    const onTimeUpdate = (currentTime: number) => {\n        const [start, end, id, audioTrackEnd] = store.getBetterAudioData(paneNumber)\n        const lastId = store.getLastId(paneNumber)\n\n        if (currentTime + SCROLL_LATENCY_SECONDS >= end && lastId === id) {\n            if (audioTrackEnd) {\n                setAudioBookPlaying(false)\n                audioBookStore.stop()\n                return\n            }\n            callFromEnded()\n        }\n    }\n    const onAudioBookEnded = () => {\n        setAudioBookPlaying(() => false)\n        onAudioBookOnOff()\n    }\n    const onAudioBookOnOff = () => {\n        if (!audioBookPlaying) {\n            const [start, end, id, audioTrackEnd] = store.getBetterAudioData(paneNumber)\n            if( isNaN(start) || isNaN(end)){\n                callFromEnded()\n            }\n            let audioData = toJS(store.getSongsBetter(paneNumber))\n            debugger\n            store.setLastId(audioData.id, paneNumber)\n            audioBookStore.load(`${songsUrl}${audioData.song_file}`, book)\n            store.getBetterAudioDataStart(paneNumber)\n            audioBookStore.play(store.getBetterAudioDataStart(paneNumber), onTimeUpdate, onAudioBookEnded)\n            setAudioBookPlaying(() => true)\n        } else {\n            audioBookStore.stop()\n            setAudioBookPlaying(() => false)\n        }\n\n    }\n\n    let visibilityChanged = (range: ListRange) => {\n        store.setGridVisibleRange(paneNumber, range.startIndex, range.endIndex)\n    }\n    const onClose = () => {\n        audioBookStore.stop()\n        onClosePane(paneNumber)\n    }\n    const onIntro = () => {\n        // onIntroClick(paneNumber)\n    }\n    const onToc = () => {\n        // onTocClick(paneNumber)\n    }\n    const onBook = () => {\n        // onBookClick(paneNumber)\n    }\n    const onBuy = () => {\n        // window.open(details.buy_link)\n    }\n    const updateItemDistance = (i: number) => {\n        store.setCurrentItem(i, paneNumber)\n    }\n    const onClick = (index: number) => {\n        updateItemDistance(index)\n    }\n    const ItemContent = (index: number, data: any) => {\n        const currentIndex = store.getCurrentItem(paneNumber)\n        const startIndex = store.getGridVisibleRangeStart(paneNumber)\n        let found = index === currentIndex\n        const hebrewLen = data[HEBREW].length > 0\n        const transliterationLen = data[TRANSLITERATION].length > 0\n        const englishLen = data[ENGLISH].length > 0\n\n        if (hebrewLen || transliterationLen || englishLen) {\n            const breakLine = (data[BREAK] === \"1\" ? classes.break : '')\n            const highlight = (found ? classes.highlight : '')\n\n            if (hebrewLen && transliterationLen) {\n                console.log(data[QUAHAL],data[QUAHAL] === \"Qahal\"  )\n                const qahal = (data[QUAHAL] === \"Qahal\" ? classes.qahal : '')\n\n                return (\n                    <TableCell className={`${classes.tableCell} ${highlight}`}\n                               onClick={onClick.bind(this, index)}\n                    >\n                        <Typography className={`${classes.hebrew} ${breakLine} ${qahal}`}>{data[HEBREW]}</Typography>\n                        <Typography className={`${classes.transliteration} ${breakLine}  ${qahal}`}>{data[TRANSLITERATION]}</Typography>\n                    </TableCell>\n                )\n            } else {\n                return (\n                    <TableCell className={`${classes.tableCell} ${highlight}`}\n                               onClick={onClick.bind(this, index)}\n                    >\n                        <Typography variant=\"body1\" className={`${classes.english} ${breakLine}`}>{data[ENGLISH]}</Typography>\n                    </TableCell>\n                )\n            }\n        } else {\n            return (\n                <TableCell className={classes.tableCell}>\n                    <Typography variant=\"body1\" className={classes.english}>&nbsp;</Typography>\n                </TableCell>\n            )\n        }\n    }\n    // @ts-ignore\n    const fixedHeaderContent = () => (\n        <TableRow>\n            <TableCell className={classes.header}>\n                <Grid container\n                      direction={direction}\n                      className={classes.resources}\n                      justifyContent=\"flex-start\"\n                      alignItems=\"center\"\n                      spacing={1}>\n\n                    <Grid item xs={xsColumns1}>\n                        <p className={classes.pButtons}>\n                            <CloseButton onClick={onClose}/>\n                            {/*<InfoButton onClick={onIntro}/>*/}\n                            {/*<TocButton onClick={onToc}/>*/}\n                            {/*<BookButton onClick={onBook}/>*/}\n                            {/*<BuyButton onClick={onBuy}/>*/}\n                            {(hasSongs ? <AudioBookButton onClick={onAudioBookOnOff} onOff={audioBookPlaying} isSpeechError={false}/> : null)}\n                            {(details.buy_link === '' ? null : <BuyButton onClick={onBuy}/>)}\n                        </p>\n                    </Grid>\n\n                    <Grid item xs={xsColumns1}>\n                        <Typography variant=\"h6\" className={classes.hebrewTitle}>\n                            {details.book_title_he}\n                        </Typography>\n                        <Typography variant=\"h6\" className={classes.englishTitle}>\n                            {details.book_title_en}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={xsColumns1}>\n                    </Grid>\n                </Grid>\n            </TableCell>\n        </TableRow>\n    )\n\n    const TableComponents = {\n        // @ts-ignore\n        Table: (props) => <Table {...props} className={classes.table}/>,\n        TableHead: TableHead,\n        TableRow: TableRow,\n        // @ts-ignore\n        TableBody: React.forwardRef((props, ref) => <TableBody {...props} ref={ref} className={classes.tBody}/>),\n    }\n\n    // @ts-ignore\n    return (\n        <TableVirtuoso\n            className={classes.table}\n            data={bookData}\n            ref={virtuoso}\n            // initialTopMostItemIndex={store.getCurrentItem(paneNumber)}\n            // @ts-ignore\n            components={TableComponents}\n            fixedHeaderContent={fixedHeaderContent}\n            itemContent={ItemContent}\n            rangeChanged={visibilityChanged}\n        />\n    )\n}\n\nexport default observer(BookGrid)\n\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        margin: 'auto',\n        width: '95vw',\n        height: '100vh',\n    },\n    table: {\n        margin: 'auto',\n        width: '100%',\n    },\n    tBody: {\n        marginTop: 100,\n        border: 'none',\n    },\n    paper: {\n        height: '100%',\n        backgroundColor: 'green'\n    },\n    tableCell: {\n        width: '100%',\n        padding: 0,\n        border: 'none',\n    },\n    highlight: {\n        backgroundColor: (theme.palette.type === 'light' ? '#11c4f114' : 'darkgrey'),\n    },\n    paragraph: {\n        width: '100%',\n    },\n    hebrew: {\n        width: '50%',\n        float: 'left',\n        fontFamily: 'SBL Hebrew',\n        fontSize: 19,\n        textAlign: 'right',\n        direction: 'rtl',\n        margin: 0,\n        padding: 1,\n        paddingRight: 10,\n    },\n    transliteration: {\n        width: '50%',\n        float: 'left',\n        textAlign: 'left',\n        fontSize: 19,\n        direction: 'ltr',\n        margin: 0,\n        padding: 1,\n        paddingLeft: 10,\n    },\n    english: {\n        textAlign: 'center',\n        fontSize: 19,\n        color:  (theme.palette.type === 'light' ? '#575656FF' : '#C5C4C4FF'),\n        direction: 'ltr',\n        margin: 0,\n        padding: 1,\n    },\n    break: {\n        paddingBottom: 15,\n    },\n    header: {\n        minWidth: '100%',\n        height: 50,\n        backgroundColor: (theme.palette.type === 'light' ? 'lightgrey' : '#444040'),\n    },\n    hebrewTitle: {\n        width: '50%',\n        float: 'left',\n        textAlign: 'right',\n        direction: 'rtl',\n        fontFamily: 'SBL Hebrew',\n        fontSize: 20,\n        paddingRight: 5,\n        whiteSpace: 'nowrap',\n    },\n    englishTitle: {\n        width: '50%',\n        float: 'right',\n        textAlign: 'left',\n        direction: 'ltr',\n        fontSize: 20,\n        paddingLeft: 5,\n        whiteSpace: 'nowrap',\n    },\n    resources: {\n        padding: 0,\n        paddingTop: (iOS() ? 50 : 0),\n        marginRight: 0,\n        minWidth: '100%',\n        minHeight: 60,\n        margin: -12,\n    },\n    pButtons: {\n        margin: 0,\n        padding: 0,\n        whiteSpace: 'nowrap',\n    },\n    qahal: {\n        fontStyle: 'italic',\n        fontWeight: 'bold',\n    },\n}))","import React, {useContext, FC} from 'react'\nimport {makeStyles} from '@material-ui/core/styles'\nimport {Grid} from '@material-ui/core';\nimport {parseBiblicalReference} from '../utils/parseBiblicalReference';\nimport {observer} from 'mobx-react-lite'\nimport RightPane from './panes/RightPane';\nimport RenderText from './tanakh/RenderText'\nimport {makeRandomKey} from '../utils/utils';\nimport {useHistory, useParams} from 'react-router-dom';\nimport {storeContext} from \"../stores/context\";\nimport {messageContext} from \"../stores/messages/messageContext\";\nimport {translateMessage} from \"./messages/translateMessages\";\nimport KaraitesBooks from \"./karaites/karaitesBooks\";\nimport {useLocation} from \"react-router-dom\"\nimport getBook from \"./getBook\";\nimport {getFirstPart} from \"../utils/utils\";\nimport {BookType, BibleReference} from \"../types/commonTypes\";\nimport BookGrid from './Books/booksGrid';\nimport {toJS} from 'mobx'\n\ninterface BooksProps {\n    type: BookType\n}\n\ninterface RenderRight {\n    isOpen: boolean,\n    paneNumber: number,\n    openBook: (paneNumber: number, refBook: string, refChapter: number, refVerse: number, refHighlight: number[]) => void,\n}\n\ninterface Params {\n    book?: string,\n    chapter: string,\n    verse: string,\n    intro: any\n}\n\n\nconst LoadBook: FC<BooksProps> = ({type}) => {\n    const store = useContext(storeContext)\n    const message = useContext(messageContext)\n    const {book, chapter, verse = '1', intro = ''}: Params = useParams()\n    // path is used as type for the KaraitesBooks component\n    const path = getFirstPart(useLocation().pathname)\n\n    // if the type is karaites, chapter is used as start  and verse is ignored\n    const classes = useStyles()\n\n    let history = useHistory()\n    const onClosePane = (paneNumber: number) => {\n        store.closePane(paneNumber)\n\n        // close all children panes\n        if (paneNumber === 0) {\n            store.resetPanes()\n        }\n\n        if (store.isLastPane) {\n            if (type === 'bible') {\n                history.push(`/Tanakh/`)\n            }else if (type === 'better') {\n                history.push(`/Liturgy/`)\n            } else {\n                history.push(`/${path}/`)\n            }\n        }\n    }\n\n\n    const refClick = (item: any, kind: BookType = 'bible', paneNumber: number, e: Event) => {\n        try {\n            const {refBook, refChapter, refVerse, refHighlight}: BibleReference = parseBiblicalReference(e)\n            let isOpen = store.isPaneOpen(refBook, refChapter, refVerse)\n            if (isOpen) {\n                message.setMessage(`${book} ${chapter}:${verse} already open.`)\n            } else {\n                getBook(refBook, refChapter, refVerse, refHighlight, kind, store, message).then().catch()\n            }\n        } catch (e) {\n            message.setMessage(translateMessage(e))\n        }\n    }\n\n    const openBook = (paneNumber: number, refBook: string, refChapter: number, refVerse: number, refHighlight: number[]) => {\n        try {\n            getBook(refBook, refChapter, refVerse, refHighlight, 'karaites', store, message).then().catch()\n        } catch (e) {\n            message.setMessage(translateMessage(e))\n        }\n    }\n\n    const RenderRightPane: FC<RenderRight> = ({isOpen, paneNumber, openBook}) =>\n        <Grid item xs={true} className={(isOpen ? classes.rightPane : classes.hiddenRightPane)}>\n            <RightPane\n                paneNumber={paneNumber}\n                refClick={refClick}\n                openBook={openBook}\n            />\n        </Grid>\n\n\n    const bookRender = () => {\n\n        const panes = store.getPanes()\n        let jsx = []\n\n        for (let i = 0; i < panes.length; i++) {\n            switch (panes[i].type.toLowerCase()) {\n\n                case 'bible':\n                    jsx.push((\n                        <React.Fragment key={makeRandomKey()}>\n                            <Grid item xs={true} className={classes.item}>\n                                <RenderText paneNumber={i} onClosePane={onClosePane}/>\n                            </Grid>\n                            <RenderRightPane isOpen={store.getIsRightPaneOpen(i)} paneNumber={i} openBook={openBook}/>\n                        </React.Fragment>\n                    ))\n                    break\n\n                case 'karaites':\n                    jsx.push((\n                        <Grid item xs={true} className={classes.item} key={makeRandomKey()}>\n                            <KaraitesBooks\n                                paneNumber={i}\n                                refClick={refClick}\n                                paragraphs={store.getParagraphs(i)}\n                                details={store.getBookDetails(i)}\n                                type={path}\n                                onClosePane={onClosePane}\n                                jumpToIntro={intro === 'intro'}\n                            />\n                        </Grid>\n                    ))\n                    break\n\n                case 'better':\n\n                    jsx.push((\n                        <Grid item xs={true} className={classes.item} key={makeRandomKey()}>\n                            <BookGrid\n                                paneNumber={i}\n                                bookData={store.getBookBetter(i)}\n                                refClick={refClick}\n                                // paragraphs={store.getParagraphs(i)}\n                                details={store.getBookDetails(i)}\n                                // type={path}\n                                onClosePane={onClosePane}\n                                // jumpToIntro={intro === 'intro'}\n                            />\n                        </Grid>\n                    ))\n                    break;\n\n                default:\n                    console.log('Invalid type', panes[i].type)\n            }\n        }\n        return jsx\n    }\n\n    getBook(book || '', +chapter, +verse, [], type, store, message)\n\n    if (store.getPanes().length === 0) return null\n\n    const books = bookRender()\n\n    if (books.length === 0) return null\n\n    return (\n        <Grid container\n              className={`${classes.root} ${book}`}\n              direction=\"row\"\n              justifyContent=\"center\">\n            {books.map(jsx => jsx)}\n        </Grid>\n\n    )\n\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n        top: 66,\n        height: 'calc(95vh - 66px)',\n        position: 'sticky',\n        fontSize: '21px !important',\n        [theme.breakpoints.down('xs')]: {\n            top: 59,\n            height: 'calc(95vh - 59px)',\n        },\n    },\n    item: {\n        height: '100%',\n        width: 'auto',\n    },\n    rightPane: {\n        maxWidth: '400px !important',\n        width: '100%',\n    },\n    hiddenRightPane: {\n        display: 'none'\n    },\n    items: {\n        width: '100%',\n        height: '100%',\n    }\n}));\n\nexport default observer(LoadBook)","import React, {useContext} from 'react'\nimport {makeStyles} from '@material-ui/core/styles'\nimport {storeContext} from \"../../stores/context\";\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\nimport {q640} from \"../../constants/constants\"\n\n\nconst Display = () => {\n    const classes = useStyles()\n    const store = useContext(storeContext)\n    const matches = useMediaQuery(q640)\n    store.resetPanes()\n\n    return (\n        <div className={(matches ? classes.noSpace : classes.fill)}>\n            <div className={classes.container}>\n                <div className={classes.center}>\n                    <div>\n                        <h1 className={classes.title}>The Karaite Jewish Learning Center</h1>\n                        <h1 className={classes.title}>(A Project of the Karaite Jews of America)</h1>\n                        <hr className={classes.ruler}/>\n                    </div>\n\n                    <p className={classes.text}>\n\n                        The Karaite Jews of America welcomes you to our new platform: The Karaite Jewish Learning\n                        Center.\n                        Our goal is to bring all Karaite literature online. Equally as important, however, we want to\n                        help\n                        you interact with these texts and integrate them into your learning.\n                    </p>\n\n                    <p className={classes.text}>In time, we plan to launch courses through the KJLC. These courses will\n                        include a wide range\n                        of\n                        topics under the broad umbrella of Karaitica.</p>\n\n                    <p className={classes.shortQuestions}><b>Interested in Jewish poetry?</b> We have numerous poems\n                        with\n                        translation and transliteration.\n                    </p>\n\n                    <p className={classes.questions}><b>Love comparing Karaite Views across the centuries?</b> We\n                        already have many Hebrew texts\n                        online and we\n                        plan to roll out more English translations soon.</p>\n\n                    <p className={classes.questions}><b>Cant wait to improve your own Hebrew?</b> Many of our\n                        Hebrew\n                        texts have full vocalization and are\n                        displayed side by side next to an English translation.</p>\n\n                    <p className={classes.shortQuestions}><b> Want to become a hazzan or hazzanit?</b> We are here to\n                        help\n                        unlock your voice and soul.</p>\n\n                    <p className={classes.textJoin}>Updates about the KJLC are distributed through the Karaite Jews\n                        of Americas weekly\n                        emails.</p>\n                    <p className={classes.join}>\n                        <b><a href=\"https://karaites.us11.list-manage.com/subscribe?u=0de7fd38ac5f9d2e4fe132fcc&id=f8db630877\">Please\n                            join our list </a></b>\n                    </p>\n                    <hr/>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        display: \"flex\",\n        width: '70%',\n        height: '100%',\n        margin: 'auto',\n        marginTop: 100,\n    },\n    center: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        paddingBottom: 100\n    },\n    player: {\n        width: 400,\n        height: 400,\n    },\n    boxTitle: {\n        marginBottom: 20,\n    },\n    title: {\n        margin: 0,\n        textAlign: 'center',\n    },\n    ruler: {\n        width: '100%',\n    },\n    text: {\n        fontSize: 21,\n        textAlign: 'justify',\n        margin: 0,\n    },\n    questions: {\n        textAlign: 'justify',\n        fontSize: 21,\n    },\n    shortQuestions: {\n        width: '100%',\n        textAlign: 'left',\n        fontSize: 21,\n    },\n    join: {\n        textAlign: 'center',\n        marginLeft: '10%',\n        marginRight: '10%',\n        fontSize: 21,\n        margin: 'auto'\n    },\n    textJoin: {\n        textAlign: 'center',\n        fontSize: 21,\n        padding: 15,\n    },\n    noSpace: {\n        paddingTop: 0,\n    },\n    fill: {\n        paddingTop: 100,\n    }\n}));\n\n\nexport default Display","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport {range} from '../../utils/utils'\nimport {makeStyles} from '@material-ui/core/styles'\nimport {Link} from 'react-router-dom'\nimport {Typography} from '@material-ui/core'\nimport {unslug} from '../../utils/utils'\n\n\nconst ChapterMenu = ({bibleBook, numberOfChapters, level}) => {\n    const chapters = range(numberOfChapters)\n    const classes = useStyles()\n\n    const createMenu = () => {\n        return chapters.map(chapter =>\n            <Grid item xs={1} className={classes.item} key={chapter}>\n                <Link className={classes.link} to={`/${level}/${bibleBook}/${chapter}/`}>\n                    {chapter}\n                </Link>\n            </Grid>\n        )\n    }\n\n    return (\n        <div className={classes.container}>\n            <Typography variant=\"h4\" component=\"h1\" className={classes.title}>{unslug(bibleBook)}</Typography>\n            <Typography variant=\"h6\" component=\"h1\" className={classes.subtitle}>\n                <Link to={`/${level}/`}>{level}</Link>\n            </Typography>\n            <hr/>\n            <Typography variant=\"h5\" component=\"h1\" className={classes.chapters}>Chapters</Typography>\n            <Grid container\n                  spacing={1}\n                  justifycontent=\"center\"\n                  alignItems=\"center\"\n            >\n                {createMenu()}\n\n            </Grid>\n            {/*<TorahPortions book={bibleBook}/>*/}\n        </div>\n    )\n}\n\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        width: '50%',\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        height: 'auto',\n        marginTop: 50,\n    },\n    item: {\n        width: 50,\n        height: 50,\n        margin: 2,\n    },\n    link: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        fontSize: 20,\n    },\n    title: {\n        marginTop: 100,\n        marginBottom: 15,\n\n    },\n    filler: {\n        marginTop: 100,\n        marginBottom: 30,\n\n    },\n    subtitle: {\n        marginBottom: 25,\n\n    },\n    chapters: {\n        marginBottom: 15,\n    },\n}));\n\nexport default ChapterMenu","import React from \"react\";\nimport {Route, useLocation} from \"react-router-dom\";\nimport {chaptersByBibleBook} from \"../../constants/constants\";\nimport {makeRandomKey, unslug} from \"../../utils/utils\";\nimport ChapterMenu from \"../menu/ChapterMenu\";\n\n\nexport const TanakhBooksLink = () => {\n    // Tanakh books chapter menu\n    let location = useLocation()\n    let parts = location.pathname.split('/')\n    if (parts.length === 4 && parts[1] === 'Tanakh') {\n        return Object.keys(chaptersByBibleBook).map(book =>\n            <Route path={`/Tanakh/${book}/`} key={makeRandomKey()}>\n                <ChapterMenu bibleBook={book}\n                             numberOfChapters={chaptersByBibleBook[unslug(book)]}\n                             level=\"Tanakh\"/>\n            </Route>\n        )\n    }\n    return null\n}\n","import React, {useContext, useEffect, useState} from \"react\"\nimport {observer} from 'mobx-react-lite'\nimport {Virtuoso} from \"react-virtuoso\"\nimport {makeStyles} from \"@material-ui/core/styles\"\nimport {searchResultsUrl, ITEMS_PER_PAGE} from \"../../constants/constants\"\nimport {Link} from \"react-router-dom\"\n// @ts-ignore\nimport ReactHtmlParser from \"react-html-parser\"\nimport {Typography} from \"@material-ui/core\"\nimport {parseEnglishRef} from \"../../utils/parseBiblicalReference\"\nimport {storeContext} from \"../../stores/context\"\nimport {messageContext} from \"../../stores/messages/messageContext\";\nimport {slug} from \"../../utils/utils\"\nimport {dataFetch} from \"../api/dataFetch\";\n\n\ninterface Data {\n    [x: string]: any\n}\n\nconst SearchResults = () => {\n    const store = useContext(storeContext)\n    const message = useContext(messageContext)\n    const classes = useStyles()\n    const [search] = useState(store.getSearch())\n    const [didYouMean, setDidYouMean] = useState(false)\n    const [searchTerm, setSearchTerm] = useState(store.getSearch())\n    const [page, setPage] = useState(1)\n\n    const itemContent = (_: number, data: Data) => {\n        if (data['path'] === 'Tanakh') {\n            const {refBook, refChapter, refVerse} = parseEnglishRef(data['ref'])\n            store.resetPanes()\n            return (\n                <div className={classes.card}>\n                    <Link to={`/Tanakh/${refBook}/${refChapter}/${refVerse}/`}>\n                        <Typography variant=\"h6\" component=\"h2\">{data['ref']}</Typography>\n                    </Link>\n                    {ReactHtmlParser(data['text'])}\n                    <hr/>\n                </div>)\n        }\n        const [refBook, paragraph] = data['ref'].trim().split('#')\n        const url = slug(refBook)\n        store.resetPanes()\n\n        return (\n            <div className={classes.card}>\n                <Link to={`/${data['path']}/${url}/${paragraph}/`}>\n                    <Typography variant=\"h6\" component=\"h2\">{refBook}</Typography>\n                </Link>\n                {ReactHtmlParser(`<p>${data['text']}</p>`)}\n                <hr/>\n            </div>)\n    }\n\n    const nextPage = () => {\n        if (store.getMoreResults()) {\n            setPage(() => page + 1)\n        }\n    }\n\n\n    useEffect(() => {\n\n        store.setLoading(true)\n        dataFetch<Data>(searchResultsUrl + `${search}/${page}/`)\n            .then((data) => {\n                // if search result length is an exact multiple of ITEMS_PER_PAGE\n                // an extra call is done to figure out that next page\n                // is empty, In all other cases there is no need to do an extra call.\n                // todo: review this code\n\n                if (data['data'].length < ITEMS_PER_PAGE) {\n                    store.setMoreResults(false)\n                }\n                store.setSearchResultData(data['data'])\n                setPage(() => parseInt(data['page']))\n                // this means that search term was not found and a similarity search was done\n                setDidYouMean(data['did_you_mean'])\n                setSearchTerm(() => data['search_term'])\n                store.setLoading(false)\n            })\n            .catch(e => {\n                message.setMessage(e.message)\n                store.setLoading(false)\n            })\n\n\n    }, [search, page, store, message])\n\n    if (store.getSearch() === '') return null\n\n    return (\n        <div className={classes.container}>\n            <Typography className={classes.header} variant=\"h5\">\n                {didYouMean ? `Did you mean \"${searchTerm}\" ?` : `Search results for \"${store.getSearch()}\"`}\n            </Typography>\n            <Virtuoso\n                data={store.getSearchResultData()}\n                endReached={nextPage}\n                itemContent={itemContent}\n                components={{\n                    Footer: () => {\n                        return (\n                            <div style={{padding: '1rem', textAlign: 'center'}}>\n                                End of search results for \"{store.getSearch()}\"\n                            </div>\n                        )\n                    }\n                }}\n            />\n        </div>\n    )\n}\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        position: 'sticky',\n        top: 100,\n        width: '100%',\n        height: 'calc(80% - 110px)',\n        fontSize: 21,\n    },\n    card: {\n        maxWidth: '60%',\n        [theme.breakpoints.down('md')]: {\n            maxWidth: '85%',\n        },\n        marginLeft: 'auto',\n        marginRight: 'auto',\n    },\n    header: {\n        maxWidth: '60%',\n        [theme.breakpoints.down('md')]: {\n            maxWidth: '85%',\n        },\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        marginBottom: 50,\n    },\n\n}))\n\nexport default observer(SearchResults)\n","import React, {useContext} from 'react';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport {makeStyles} from '@material-ui/core/styles';\nimport {observer} from 'mobx-react-lite';\nimport {messageContext} from \"../../stores/messages/messageContext\";\nimport MuiAlert from '@material-ui/lab/Alert';\n\nconst Message = () => {\n    const messageStore = useContext(messageContext);\n    const classes = useStyles();\n    const {message, level, duration} = messageStore.getMessage()\n\n    const handleClose = () => {\n        messageStore.resetMessage()\n    };\n\n    return (\n        <div className={classes.root}>\n            <Snackbar\n                open={message !== ''}\n                autoHideDuration={duration}\n                onClose={handleClose}\n                anchorOrigin={{vertical: 'top', horizontal: 'right'}}>\n                <MuiAlert elevation={6} variant=\"filled\" onClose={handleClose} severity={level}>\n                    {message}\n                </MuiAlert>\n            </Snackbar>\n        </div>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > * + *': {\n             marginTop: theme.spacing(20),\n        },\n    },\n    close: {\n        padding: theme.spacing(0.5),\n    },\n}));\n\nexport default observer(Message)","import React, {useContext} from 'react'\nimport {makeStyles} from '@material-ui/core/styles'\nimport {storeContext} from \"../../stores/context\";\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\nimport {q640} from \"../../constants/constants\"\n\n\nconst Acknowledgment = () => {\n    const classes = useStyles()\n    const store = useContext(storeContext)\n    const matches = useMediaQuery(q640)\n    store.resetPanes()\n\n    return (\n        <div className={(matches ? classes.noSpace : classes.fill)}>\n            <div className={classes.container}>\n                <div className={classes.center}>\n                    <div>\n                        <h1 className={classes.title}>Thank You a Million Times</h1>\n                        <hr className={classes.ruler}/>\n                    </div>\n                    <p className={classes.text}>The Karaite Jewish Learning Center (and the Karaite Jews of America)\n                        extend\n                        our deepest gratitude to\n                        the many people whose financial and temporal support made this endeavor possible. First and\n                        foremost, we thank the following people for typing, transliterating, and translating the\n                        numerous\n                        texts that appear at the KJLC: Michael Bernstein, Shoshana (Firrouz) Cohen, Eliyahu Friedman,\n                        Noam\n                        Harris, Yinon Kahan, Gabriel Wasserman, Barnaby Yeh, and Tzemah Yoreh. We would also like to\n                        thank\n                        the following for their financial support in the early days of developing this platform: Matt\n                        Ronin\n                        and Amanda Bressler; the Bequest of Zaki Lichaa; James and Leah Walker; and Micah Levinson\n                        (whose\n                        donation was made in memory of his father). We also are thankful to the various translators\n                        whose\n                        works jumpstarted The Karaite Press. Those works form the initial English translations of books\n                        that\n                        will be available on this site. You can read more about those translators in the introductions\n                        of\n                        those respective books.</p>\n                    <p>We also thank Shawn Lichaa for coordinating this project.</p>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        display: \"flex\",\n        width: '70%',\n        height: '100%',\n        margin: 'auto',\n    },\n    center: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        fontSize: 21,\n        paddingBottom:100,\n    },\n    title: {\n        margin: 0,\n    },\n    ruler: {\n        width: '100%'\n    },\n    text: {\n        textAlign: 'justify',\n    },\n    noSpace: {\n        paddingTop:150,\n    },\n    fill: {\n        paddingTop: 100,\n    }\n}));\n\n\nexport default Acknowledgment","import React, {useContext} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport {storeContext} from '../../stores/context'\nimport {observer} from 'mobx-react-lite';\nimport './spin.css'\n\nconst LoadingSpin = () => {\n    const store = useContext(storeContext)\n    const classes = useStyles()\n    if (store.getLoading()) {\n        return (\n            <div className={classes.container}>\n                <div className={'spin'}></div>\n            </div>\n        )\n    }\n    return null\n}\n\nconst useStyles = makeStyles(() => ({\n    container: {\n        display: \"flex\",\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'center',\n        width: '100%',\n        height: '100%',\n        margin: 'auto',\n    },\n\n}))\n\nexport default observer(LoadingSpin)","import React, {FC} from \"react\";\nimport QueueMusicIcon from '@material-ui/icons/QueueMusic'\nimport MusicNoteIcon from '@material-ui/icons/MusicNote'\nimport LibraryMusicIcon from '@material-ui/icons/LibraryMusic';\n\nimport {MusicBadgeProps} from '../buttons/types';\n\n\nexport const MusicBadge: FC<MusicBadgeProps> = (props) => {\n    const {length = 0, audio = false, fontSize = \"small\", color = \"secondary\"} = props;\n\n    if (length === 0 && !audio) return null;\n\n    if(audio ) return <LibraryMusicIcon fontSize={fontSize} color={color}/>\n\n    return (length > 1 ? <QueueMusicIcon fontSize={fontSize} color={color}/> : <MusicNoteIcon fontSize={fontSize} color={color}/>)\n}\n\n\n","import React from 'react'\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {Link} from \"react-router-dom\";\nimport Filler from \"../general/Filler.tsx\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {capitalize, makeRandomKey} from \"../../utils/utils\";\nimport {ToText} from \"../general/ToText\";\nimport {MusicBadge} from \"../bages/musicBadge\";\nimport {liturgyUrl} from \"../../utils/utils\";\n\nexport const RenderBooksMenu = ({books, path, columns = 6, header = true}) => {\n\n    const classes = useStyles()\n\n    const populate = (obj) => {\n        const keys = Object.keys(obj)\n        let separator = ''\n        let comp = []\n\n        keys.forEach(key => {\n            if (obj[key].book_classification !== separator) {\n\n                if (header) {\n                    separator = obj[key].book_classification;\n                } else {\n                    separator = ''\n                }\n                comp.push(\n                    <Grid item xs={12} key={makeRandomKey()}>\n                        <hr className={classes.hr}/>\n                        <Typography variant=\"h6\" className={classes.title}>\n                            {capitalize(separator)}\n                        </Typography>\n                    </Grid>\n                )\n            }\n\n            // this should be removed when all Karaites books turn to better books\n            const url = liturgyUrl(obj[key].book_title_en, obj[key].better_book, path)\n\n            comp.push(\n                <Link to={url} key={makeRandomKey()}>\n                    <div className={classes.item}>\n                    <span className={classes.left}>\n                        <Typography className={classes.bookTitleHe}>{obj[key].book_title_he}</Typography>\n                    </span>\n                        <span className={classes.note}>\n                         <MusicBadge length={obj[key].songs_list.length} audio={obj[key].better_book}/>\n                    </span>\n                        <span className={classes.right}>\n                        <Typography className={classes.bookTitleEn}>\n                            {obj[key].book_title_en}\n                        </Typography>\n                    </span>\n                    </div>\n                </Link>\n            )\n\n        })\n        comp.push(\n            <Grid item xs={12} key={makeRandomKey()}>\n                <hr className={classes.hr}/>\n                <Typography variant=\"h6\" className={classes.title}>\n                </Typography>\n            </Grid>\n        )\n        return comp\n    }\n\n\n    const MainMenu = () => {\n        return (<Grid item xs={12} sm={columns} key={makeRandomKey()}>\n            <Grid item>\n                <Typography className={classes.title} variant=\"h6\" component=\"h2\">{capitalize(path)}</Typography>\n            </Grid>\n            <ToText/>\n            <Grid container spacing={2}>\n                {populate(books)}\n            </Grid>\n        </Grid>)\n    }\n\n    return (<div className={classes.container}>\n        <Grid container\n              direction=\"column\"\n              justifycontent=\"space-evenly\"\n              alignItems=\"center\">\n            <Filler xs={12}/>\n            <MainMenu/>\n            <Filler xs={12}/>\n        </Grid>\n    </div>)\n\n}\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        width: 'auto',\n        height: '100%',\n        fontSize: 18,\n        fontFamily: 'SBL Hebrew',\n    },\n    title: {\n        marginLeft: 20,\n        marginTop: 10,\n        marginBottom: 10,\n    },\n    bookTitle: {\n        marginLeft: 30,\n        fontSize: 18,\n    },\n    hr: {\n        marginTop: 30,\n        marginBottom: 30,\n        marginLeft: 20,\n        marginRight: 20,\n    },\n    bodyText: {\n        fontSize: '14pt',\n    },\n    subtitle: {\n        marginBottom: 20,\n        color: 'gray',\n    },\n    bookTitleEn: {\n        textAlign: 'left',\n    },\n    bookTitleHe: {\n        textAlign: 'right',\n    },\n    left: {\n        width: '50%',\n        paddingLeft: 20,\n        margin: 5,\n        justifyItems: 'right',\n    },\n    right: {\n        width: '50%',\n        paddingRight: 20,\n        margin: 5,\n        justifyItems: 'left',\n    },\n    item: {\n        display: 'flex',\n    },\n    note: {\n        marginLeft: 20,\n        marginRight: 20,\n        minWidth: 20,\n    }\n}));\n","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {q640} from \"../../constants/constants\";\n\n\nexport const NotFound404 = () => {\n    const classes = useStyles()\n    const matches = useMediaQuery(q640)\n    return (\n        <div className={classes.container}>\n            <div className={classes.center}>\n                <p className={(matches ? classes.fontLarge : classes.fontSmall)}>Error 404 page not found!</p>\n            </div>\n        </div>\n    )\n}\n\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        display: \"flex\",\n        width: '100%',\n        height: '100%',\n        justifyContent: 'center',\n    },\n    center: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    fontSmall: {\n        fontSize: 25,\n    },\n    fontLarge: {\n        fontSize: 40,\n    },\n}));\n\n","import React from \"react\";\nimport {liturgyUrl, makeRandomKey} from \"../../utils/utils\";\nimport {Link} from \"react-router-dom\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {MusicBadge} from \"../bages/musicBadge\";\n\n\nconst liturgyMenuItems = (obj, classes, path, classifications) => {\n    let comp = []\n    let keys = Object.keys(obj)\n\n    keys.forEach(key => {\n        if (classifications === obj[key].book_classification) {\n            const url = liturgyUrl(obj[key].book_title_en, obj[key].better_book, path)\n            comp.push(\n                <Link to={url} key={makeRandomKey()}>\n                    <div className={classes.item} >\n                            <span className={classes.left}>\n                                <Typography className={classes.bookTitleHe}>{obj[key].book_title_he}</Typography>\n                            </span>\n                        <span className={classes.note}>\n                            <MusicBadge length={obj[key].songs_list.length} audio={obj[key].better_book}/>\n                            </span>\n                        <span className={classes.right}>\n                                <Typography className={classes.bookTitleEn}>\n                                    {obj[key].book_title_en}\n                                </Typography>\n                            </span>\n                    </div>\n                </Link>\n            )\n        }\n\n    })\n    return comp\n}\n\nexport default liturgyMenuItems\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport {makeStyles} from \"@material-ui/core/styles\";\n\nconst ArrowButton = ({direction, onClick, saying, style}) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.pointer} onClick={onClick}>\n            <Typography variant=\"h6\" className={style}>\n             {saying} {direction ? <ArrowDropUpIcon /> : <ArrowDropDownIcon  />}\n            </Typography>\n        </div>\n    )\n}\n\nexport default ArrowButton;\n\nconst useStyles = makeStyles((theme) => ({\n    pointer: {\n        cursor: 'pointer',\n    },\n}));","import React, {useState, useEffect} from 'react'\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Filler from \"../general/Filler.tsx\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {capitalize, makeRandomKey} from \"../../utils/utils\";\nimport {ToText} from \"../general/ToText\";\nimport liturgyMenuItems from \"./LiturgyItems\";\nimport ArrowButton from \"./ArrowButton\";\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport IconButton from '@material-ui/core/IconButton';\n\n\nexport const RenderLiturgyMenu = ({books, path, columns = 6, header = true}) => {\n    const [open, setOpen] = useState(Array.from({length: books.length}, i => i = false));\n    const classes = useStyles()\n\n    const onClickArrow = key => {\n        //  change hide show class for element  id=key\n        setOpen({...open, [key]: !open[key]})\n    }\n\n    const classification = (obj) => {\n        const keys = Object.keys(obj)\n        let separator = ''\n        let comp = []\n\n\n        keys.forEach(key => {\n            if (obj[key].book_classification !== separator) {\n\n                if (header) {\n                    separator = obj[key].book_classification;\n                } else {\n                    separator = ''\n                }\n                comp.push(\n                    <Grid item xs={12} key={makeRandomKey()}>\n                        <ArrowButton direction={open[key]} onClick={() => onClickArrow(key)} saying={capitalize(separator)} style={classes.title}/>\n                        <div className={(open[key] ? classes.show : classes.hide)}>\n                            {liturgyMenuItems(obj, classes, path, separator)}\n                        </div>\n                        <hr className={classes.hr}/>\n                    </Grid>\n                )\n            }\n\n        })\n        return comp\n    }\n    const closeAll = () => {\n        setOpen(Array.from({length: books.length}, i => i = false))\n    }\n    const openAll = () => {\n        setOpen(Array.from({length: books.length}, i => i = true))\n    }\n    const CloseOpenALl = () => {\n        return (\n            <div className={classes.closeOpenAll}>\n                <IconButton  aria-label=\"open all\" onClick={openAll}>\n                    <ArrowDropDownIcon/>\n                </IconButton>\n                <IconButton  aria-label=\"close all\" onClick={closeAll}>\n                    <ArrowDropUpIcon/>\n                </IconButton>\n            </div>\n        )\n    }\n\n    const LiturgyMenu = () => {\n        return (\n            <Grid item xs={6} sm={columns}>\n                <Grid item>\n                    <Typography className={classes.title} variant=\"h6\" component=\"h2\">{capitalize(path)}</Typography>\n                    <Grid item>\n                        <ToText/>\n                        <CloseOpenALl/>\n                    </Grid>\n                    <hr className={classes.hr}/>\n                </Grid>\n\n                <Grid container spacing={2}>\n                    {classification(books)}\n                </Grid>\n            </Grid>)\n    }\n\n    return (\n        <div>\n            <div className={classes.container}>\n                <Grid container\n                      spacing={2}\n                      direction=\"column\"\n                      justifycontent=\"space-evenly\"\n                      alignItems=\"center\"\n                >\n                    <Filler xs={12}/>\n                    <LiturgyMenu/>\n                </Grid>\n            </div>\n\n        </div>\n    )\n\n}\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        margin: 'auto',\n        maxWidth: 1100,\n        width: '100%',\n        height: '100%',\n        fontSize: 18,\n        fontFamily: 'SBL Hebrew',\n    },\n    title: {\n        marginLeft: 10,\n        minHeight: 50,\n    },\n    bookTitle: {\n        marginLeft: 30,\n        fontSize: 18,\n    },\n    hide: {\n        display: 'none',\n    },\n    show: {\n        display: 'block',\n    },\n    hr: {\n        padding: 0,\n        width: 'auto',\n    },\n    bodyText: {\n        fontSize: '14pt',\n    },\n    subtitle: {\n        minWidth: 600,\n        marginTop: 20,\n        marginBottom: 20,\n    },\n    bookTitleEn: {\n        textAlign: 'left',\n    },\n    bookTitleHe: {\n        textAlign: 'right',\n    },\n    left: {\n        width: '50%',\n        paddingLeft: 20,\n        margin: 5,\n        justifyItems: 'right',\n    },\n    right: {\n        width: '50%',\n        paddingRight: 20,\n        margin: 5,\n        justifyItems: 'left',\n    },\n    item: {\n        width: '100%',\n        display: 'flex',\n    },\n    note: {\n        marginLeft: 20,\n        marginRight: 20,\n        minWidth: 20,\n    },\n    closeOpenAll: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n    }\n}));\n","import React, {useState, useEffect, useContext} from 'react'\nimport {RenderBooksMenu} from './RenderBooksMenu';\nimport {useLocation} from \"react-router-dom\"\nimport {karaitesBookByLevelAndClassification} from '../../constants/constants';\nimport {removeSlash} from '../../utils/utils';\nimport {NotFound404} from '../pages/NotFound404';\nimport {dataFetch} from '../api/dataFetch';\nimport {referenceContext} from '../../stores/references/referenceContext';\nimport {RenderLiturgyMenu} from './RenderLiturgyMenu';\n\n\ninterface BookLevelClassification {\n    book_id: number,\n    book_first_level: string,\n    book_language: string,\n    book_classification: string,\n    author: string,\n    book_title_en: string,\n    book_title_he: string,\n    table_book: boolean,\n    columns: number,\n    columns_order: string,\n    toc_columns: string,\n    toc: string,\n    intro: string,\n    direction: 'ltr' | 'rtl | LTR | RTL',\n    remove_class: string,\n    remove_tags: string,\n    multi_tables: boolean,\n    songs_list: string[],\n    buy_link: string,\n    index_lag: boolean,\n    better_book: boolean,\n}\n\ntype DataDetails = BookLevelClassification[]\n\nexport const Second = () => {\n\n    const [showBooks, setShowBooks] = useState<boolean>(false);\n    const [books, setBooks] = useState<DataDetails>();\n    const [error, setError] = useState<boolean>(false);\n    const path = removeSlash(useLocation().pathname)\n    const reference = useContext(referenceContext);\n    const header = reference.getBreakOnClassification(path)\n\n    useEffect(() => {\n        dataFetch<DataDetails>(`${karaitesBookByLevelAndClassification}${path}/`).then(data => {\n            setBooks(data)\n            setShowBooks(data.length > 0)\n        }).catch((e) => {\n            setError(() => true)\n        })\n    }, [error, showBooks, path])\n\n    if (error) return <NotFound404/>\n\n    if(path === 'Liturgy') return (showBooks ? <RenderLiturgyMenu books={books} path={path} header={header}/> : null)\n\n    return (showBooks ? <RenderBooksMenu books={books} path={path} header={header}/> : null)\n};\n\nexport default Second","import {useEffect} from 'react'\nimport { withRouter, useLocation } from 'react-router-dom';\nimport ReactGA from 'react-ga';\nconst Track = () => {\n    let location = useLocation();\n    useEffect(() => {\n        ReactGA.set({page: location.pathname});\n        ReactGA.pageview(location.pathname);\n    }, [location]);\n    return null;\n};\nexport default withRouter(Track);\n","import React from \"react\";\nimport {BrowserRouter, Route, Switch} from \"react-router-dom\";\nimport MyAppBar from \"./components/menu/AppBar\";\nimport FirstLevel from \"./components/menu/FirstLevel\"\nimport Tanakh from \"./components/tanakh/Tanakh\"\nimport LoadBook from \"./components/LoadBook\";\nimport {createTheme} from '@material-ui/core/styles'\nimport {ThemeProvider} from '@material-ui/core/styles'\nimport Display from \"./components/pages/Display\";\nimport {TanakhBooksLink} from \"./components/tanakh/TanakBooksLink\";\nimport SearchResults from \"./components/pages/SearchResults\";\nimport StoreProvider from \"./stores/context\";\nimport SpeechProvider from \"./stores/ttspeechContext\";\nimport AudioBookProvider from \"./stores/audioBookContext\";\nimport ReferenceProvider from \"./stores/references/referenceContext\";\nimport MessageProvider from \"./stores/messages/messageContext\";\nimport Message from './components/messages/Message';\nimport Acknowledgment from \"./components/pages/Acknowledgments\";\nimport LoadingSpin from \"./components/general/LoadingSpin\";\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Second from \"./components/menu/getMenuSecond\";\nimport ReactGA from 'react-ga';\nimport Track from \"./components/analytics/track\";\n\n\n\nReactGA.initialize(\"G-1JBZBTTCSV\", {\n    // debug: true,\n    titleCase: false,\n    siteSpeedSampleRate: 100,\n    gaOptions: {\n        userId: 100\n    }\n});\n\nconst NullComponent = () => null;\n\nfunction App() {\n    const prefersDarkMode = useMediaQuery('(prefers-color-scheme:dark)');\n    const theme = React.useMemo(\n        () =>\n            createTheme({\n                palette: {\n                    type: prefersDarkMode ? 'dark' : 'light',\n                },\n            }),\n        [prefersDarkMode],\n    );\n\n    return (\n        <ThemeProvider theme={theme}>\n            <CssBaseline/>\n            <StoreProvider>\n                <AudioBookProvider>\n                    <SpeechProvider>\n                        <MessageProvider>\n                            <ReferenceProvider>\n                                <BrowserRouter>\n                                    <MyAppBar/>\n                                    <Message/>\n                                    <LoadingSpin/>\n                                    <Track/>\n                                    <Switch>\n\n                                        <Route exact path=\"/\">\n                                            <Display/>\n                                        </Route>\n\n                                        <Route exact path=\"/texts/\">\n                                            <FirstLevel/>\n                                        </Route>\n\n                                        <Route exact path=\"/acknowledgments/\">\n                                            <Acknowledgment/>\n                                        </Route>\n\n                                        <Route exact path=\"/search-result/\" forceRefresh={true}>\n                                            <SearchResults/>\n                                        </Route>\n\n                                        <Route exact path=\"/Tanakh/:book/:chapter/:verse/\" children={\n                                            <LoadBook type='bible'/>}/>\n                                        <Route exact path=\"/Tanakh/:book/:chapter/\" children={\n                                            <LoadBook type='bible'/>}/>\n                                        <Route exact path=\"/Tanakh/:book/\" children={<TanakhBooksLink/>}/>\n                                        <Route exact path=\"/Tanakh/\"><Tanakh/></Route>\n\n                                        {/* better format should replace all other formats on the long run */}\n                                        <Route exact path=\"/book/:book/\" children={<LoadBook type='better'/>}/>\n\n                                        {/* classification, Liturgy, commentary, etc. */}\n                                        <Route path=\"/*/:book/:chapter/:verse/:intro/\" children={\n                                            <LoadBook type=\"karaites\"/>}/>\n\n                                        <Route path=\"/*/:book/:chapter/:verse/\" children={<LoadBook type=\"karaites\"/>}/>\n                                        <Route path=\"/*/:book/:chapter/\" children={<LoadBook type=\"karaites\"/>}/>\n\n                                        {/* hack to avoid 404 in autocomplete */}\n                                        <Route exact path=\"/empty/\"><NullComponent/></Route>\n\n                                        <Route path=\"/*/\"><Second/></Route>\n\n                                    </Switch>\n                                </BrowserRouter>\n                            </ReferenceProvider>\n                        </MessageProvider>\n                    </SpeechProvider>\n                </AudioBookProvider>\n            </StoreProvider>\n        </ThemeProvider>\n    );\n}\n\nexport default App;\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport {BrowserRouter} from 'react-router-dom'\n// import reportWebVitals from './reportWebVitals'\n//import \"react-simple-keyboard/build/css/index.css\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <App/>\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n//\n// // If you want to start measuring performance in your app, pass a function\n// // to log results (for example: reportWebVitals(console.log))\n// // or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}