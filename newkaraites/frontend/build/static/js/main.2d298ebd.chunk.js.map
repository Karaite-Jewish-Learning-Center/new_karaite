{"version":3,"sources":["constants/constants.ts","utils/utils.ts","stores/appState.ts","stores/context.js","utils/parseBiblicalReference.js","constants/colors.js","components/autcomplete/autocomplete.jsx","utils/validateBiblicalReference.ts","components/menu/AppBar.jsx","components/api/dataFetch.tsx","components/menu/FirstLevel.jsx","components/general/Filler.tsx","utils/languageDirection.ts","components/general/ToText.tsx","components/menu/RenderMenu.jsx","components/tanakh/Tanakh.tsx","components/general/TabPanel.jsx","utils/transform.jsx","components/comments/RenderComment.jsx","components/comments/Comments.jsx","components/pages/RightPaneHeader.jsx","components/comments/CommentPane.jsx","components/halakhah/HalakhahPane.jsx","img/text-to-speech.svg","img/text-to-speech-off.svg","components/buttons/textToSpeechButton.tsx","components/panes/RightPane.jsx","components/general/RefsBadge.tsx","utils/english-hebrew/numberConvertion.ts","components/tanakh/ChapterHeaderVerse.jsx","components/buttons/LanguageButton.tsx","components/buttons/CloseButton.tsx","components/tanakh/RenderHeader.jsx","stores/ttSpeech.ts","stores/ttspeechContext.js","components/tanakh/RenderText.jsx","components/messages/translateMessages.jsx","components/buttons/InfoButton.tsx","components/buttons/TocButton.tsx","components/buttons/BookButton.tsx","components/buttons/BuyButton.tsx","components/buttons/playPauseReset.tsx","components/audio/audio-player/basic-audio-player.jsx","components/hooks/useAudio.jsx","components/buttons/music-select.tsx","components/karaites/KaraitePaneHeader.tsx","components/karaites/karaitesBooks.tsx","components/getBook.jsx","components/LoadBook.jsx","utils/cleanUrl.ts","components/bages/musicBadge.tsx","components/menu/RenderBooksMenu.jsx","components/halakhah/Halakhah.tsx","components/liturgy/Liturgy.tsx","components/poetry/poetry.tsx","components/polemic/Polemic.tsx","components/comments/comment.tsx","components/Exhortatory/Exhortatory.tsx","components/pages/Display.jsx","components/menu/ChapterMenu.jsx","components/tanakh/TanakBooksLink.jsx","components/halakhah/HalakhahMenu.jsx","components/halakhah/HalakhahBookList.jsx","components/messages/Please.jsx","components/pages/SearchResults.jsx","components/pages/NotFound404.jsx","components/messages/Message.jsx","components/pages/Acknowledgments.tsx","components/general/LoadingSpin.tsx","App.js","index.js"],"names":["apiUrl","TRANSFORM_TYPE","bookChapterUrl","getCommentsUrl","getFirstLevelUrl","karaitesBookUrl","karaitesBookByLevelAndClassification","karaitesBookToc","referencesUrl","autocompleteUrl","searchResultsUrl","LANGUAGE_KEY","LANGUAGE_SYMBOL","chaptersByBibleBook","versesByBibleBook","q640","capitalize","string","toUpperCase","slice","makeBookUrl","url","book","chapter","first","full","makeRandomKey","Math","random","slug","str","replaceAll","unslug","calculateItemNumber","verse","pos","indexOf","substr","toLowerCase","normalizeSluggedBookName","parseInt","reduce","x","y","englishBookNames","hebrewBookNames","matchHebrewBookName","bibleRef","Object","keys","name","startsWith","replace","englishBookNameToHebrew","englishBookName","trim","hebrewBookNameToEnglish","hebrewBookName","isABibleBook","split","AppState","panes","loading","message","search","searchResultData","moreResults","options","setIsRightPaneOpen","state","paneNumber","isRightPaneOpen","getIsRightPaneOpen","setCommentTab","tab","commentTab","getCommentTab","setComments","comments","getComments","setCommentsChapter","commentsChapter","getCommentsChapter","setCommentsVerse","commentsVerse","getCommentsVerse","getBook","i","setChapter","setVerse","runInAction","getVerse","getVerses","verses","setVerseData","data","verseData","getVerseData","setBookData","bookData","getBookData","setDistance","distance","getDistance","setCurrentItem","item","currentItem","getCurrentItem","setRightPaneState","rightPaneState","getRightPaneState","setPanes","pane","getPanes","isPaneOpen","some","isBookOpen","closePane","console","log","length","splice","resetPanes","setLoading","getLoading","setParagraphs","paragraphs","getParagraphs","getKaraitesChapter","setBookDetails","details","book_details","getBookDetails","setBookTOC","toc","TOC","getBookTOC","setMessage","getMessage","setHeaderChapter","headerChapter","setSearch","searchArg","getSearch","setSearchResultData","result","getSearchResultData","setMoreResults","more","getMoreResults","setOptions","getOptions","getAutoComplete","a","fetch","response","json","setLanguage","language","languages","getLanguage","nextLanguage","push","shift","makeAutoObservable","this","observable","isLastPane","computed","appStore","storeContext","createContext","StoreProvider","children","store","useLocalObservable","Provider","value","parseEnglishRef","biblicalRef","re","chapterVerse","match","refBook","refChapter","refVerse","refHighlight","map","arabic","parseBiblicalReference","e","target","childNodes","parentElement","lang","chapterVerseBook","splitOn","gematriya","hebrewNumber","parseHebrewRef","Colors","bibleSelectedVerse","verseOnMouseOver","underline","gray","headerBackgroundColor","rightPaneBackGround","rulerColor","chapterMenu","tanakh","leftPaneHeader","black","white","useStyles","makeStyles","theme","root","backgroundColor","margin","padding","width","breakpoints","down","inputRoot","marginBottom","observer","useContext","useState","isOpen","setIsOpen","classes","history","useHistory","showResults","validMessage","theBook","chapterNumber","verseNumber","numberOfChapters","numberOfVerses","validateBiblicalReference","window","location","pathname","goBack","useEffect","then","catch","Autocomplete","freeSolo","open","fullWidth","option","onKeyUp","event","code","onChange","reason","w","getOptionLabel","style","marginRight","inputValue","onInputChange","newValue","renderOption","c","renderInput","params","TextField","label","variant","PrimarySearchAppBar","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleLanguageMenuOpen","preventDefault","currentTarget","handleMobileMenuClose","handleMenuClose","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","onClose","MenuItem","onClick","mobileMenuId","renderMobileMenu","IconButton","color","AppBar","position","Toolbar","Typography","className","component","link","to","Hidden","smDown","href","rel","sectionDesktop","edge","sectionMobile","flexGrow","justifyContent","display","fontSize","marginLeft","marginTop","fetchData","border","paddingTop","spacing","grid","card","height","up","ruler","borderColor","FirstLevel","classification","setClassification","levels","key","Grid","xl","lg","md","sm","xs","variante","container","justifycontent","alignItems","Filler","languageDirection","ToText","caption","size","paddingLeft","paddingRight","title","titleHalakhah","text","fontsize","RenderMenu","books","path","columns","MakeMenu","index","obj","direction","Tanakh","TabPanel","props","other","role","hidden","Box","p","transform","refClick","kind","node","type","bind","RenderComments","ref","html","Fragment","parse","domNode","Header","backButton","header","iconGrid","icon","undefined","minHeight","maxWidth","scroll","overflow","paddingBottom","Tabs","Tab","openBook","references","setReferences","callOpenBook","reference","headerColor","content","Button","button","no","textTransform","TextToSpeechButton","onOff","src","textToSpeechOn","textToSpeechOff","items","showState","setShowState","clickToOpen","panNumber","pop","Item","disabled","startIcon","PaneBody","body","top","pointer","cursor","RefsBadge","refsCount","Badge","indoArabicToHebrewCardinal","indo_arabic_number","indoArabicToHebrew","number","textContainer","flexWrap","chapterTitle_he","minWidth","he","textDecoration","textDecorationColor","en","ch","fontFamily","chapterTitle_en","textAlign","verticalAlign","verseHe","alignSelf","vn","verseEn","hebrewFont","englishFont","selectVerse","playButton","gridVisibleRange","allBookData","speaking","chapterHtml","renderChapter","refs_comment","ref_halakha","current","startIndex","found","ChapterBody","langButton","lineHeight","CloseButton","maxHeight","hebrewBook","center","adjust","chapterView","englishBook","RenderHeader","onClosePane","flip","onSpeakOnOffHe","onSpeakOnOffEn","HeaderBody","TextToSpeech","synthesise","paused","resumed","error","started","ended","voice","canceled","setVoice","getVoice","getIndex","play","callback","SpeechSynthesisUtterance","speechSynthesis","getVoices","volume","pitch","rate","onend","onpause","onresume","onerror","onstart","speak","pause","cancel","resume","getPlaying","getPaused","getResumed","getStarted","getEnded","Promise","resolve","onvoiceschanged","voices","findIndex","v","ttSpeechStore","speechContext","SpeechProvider","speech","setSpeaking","setFlip","endIndex","setGridVisibleRange","virtuoso","useRef","callFromEnded","setTimeout","scrollToIndex","align","behavior","avg","start","end","calculateCurrentChapter","initialTopMostItemIndex","rangeChanged","itemContent","components","Footer","translateMessage","InfoButton","TocButton","BookButton","BuyButton","PlayPauseReset","onReset","playing","BasicAudioPlayer","song","useMemo","Audio","alert","audio","setPlaying","addEventListener","removeEventListener","currentTime","useAudio","toggle","reset","MusicSelect","songs","setSong","selectSong","resources","iconButton","KaraitesPaneHeader","onIntroClick","onTocClick","onBookClick","matches","useMediaQuery","xsColumns1","xsColumns2","songs_list","buy_link","alignContent","paragraphContainer","background","paragraph","liturgy","flexDirection","paragraphContainerHeEn","tocParagraph","tocItem","hebrew","float","english","selected","Hide","Show","heLeft","filler","heRight","enRight","heRightCenter","head","minWith","tocButton","KaraitesBooks","flags","setFlags","onButtonClick","starParagraph","selectCurrent","itemTable","TableBook","initial","table_book","book_title_en","topItem","intro","KaraitePaneHeader","ok","highlight","rightPaneStateHalakhah","rightPane","hiddenRightPane","useParams","RenderRightPane","jsx","RenderText","bookRender","cleanUrl","substring","MusicBadge","RenderBooksMenu","populate","separator","comp","forEach","book_classification","hr","left","bookTitleHe","book_title_he","note","right","bookTitleEn","MainMenu","subtitle","bookTitle","bodyText","justifyItems","fetchBooks","Halakhah","showBooks","setShowBooks","React","setBooks","Liturgy","Poetry","Polemic","Comment","Exhortatory","boxTitle","questions","join","textJoin","noSpace","fill","Display","chapters","ChapterMenu","bibleBook","level","Array","_","TanakhBooksLink","parts","useLocation","backlink","HalakhahMenu","setToc","TableOfContents","scrollTo","colSpan","HalakhahBookLink","Please","didYouMean","setDidYouMean","searchTerm","setSearchTerm","page","setPage","endReached","ReactHtmlParser","NotFound404","fontLarge","fontSmall","close","hide","handleClose","Snackbar","autoHideDuration","action","Acknowledgment","LoadingSpin","defaultProps","App","ThemeProvider","exact","forceRefresh","createTheme","palette","primary","main","secondary","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"ieAyBO,IAAMA,EAHH,2BAcGC,EAAyB,QAMzBC,EAAyBF,EAAS,wBAElCG,EAAyBH,EAAS,oBAClCI,EAA2BJ,EAAS,uBACpCK,EAA0BL,EAAS,iCAGnCM,EAA+CN,EAAS,sDACxDO,EAA0BP,EAAS,6BACnCQ,EAAwBR,EAAS,sBACjCS,EAA0BT,EAAS,oBACnCU,EAA2BV,EAAS,cAIpCW,EAA6B,CAAC,GAAM,EAAG,GAAM,EAAG,MAAS,GACzDC,EAAgC,CAAC,EAAG,IAAK,EAAG,SAAU,EAAG,WAuBzDC,EAAoC,CAC7C,QAAW,GACX,OAAU,GACV,UAAa,GACb,QAAW,GACX,YAAe,GACf,OAAU,GACV,OAAU,GACV,WAAY,GACZ,WAAY,GACZ,YAAa,GACb,YAAa,GACb,UAAW,GACX,UAAW,GACX,WAAY,GACZ,WAAY,GACZ,OAAU,GACV,SAAY,GACZ,QAAW,GACX,MAAS,GACT,KAAQ,EACR,KAAQ,EACR,QAAW,EACX,MAAS,EACT,MAAS,EACT,MAAS,EACT,SAAY,EACZ,UAAa,EACb,OAAU,EACV,UAAa,GACb,QAAW,EACX,OAAU,IACV,SAAY,GACZ,IAAO,GACP,gBAAiB,EACjB,gBAAiB,EACjB,KAAQ,EACR,aAAgB,EAChB,aAAgB,GAChB,OAAU,GACV,OAAU,GACV,KAAQ,GACR,SAAY,GACZ,eAAgB,GAChB,eAAgB,GAChB,gBAAiB,GACjB,gBAAiB,IAIRC,EAAiC,CAC1C,QAAW,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAChN,OAAU,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvK,UAAa,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACrH,QAAW,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACxJ,YAAe,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACpJ,OAAU,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,IACtG,OAAU,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC3F,WAAY,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACrI,WAAY,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACrI,YAAa,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC1G,YAAa,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC1G,UAAW,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAChG,UAAW,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAChG,WAAY,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC7G,WAAY,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC7G,OAAU,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACxQ,SAAY,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,IACvN,QAAW,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvM,MAAS,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC9F,KAAQ,CAAC,GAAI,GAAI,EAAG,IACpB,KAAQ,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACzC,QAAW,CAAC,IACZ,MAAS,CAAC,GAAI,GAAI,GAAI,IACtB,MAAS,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAClC,MAAS,CAAC,GAAI,GAAI,IAClB,SAAY,CAAC,GAAI,GAAI,IACrB,UAAa,CAAC,GAAI,GAAI,IACtB,OAAU,CAAC,GAAI,IACf,UAAa,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,IACjE,QAAW,CAAC,GAAI,GAAI,IACpB,OAAU,CAAC,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GACnjB,SAAY,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACrI,IAAO,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC3K,gBAAiB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC9C,gBAAiB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC9C,KAAQ,CAAC,GAAI,GAAI,GAAI,IACrB,aAAgB,CAAC,GAAI,GAAI,GAAI,GAAI,IACjC,aAAgB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC7D,OAAU,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC/C,OAAU,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAQ,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC7C,SAAY,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC7D,eAAgB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAChI,eAAgB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAChI,gBAAiB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC7J,gBAAiB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAIpJC,EAAe,oB,oDC/KfC,GAAa,SAACC,GAAD,MAEX,KAAXA,EAAgB,GAAKA,EAAO,GAAGC,cAAgBD,EAAOE,MAAM,IAWnDC,GAAc,SAACC,EAAaC,EAAcC,EAAiBC,EAAeC,GAA5D,OACtBA,EAAI,UAAMJ,GAAN,OAAYC,EAAZ,eAAyBD,GAAzB,OAA+BC,EAA/B,YAAuCC,EAAvC,YAAkDC,EAAlD,MAEIE,GAAgB,6BAAmC,KAAhBC,KAAKC,WAExCC,GAAO,SAACC,GAAD,OAAyBA,EAAIC,WAAW,IAAK,MAEpDC,GAAS,SAACF,GAAD,OAAyBA,EAAIC,WAAW,IAAK,MActDE,GAAsB,SAACX,EAAcC,EAAiBW,GAC/D,OAAOpB,EAX6B,SAACQ,GAGrC,IAAMa,GADNb,EAAOO,GAAKP,IACKc,QAAQ,KAAO,EAChC,OAAID,GAAO,EACAb,EAAKe,OAAO,EAAGF,GAAKjB,cAAgBF,GAAWM,EAAKe,OAAOF,EAAK,IAAMb,EAAKe,OAAOF,EAAM,GAAGG,cAE/FtB,GAAWM,GAIOiB,CAAyBjB,IAAOH,MAAM,EAAGqB,SAASjB,GAAW,GAAGkB,QAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,IAAG,GAAKH,SAASN,GAAS,GAG/HU,GAA+B,CACxC,QAAW,uCACX,OAAU,2BACV,UAAa,iCACb,QAAW,iCACX,YAAe,iCACf,KAAQ,2BACR,QAAW,uCACX,SAAY,iCACZ,OAAU,qBACV,MAAS,2BACT,UAAW,wCACX,WAAY,wCACZ,WAAY,wCACZ,YAAa,wCACb,OAAU,iCACV,SAAY,iCACZ,KAAQ,2BACR,MAAS,2BACT,OAAU,iCACV,OAAU,uCACV,QAAW,iCACX,MAAS,2BACT,MAAS,2BACT,QAAW,uCACX,UAAa,iCACb,UAAa,iCACb,OAAU,iCACV,aAAgB,2BAChB,OAAU,2BACV,KAAQ,2BACR,eAAgB,iEAChB,gBAAiB,iEACjB,IAAO,2BACP,aAAgB,2BAChB,SAAY,iCACZ,SAAY,2BACZ,OAAU,uCACV,KAAQ,qBACR,gBAAiB,2DAGRC,GAA8B,CACvC,uCAAU,UACV,2BAAQ,SACR,iCAAS,YACT,iCAAS,UACT,iCAAS,cACT,2BAAQ,OACR,uCAAU,UACV,iCAAS,WACT,qBAAO,SACP,2BAAQ,QACR,wCAAW,UACX,wCAAW,WACX,wCAAW,WACX,wCAAW,YACX,iCAAS,SACT,uCAAU,SACV,iCAAS,WACT,uCAAU,WACV,2BAAQ,OACR,2BAAQ,QACR,iCAAS,SACT,uCAAU,SACV,iCAAS,UACT,2BAAQ,QACR,2BAAQ,QACR,uCAAU,UACV,iCAAS,YACT,iCAAS,YACT,iCAAS,SACT,2BAAQ,eACR,2BAAQ,SACR,2BAAQ,OACR,iEAAgB,eAChB,iEAAgB,gBAChB,2BAAQ,MACR,2BAAQ,eACR,iCAAS,WACT,2BAAQ,WACR,iCAAS,SACT,uCAAU,SACV,qBAAO,OACP,0DAAc,iBAOLC,GAAsB,SAACC,GAAqC,IAAD,iBAJxBC,OAAOC,KAAKJ,KAIY,IACpE,2BAAgC,CAAC,IAAxBK,EAAuB,QAC5B,GAAIH,EAASI,WAAWD,GACpB,MAAO,CAACH,EAASK,QAAQF,EAAM,IAAKA,IAHwB,8BAMpE,MAAO,IAGEG,GAA0B,SAACC,GAAD,OACnCV,GAAiB5B,GAAWsC,EAAgBC,OAAOjB,iBAE1CkB,GAA0B,SAACC,GAAD,OACnCZ,GAAgBY,IAEPC,GAAe,SAACpC,GAAD,OAExBN,GAAWM,EAAKiC,OAAOI,MAAM,KAAK,MAAOf,ICnJvCgB,G,WAeF,aAAe,IAAD,gCAbdC,MAAoB,GAaN,KAXdC,SAAU,EAWI,KATdC,QAAkB,GASJ,KAPdC,OAAiB,GAOH,KANdC,iBAAkC,GAMpB,KALdC,aAAuB,EAKT,KAFdC,QAAsB,GAER,KAcdC,mBAAqB,SAACC,EAAgBC,GAClC,EAAKT,MAAMS,GAAYC,gBAAkBF,GAf/B,KAkBdG,mBAAqB,SAACF,GAClB,OAAO,EAAKT,MAAMS,GAAYC,iBAnBpB,KAuBdE,cAAgB,SAACC,EAAaJ,GAC1B,EAAKT,MAAMS,GAAYK,WAAaD,GAxB1B,KA0BdE,cAAgB,SAACN,GAAD,OAAgC,EAAKT,MAAMS,GAAYK,YA1BzD,KA4BdE,YAAc,SAACC,EAAyBR,GACpC,EAAKT,MAAMS,GAAYQ,SAAWA,GA7BxB,KAgCdC,YAAc,SAACT,GAAD,OAAoC,EAAKT,MAAMS,GAAYQ,UAhC3D,KAkCdE,mBAAqB,SAACzD,EAAiB+C,GACnC,EAAKT,MAAMS,GAAYW,gBAAkB1D,GAnC/B,KAqCd2D,mBAAqB,SAACZ,GAAD,OAA8B,EAAKT,MAAMS,GAAYW,iBArC5D,KAuCdE,iBAAmB,SAACjD,EAAeoC,GAC/B,EAAKT,MAAMS,GAAYc,cAAgBlD,GAxC7B,KA0CdmD,iBAAmB,SAACf,GAAD,OAA8B,EAAKT,MAAMS,GAAYc,eA1C1D,KA4CdE,QAAU,SAACC,GAAD,OAAuB,EAAK1B,MAAM0B,GAAGjE,MA5CjC,KA8CdkE,WAAa,SAACjE,EAAiBgE,GAC3B,EAAK1B,MAAM0B,GAAGhE,QAAUiB,SAASjB,IA/CvB,KAkDdkE,SAAW,SAACvD,EAAeqD,GACvBG,cAAY,WACR,EAAK7B,MAAM0B,GAAGrD,MAAQA,MApDhB,KAuDdyD,SAAW,SAACJ,GAAD,OAAuB,EAAK1B,MAAM0B,GAAGrD,OAvDlC,KAyDd0D,UAAY,SAACL,GAAD,OAA8B,EAAK1B,MAAM0B,GAAGM,QAzD1C,KA2DdC,aAAe,SAACC,EAAkBR,GAC9BG,cAAY,WACR,EAAK7B,MAAM0B,GAAGS,UAAYD,MA7DpB,KAiEdE,aAAe,SAACV,GAAD,OAA2B,EAAK1B,MAAM0B,GAAGS,WAjE1C,KAmEdE,YAAc,SAACH,EAAkBR,GAC7B,EAAK1B,MAAM0B,GAAGY,SAAd,sBAA6B,EAAKtC,MAAM0B,GAAGY,UAA3C,YAAwDJ,KApE9C,KAuEdK,YAAc,SAACb,GAAD,OAA2B,EAAK1B,MAAM0B,GAAGY,UAvEzC,KAyEdE,YAAc,SAACC,EAAkBf,GAC7B,EAAK1B,MAAM0B,GAAGe,SAAWA,GA1Ef,KA4EdC,YAAc,SAAChB,GAAD,OAAuB,EAAK1B,MAAM0B,GAAGe,UA5ErC,KA8EdE,eAAiB,SAACC,EAAclB,GAI5B,OAHAG,cAAY,WACR,EAAK7B,MAAM0B,GAAGmB,YAAcD,KAEzBA,GAlFG,KAqFdE,eAAiB,SAACpB,GAAD,OAAuB,EAAK1B,MAAM0B,GAAGmB,aArFxC,KAyFdE,kBAAoB,SAACvC,EAAgBkB,GACjC,EAAK1B,MAAM0B,GAAGsB,eAAiBxC,GA1FrB,KA4FdyC,kBAAoB,SAACvB,GAAD,OAA8B,EAAK1B,MAAM0B,GAAGsB,gBAAkB,CAAC,IA5FrE,KA+FdE,SAAW,SAACC,GACRtB,cAAY,WACR,EAAK7B,MAAL,sBAAiB,EAAKA,OAAtB,CAA6BmD,QAjGvB,KAqGdC,SAAW,kBAAkB,EAAKpD,OArGpB,KA2GdqD,WAAa,SAAC5F,EAAcC,EAAiBW,GAAhC,OACT,EAAK+E,WAAWE,MAAK,SAACH,GAAD,OAAUA,EAAK1F,OAASA,GAAQ0F,EAAKzF,UAAYA,EAAU,GAAKyF,EAAK9E,QAAUA,MA5G1F,KA8GdkF,WAAa,SAAC9F,GAAD,OACT,EAAK2F,WAAWE,MAAK,SAACH,GAAD,OAAUA,EAAK1F,OAASA,MA/GnC,KAiHd+F,UAAY,SAAC9B,GACT+B,QAAQC,IAAI,sBAAuB,EAAK1D,MAAM2D,QAC9C9B,cAAY,WACR,EAAK7B,MAAM4D,OAAOlC,EAAG,MAEzB+B,QAAQC,IAAI,qBAAsB,EAAK1D,MAAM2D,SAtHnC,KAyHdE,WAAa,WACT,EAAK7D,MAAQ,IA1HH,KA8Hd8D,WAAa,SAAC7D,GACV,EAAKA,QAAUA,GA/HL,KAiId8D,WAAa,kBAAe,EAAK9D,SAjInB,KAoId+D,cAAgB,SAACC,EAAwBvC,GACrC+B,QAAQC,IAAI,gBAAiBO,GAC7B,EAAKjE,MAAM0B,GAAGuC,WAAd,sBAA+B,EAAKjE,MAAM0B,GAAGuC,YAA7C,YAA4DA,KAtIlD,KAyIdC,cAAgB,SAACxC,GAAD,OAA2B,EAAK1B,MAAM0B,GAAGuC,YAzI3C,KA2IdE,mBAAqB,SAACzC,GAAD,OACoB,IAApC,EAAK1B,MAAM0B,GAAGuC,WAAWN,OAAe,EAAK3D,MAAM0B,GAAGhE,QAAU,EAAKsC,MAAM0B,GAAGuC,WAAWN,QA5IhF,KA8IdS,eAAiB,SAACC,EAAiB3C,GAC/B+B,QAAQC,IAAI,iBAAkBW,GAC9BxC,cAAY,WACR,EAAK7B,MAAM0B,GAAG4C,aAAeD,MAjJvB,KAoJdE,eAAiB,SAAC7C,GAEd,OADA+B,QAAQC,IAAI,iBAAkB,EAAK1D,MAAM0B,GAAG4C,cACrC,EAAKtE,MAAM0B,GAAG4C,cAtJX,KAyJdE,WAAa,SAACC,EAAa/C,GACvB,EAAK1B,MAAM0B,GAAGgD,IAAMD,GA1JV,KA4JdE,WAAa,SAACjD,GAAD,OAA2B,EAAK1B,MAAM0B,GAAGgD,KA5JxC,KAgKdE,WAAa,SAAC1E,GACV,EAAKA,QAAUA,GAjKL,KAmKd2E,WAAa,kBAAc,EAAK3E,SAnKlB,KAsKd4E,iBAAmB,SAACpH,EAAiBgE,GACjCG,cAAY,WACR,EAAK7B,MAAM0B,GAAGqD,cAAgBrH,MAxKxB,KA8KdsH,UAAY,SAACC,GACT,EAAK9E,OAAS8E,EACd,EAAK7E,iBAAmB,GACxB,EAAKC,aAAc,GAjLT,KAoLd6E,UAAY,kBAAc,EAAK/E,QApLjB,KAuLdgF,oBAAsB,SAACC,GAAD,OAClB,EAAKhF,iBAAL,sBAA4B,EAAKA,kBAAjC,YAAsDgF,KAxL5C,KA0LdC,oBAAsB,kBAAqB,EAAKjF,kBA1LlC,KA8LdkF,eAAiB,SAACC,GACd,EAAKlF,YAAckF,GA/LT,KAiMdC,eAAiB,kBAAe,EAAKnF,aAjMvB,KAqMdoF,WAAa,SAACnF,GACV,EAAKA,QAAUA,GAtML,KAyMdoF,WAAa,kBAAqB,EAAKpF,SAzMzB,KA2MdqF,gBA3Mc,uCA2MI,WAAOxF,GAAP,eAAAyF,EAAA,2DACVzF,EAAOwD,OAAS,GADN,yCACgB,IADhB,WAEV9D,GAAaM,GAFH,yCAEmB,IAFnB,uBAGS0F,MAAM,GAAD,OAAIjJ,GAAJ,OAAsBuD,EAAtB,MAHd,cAGR2F,EAHQ,YAId,EAJc,UAIQA,EAASC,OAJjB,yBAITN,WAJS,4DA3MJ,2DAoNdO,YAAc,SAACC,EAAkBvE,GAC7B,EAAK1B,MAAM0B,GAAGwE,UAAYD,GArNhB,KAuNdE,YAAc,SAACzE,GAAD,OAAuB,EAAK1B,MAAM0B,GAAGwE,UAAU,IAvN/C,KAyNdE,aAAe,SAAC1E,GAAD,OAA8B,EAAK1B,MAAM0B,GAAGwE,UAAUG,KAAK,EAAKrG,MAAM0B,GAAGwE,UAAUI,UAxN9FC,aAAmBC,KAAM,CACrBxG,MAAOyG,KACPxG,QAASwG,KACTvG,QAASuG,KACTtG,OAAQsG,KACRrG,iBAAkBqG,KAClBpG,YAAaoG,KACbnG,QAASmG,KACTC,WAAYC,O,6CA8FpB,WACI,OAA6B,IAAtBH,KAAKxG,MAAM2D,W,KA0HXiD,GALE,WACb,OAAO,IAAI7G,I,QC9OF8G,GAAeC,0BAYbC,GAVK,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SACZC,EAAQC,YAAmBN,IAEjC,OACI,eAACC,GAAaM,SAAd,CAAuBC,MAAOH,EAA9B,SACKD,K,6DCwBAK,GAAkB,SAACC,GAE5B,IAAIC,EAAK,UACLC,GAFJF,EAAcnK,GAAWmK,IAEMG,MAAMF,GAGrC,OADAA,EAAK,kBACgB,OAAjBC,EAEO,CACHE,QAAS1J,GAAKsJ,EAAYG,MAAMF,GAAI,GAAG7H,QACvCiI,WAAY,KACZC,SAAU,KACVC,aAAc,MAIM,IAAxBL,EAAa7D,OAEN,CACH+D,QAAS1J,GAAKsJ,EAAYG,MAAMF,GAAI,GAAG7H,QACvCiI,WAAYhJ,SAAS6I,EAAa,IAClCI,SAAU,EACVC,aAAc,MAIf,CACHH,QAAS1J,GAAKsJ,EAAYG,MAAMF,GAAI,GAAG7H,QACvCiI,WAAYhJ,SAAS6I,EAAa,IAClCI,SAAUjJ,SAAS6I,EAAa,IAChCK,aAAcL,EAAalK,MAAM,GAAGwK,KAAI,SAAAC,GAAM,OAAIpJ,SAASoJ,QAKtDC,GAAyB,SAACC,GACnC,IAAIhC,EAAWgC,EAAEC,OAAOC,WAAW,GAAGC,cAAcC,KAChDf,EAAcW,EAAEC,OAAOC,WAAW,GAAGjG,KAAK3C,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,OAAQ,IAAIA,QAAQ,KAAM,IAGlH,OAFA+H,EAAcA,EAAY/H,QAAQ,KAAM,IAAK,GAAGA,QAAQ,IAAK,IAAK,GAAGA,QAAQ,IAAK,IAAIG,OAEvD,OAA3BuG,EAASxH,cAvEa,SAAC6I,GAE3B,IAAIgB,EAAmBrJ,GAAoBqI,GAC3C,GAAIgB,EAAiB3E,OAAS,EAC1B,MAAO,CACH+D,QAAS,KACTC,WAAY,KACZC,SAAU,KACVC,aAAc,MAItB,IAAIH,EAAUY,EAAiB,GAC3BC,EAAWD,EAAiB/J,QAAQ,MAAQ,EAAI,IAAM,IAC1D,EAA6B+J,EAAiB,GAAGxI,MAAMyI,GAAvD,mBAAKZ,EAAL,KAAiBC,EAAjB,KAQA,OALIA,EADAA,EAASrJ,QAAQ,KAAO,EACbqJ,EAAS9H,MAAM,KAEf8H,EAAS9H,MAAM,KAGvB,CACH4H,QAAS1J,GAAK2B,GAAwB+H,IACtCC,WAAYa,KAAUb,EAAWjI,QACjCkI,SAAUY,KAAUZ,EAAS,GAAGlI,QAChCmI,aAAcD,EAASE,KAAI,SAAAW,GAAY,OAAID,KAAUC,OA8C9CC,CAAepB,GAGnBD,GAAgBC,IC7DZqB,GAjBA,CACX1I,QAAS,UACT2I,mBAAoB,YACpBC,iBAAkB,UAClBC,UAAW,UACXC,KAAM,OACNC,sBAAuB,UACvBC,oBAAqB,UACrBC,WAAY,YACZC,YAAa,UACbC,OAAQ,UACRC,eAAgB,OAChBC,MAAM,QACNC,MAAM,SC4HJC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAK,aACDC,gBAAiBjB,GAAM,MACvBkB,OAAQ,EACRC,QAAS,EACTC,MAAO,oBACNL,EAAMM,YAAYC,KAAK,MAAQ,CAC5BF,MAAO,qBAGfG,UAAW,CACPC,aAAc,QAKPC,gBA1IM,WAGjB,IAAMnD,EAAQoD,qBAAWxD,IACzB,EAA4ByD,oBAAS,GAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAA4BF,mBAAS,IAArC,mBAAOnK,EAAP,KAAe6E,EAAf,KACA,EAA8BsF,mBAAS,IAAvC,mBAAOhK,EAAP,KAAgBmF,EAAhB,KACMgF,EAAUjB,KAEZkB,EAAUC,cAERC,EAAc,WAChB,GAAsB,IAAlBzK,EAAOwD,OAAX,CAEA,GAAI9D,GAAaM,GAAS,CACtB,MAAwCkH,GAAgBlH,GAAjDuH,EAAP,EAAOA,QAASC,EAAhB,EAAgBA,WAAYC,EAA5B,EAA4BA,SAG5B,GAAmB,OAAfD,GAAoC,OAAbC,GAAiC,OAAZF,EAG5C,OAFAT,EAAMpD,kBACN6G,EAAQrE,KAAR,kBAAwBqB,EAAxB,MAIJ,IAAMmD,ECrCuB,SAACpN,EAAaC,EAAgBW,GACnE,IACI,IAAMyM,EAAU3N,GAAWM,GACrBsN,EAAgBpM,SAASjB,GAAW,EACpCsN,EAAcrM,SAASN,GACvB4M,EAAmBhO,EAAkB6N,GAASnH,OAC9CuH,EAAiBjO,EAAkB6N,GAASC,GAElD,OAAIA,EAAgBE,EACV,OAAN,OAAcH,EAAd,qBAAkCG,EAAlC,cAEAD,EAAcE,EACR,OAAN,OAAcJ,EAAd,yBAAsCpN,EAAtC,gBAAqDwN,EAArD,YAEG,GACT,MAAOjD,GACL,MAAO,6CDqBkBkD,CAA0BzD,EAASC,EAAYC,GACpE,MAAqB,KAAjBiD,OACA5D,EAAMrC,WAAWiG,IAIrB5D,EAAMpD,kBACN6G,EAAQrE,KAAR,kBAAwBqB,EAAxB,YAAmCC,EAAnC,YAAiDC,EAAjD,OAIJX,EAAMjC,UAAU7E,GACiB,oBAA7BiL,OAAOC,SAASC,UAEhBZ,EAAQrE,KAAK,UACbqE,EAAQa,UAERb,EAAQrE,KAAK,qBA2CrB,OAlBAmF,qBAAU,WACN,IAAM7F,EAAe,uCAAG,4BAAAC,EAAA,2DAEhBzF,EAAOwD,OAAS,GAFA,yCAEU,IAFV,WAGhB9D,GAAaM,GAHG,yCAGa,IAHb,uBAKG0F,MAAM,GAAD,OAAIjJ,GAAJ,OAAsBuD,EAAtB,MALR,cAKd2F,EALc,gBAMPA,EAASC,OANF,oFAAH,qDASrBJ,IACK8F,MAAK,SAACvJ,GACHuD,EAAWvD,MAEdwJ,OAAM,SAAAzD,GAAC,OAAIhB,EAAMrC,WAAWqD,EAAE/H,cAEpC,CAACC,EAAQ8G,IAIR,eAAC0E,EAAA,EAAD,CACIC,UAAQ,EACRxE,MAAOjH,EACP0L,KAAMtB,EACNE,QAAS,CACLd,KAAMc,EAAQd,KACdO,UAAWO,EAAQP,UACnB4B,UAAWrB,EAAQqB,WAIvBxL,QAASA,EAAQwH,KAAI,SAACiE,EAAQrK,GAAT,gBAAkBA,MACvCsK,QA/CQ,SAACC,GACM,UAAfA,EAAMC,MACN1B,GAAU,kBAAM,KAChBI,KAEAJ,GAAU,IA2CV2B,SAvCS,SAAClE,EAAGb,EAAOgF,GACT,kBAAXA,GACApH,GAAU,kBAAM1E,EAAQ8G,GAAOiF,MAsC/BC,eAAgB,SAACP,GAAD,OAAYA,GAC5BQ,MAAO,CAACxC,MAAO,IAAKyC,YAAa,IACjCC,WAAYtM,EACZuM,cAzDc,SAACzE,EAAG0E,GACtB3H,GAAU,kBAAM2H,KACC,KAAbA,GAAiBlH,EAAW,KAwD5BmH,aAAc,SAAClL,GAAD,OACV,uCACuB,MAAjBpB,EAAQoB,GAAGmL,EAAY,eAAC,KAAD,IAAwB,eAAC,KAAD,IACjD,kCAAO,IAAKvM,EAAQoB,GAAG2K,SAG/BS,YAAa,SAACC,GAAD,OACT,eAACC,EAAA,EAAD,2BACQD,GADR,IAEIE,MAAM,SACNC,QAAQ,oBEjHb,SAASC,KACpB,MAAgC7C,mBAAS,MAAzC,mBAAO8C,EAAP,KAAiBC,EAAjB,KACA,EAAoD/C,mBAAS,MAA7D,mBAAOgD,EAAP,KAA2BC,EAA3B,KACM9C,EAAUjB,KACVgE,EAAaC,QAAQL,GACrBM,EAAmBD,QAAQH,GAE3BK,EAAyB,SAAC1B,GAC3BA,EAAM2B,iBAEHP,EADa,OAAbD,EACYnB,EAAM4B,cAEN,OAIdC,EAAwB,WAC1BP,EAAsB,OAGpBQ,EAAkB,WACpBV,EAAY,MACZS,KAOEE,EAAS,gBACTC,EACF,gBAACC,EAAA,EAAD,CACId,SAAUA,EACVe,aAAc,CAACC,SAAU,MAAOC,WAAY,SAC5CC,GAAIN,EACJO,aAAW,EACXC,gBAAiB,CAACJ,SAAU,MAAOC,WAAY,SAC/CxC,KAAM2B,EACNiB,QAASV,EAPb,UASI,eAACW,EAAA,EAAD,CAAUC,QAASZ,EAAnB,qBACA,eAACW,EAAA,EAAD,CAAUC,QAASZ,EAAnB,+CAIFa,EAAe,uBACfC,EACF,gBAACX,EAAA,EAAD,CACId,SAAUE,EACVa,aAAc,CAACC,SAAU,MAAOC,WAAY,SAC5CC,GAAIM,EACJL,aAAW,EACXC,gBAAiB,CAACJ,SAAU,MAAOC,WAAY,SAC/CxC,KAAM6B,EACNe,QAASX,EAPb,UASI,gBAACY,EAAA,EAAD,WACI,eAACI,EAAA,EAAD,CAAY,aAAW,qBAAqBC,MAAM,UAAlD,SACI,eAAC,IAAD,MAEJ,4CAEJ,gBAACL,EAAA,EAAD,WACI,eAACI,EAAA,EAAD,CAAY,aAAW,4BAA4BC,MAAM,UAAzD,SACI,eAAC,IAAD,MAEJ,0CAEJ,gBAACL,EAAA,EAAD,CAAUC,QAAShB,EAAnB,UACI,gBAACmB,EAAA,EAAD,CACI,aAAW,uBACX,gBAAc,gBACdC,MAAM,UAHV,UAKI,eAAC,IAAD,IAAe,eAAC,IAAD,OAEnB,qDAKZ,OAEI,gBAACC,EAAA,EAAD,CAAQC,SAAS,QAAjB,UACI,gBAACC,EAAA,EAAD,WACI,eAACC,EAAA,EAAD,CAAYC,UAAW3E,EAAQpL,KAAMgQ,UAAU,KAA/C,SACI,eAAC,IAAD,CAAMD,UAAW3E,EAAQ6E,KAAMC,GAAG,IAAlC,oBAEJ,eAACJ,EAAA,EAAD,CAAYE,UAAU,KAAtB,SACI,eAAC,IAAD,CAAMD,UAAW3E,EAAQ6E,KAAMC,GAAG,UAAlC,qBAEJ,gBAACC,EAAA,EAAD,CAAQC,QAAM,EAAd,UACI,eAACN,EAAA,EAAD,CAAYE,UAAU,KAAtB,SACI,oBAAGD,UAAW3E,EAAQ6E,KAAMI,KAAK,kDAAkDC,IAAI,aAAazH,OAAO,SAA3G,sBAEJ,eAACiH,EAAA,EAAD,CAAYE,UAAU,KAAtB,SACI,eAAC,IAAD,CAAMD,UAAW3E,EAAQ6E,KAAMC,GAAG,oBAAlC,kCAOR,uBAAKH,UAAW3E,EAAQmF,eAAxB,UACI,eAAC,GAAD,IACA,eAACd,EAAA,EAAD,CAAY,aAAW,qBAAqBC,MAAM,UAAlD,SACI,eAAC,IAAD,CAA8B,WAAS,KAAK,WAAS,cAEzD,eAACD,EAAA,EAAD,CAAY,aAAW,mBAAmBC,MAAM,UAAhD,SACI,eAAC,IAAD,MAEJ,gBAACD,EAAA,EAAD,CACIe,KAAK,MACL,aAAW,gBACX,gBAAe7B,EACfW,QAAShB,EACToB,MAAM,UALV,UAOI,eAAC,IAAD,IAAe,eAAC,IAAD,UAGvB,uBAAKK,UAAW3E,EAAQqF,cAAxB,UACI,eAAC,GAAD,IACA,eAAChB,EAAA,EAAD,CACI,aAAW,YACX,gBAAeF,EACfD,QArGS,SAAC1C,GAC1BsB,EAAsBtB,EAAM4B,gBAqGZkB,MAAM,UAJV,SAMI,eAAC,IAAD,YAIXd,EACAY,KAOb,IAAMrF,GAAYC,aAAW,SAACC,GAAD,cAAY,CAGrCkG,gBAAc,GACVG,SAAU,EACVC,eAAgB,YAFN,cAGTtG,EAAMM,YAAYC,KAAK,MAAQ,CAC5BgG,QAAS,SAJH,cAMTvG,EAAMM,YAAYC,KAAK,MAAQ,CAC5BgG,QAAS,SAPH,GAUdH,eAAa,GACTC,SAAU,EACVC,eAAgB,YAFP,cAGRtG,EAAMM,YAAYC,KAAK,MAAQ,CAC5BgG,QAAS,SAJJ,cAMRvG,EAAMM,YAAYC,KAAK,MAAQ,CAC5BgG,QAAS,SAPJ,GAYb5Q,KAAM,CACF6Q,SAAU,GACVnB,MAAO,SAEXO,KAAM,CACFa,WAAY,GACZ3D,YAAa,GACb4D,UAAW,EACXrB,MAAO,a,UC7LFsB,GAAS,uCAAG,WAAO7S,GAAP,eAAAoI,EAAA,sEACEC,MAAMrI,GADR,cACfsI,EADe,gBAERA,EAASC,OAFD,mFAAH,sDCsDhByD,GAAYC,aAAW,SAACC,GAAD,YAAY,CACrCC,KAAM,CACF2G,OAAQ,gBACRC,WAAY7G,EAAM8G,QAAQ,IAC1BzG,MAAO,QAEX0G,KAAM,CACF5G,OAAQ,OACRC,QAASJ,EAAM8G,QAAQ,IAE3BE,MAAI,GACA3G,MAAO,OACP4G,OAAQ,KAFR,cAGCjH,EAAMM,YAAY4G,GAAG,MAAQ,CAE1BD,OAAQ,MALZ,cAOCjH,EAAMM,YAAY4G,GAAG,MAAQ,CAE1BD,OAAQ,MATZ,cAWCjH,EAAMM,YAAY4G,GAAG,MAAQ,CAE1BD,OAAQ,MAbZ,cAeCjH,EAAMM,YAAY4G,GAAG,MAAQ,CAE1BD,OAAQ,MAjBZ,cAmBCjH,EAAMM,YAAY4G,GAAG,MAAQ,IAnB9B,GAwBJC,MAAO,CACHC,YAAanI,GAAOO,gBAMb6H,GAtFI,WACf,MAA4CzG,mBAAS,MAArD,mBAAO0G,EAAP,KAAuBC,EAAvB,KACMxG,EAAUjB,KACVvC,EAAQoD,qBAAWxD,IAYzB,GAXAI,EAAMpD,aAGN2H,qBAAU,WAEN6E,GAAU9T,GACLkP,MAAK,SAAAvJ,GAAI,OAAI+O,EAAkB/O,MAC/BwJ,OAAM,SAACzD,GAAD,OAAOhB,EAAMrC,WAAWqD,EAAE/H,cAEtC,IAEoB,OAAnB8Q,EAAyB,OAAO,KAEpC,IAAME,EAAS/R,OAAOC,KAAK4R,GAAgBlJ,KAAI,SAAAqJ,GAAG,OAC9C,gBAACC,GAAA,EAAD,CAAMxO,MAAI,EAACyO,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAA7C,UACI,uBAAKrC,UAAW3E,EAAQiG,KAAxB,UACI,eAAC,IAAD,CAAMnB,GAAI,IAAM4B,EAAM,IAAtB,SACI,eAAChC,EAAA,EAAD,CAAYjC,QAAQ,KAAKmC,UAAU,KAAnC,SAAyC8B,MAE7C,wBACA,eAAChC,EAAA,EAAD,CACIuC,SAAS,QAAQrC,UAAU,IAD/B,SACoC2B,EAAeG,QAGvD,qBAAI/B,UAAW3E,EAAQoG,UAV2BM,MAa1D,OACI,sBAAK/B,UAAW3E,EAAQd,KAAxB,SACI,eAACyH,GAAA,EAAD,CAAMO,WAAS,EAAC/O,MAAI,EAACyO,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAC/CG,eAAe,SACfC,WAAW,SACXrB,QAAS,EACTpB,UAAW3E,EAAQgG,KAJzB,SAMKS,OCrCFY,GATA,SAAC,GAAD,IAAEL,EAAF,EAAEA,GAAF,OACX,gBAACL,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAIA,EAAf,UACI,wBACA,wBACA,wBACA,2BAJqB,ICJhBM,GAAoB,SAAC9L,GAC9B,OAAQA,GACJ,IAAK,KACD,MAAO,MACX,IAAK,KACD,MAAO,MACX,QACI,MAAO,UCEN+L,GAA8B,SAAC,GAAD,QAAEzC,UAAF,MAAO,UAAP,MAAkB0C,eAAlB,MAA4B,WAA5B,MAAwCpI,cAAxC,MAAiD,EAAjD,MAAoDqI,YAApD,MAA2D,GAA3D,SACvC,eAAC,IAAD,CAAM3F,MAAO,CAACpC,aAAcN,EAAQqG,SAAUgC,EAAKC,YAAY,GAAIC,aAAa,IAAM7C,GAAIA,EAA1F,SAA+F0C,KC+C7FzI,GAAYC,aAAW,SAACC,GAAD,YAAY,CACrCiI,UAAW,CACP5H,MAAO,OACP4G,OAAQ,QAEZ0B,MAAO,CACHjC,UAAW,IAEfS,MAAO,CACHT,UAAW,GACXD,WAAW,GACX3D,YAAY,GACZsE,YAAanI,GAAOO,YAExBoG,KAAM,CACFnF,aAAc,IAElBmI,cAAe,CACXnI,aAAc,GACdiI,aAAc,GACdD,YAAa,GACbpD,MAAO,QAEXwD,KAAM,CACFJ,YAAa,GACbC,aAAc,IAElB1B,MAAI,GACA3G,MAAO,OACP4G,OAAQ,IACRP,UAAW,IAHX,cAIC1G,EAAMM,YAAYC,KAAK,MAAQ,CAE5BE,aAAc,GACdqI,SAAU,KAPd,cASC9I,EAAMM,YAAYC,KAAK,MAAQ,CAE5BE,aAAc,KAXlB,cAaCT,EAAMM,YAAYC,KAAK,MAAQ,CAE5BE,aAAc,KAflB,cAiBCT,EAAMM,YAAYC,KAAK,MAAQ,CAE5BE,aAAc,MAnBlB,cAqBCT,EAAMM,YAAYC,KAAK,MAAQ,CAE5BE,aAAc,MAvBlB,OA4BOsI,GAtGI,SAAC,GAA0D,IAAzDC,EAAwD,EAAxDA,MAAOC,EAAiD,EAAjDA,KAAiD,IAA3CzM,iBAA2C,MAA/B,CAAC,KAAM,MAAwB,MAAjB0M,eAAiB,MAAP,EAAO,EACnEnI,EAAUjB,KAgBVqJ,EAAW,WAEb,OAAO1T,OAAOC,KAAKsT,GAAO5K,KAAI,SAACqJ,EAAK2B,GAAN,OAC1B,gBAAC1B,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAI,GAAID,GAAIoB,EAAvB,UACI,gBAACxB,GAAA,EAAD,CAAMxO,MAAI,EAACwM,UAAW3E,EAAQ4H,MAA9B,UACI,eAAClD,EAAA,EAAD,CAAYC,UAAW3E,EAAQ6H,cAAepF,QAAQ,KAAKmC,UAAU,KAArE,SAA2E8B,IAC3E,eAAC,GAAD,IACA,qBAAI/B,UAAW3E,EAAQoG,WAE3B,eAACO,GAAA,EAAD,CAAMO,WAAS,EAACnB,QAAS,EAAzB,UAxBMuC,EAyBQL,EAAMvB,GAvBrBhS,OAAOC,KAAK2T,GAAKjL,KAAI,SAACqJ,EAAK2B,GAAN,OACxB,gBAAC1B,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAImB,EAAf,UACI,uBAAKxD,UAAW3E,EAAQiG,KAAxB,UACI,eAAC,IAAD,CAAMnB,GAAE,WAAMoD,EAAN,YAAc3U,GAAKmT,GAAnB,KAAR,SACI,eAAChC,EAAA,EAAD,CAAYC,UAAW3E,EAAQ8H,KAAMrF,QAAQ,KAAKmC,UAAU,KAA5D,SAAkE8B,MAEtE,wBACA,eAAChC,EAAA,EAAD,CAAYC,UAAW3E,EAAQ8H,KAAMhG,MAAO,CAACyG,UAAWjB,GAAkB7L,EAAU,KAAMgH,QAAQ,QAAQmC,UAAU,IAApH,SAAyH0D,EAAI5B,QAEjI,qBAAI/B,UAAW3E,EAAQoG,UAREiC,WAeQA,GAlB5B,IAACC,MA8BlB,OACI,sBAAK3D,UAAW3E,EAAQkH,UAAxB,SACI,gBAACP,GAAA,EAAD,CAAMO,WAAS,EACTqB,UAAU,SACVpB,eAAe,eACfC,WAAW,SAHjB,UAKI,eAAC,GAAD,IACA,eAACgB,EAAD,UCCVH,GAAkB,CAAC,MAhDF,CACnB,QAAW,oFACX,OAAU,uIACV,UAAa,mIACb,QAAW,wGACX,YAAe,8IA2CsB,SAxCf,CACtB,OAAU,mFACV,OAAU,mGACV,WAAY,oGACZ,YAAa,8GACb,UAAW,wGACX,WAAY,wHACZ,OAAU,4FACV,SAAY,+IACZ,QAAW,+EACX,MAAS,iGACT,KAAQ,8FACR,KAAQ,6FACR,QAAW,kGACX,MAAS,kGACT,MAAS,0GACT,MAAS,2FACT,SAAY,oGACZ,UAAa,mGACb,OAAU,gFACV,UAAa,mGACb,QAAW,6FAmBgD,SAhBrC,CACtB,OAAU,6FACV,SAAY,oGACZ,IAAO,sGACP,gBAAiB,2FACjB,KAAQ,kGACR,aAAgB,oFAChB,aAAgB,sFAChB,OAAU,uGACV,OAAU,0FACV,KAAQ,6FACR,SAAY,kGACZ,eAAgB,8EAChB,gBAAiB,kGAONO,GAFA,kBAAM,eAAC,GAAD,CAAYP,MAAOA,GAAOC,KAAM,SAAUzM,UAAW,CAAC,KAAK,S,8DClCjEgN,GAjBC,SAACC,GACb,IAAOnM,EAAoCmM,EAApCnM,SAAUI,EAA0B+L,EAA1B/L,MAAO0L,EAAmBK,EAAnBL,MAAUM,EAAlC,aAA2CD,EAA3C,IACA,OACI,8CACIE,KAAK,WACLC,OAAQlM,IAAU0L,EAClBxE,GAAE,0BAAqBwE,GACvB,uCAA+BA,IAC3BM,GALR,aAOI,eAACG,GAAA,EAAD,CAAKC,EAAG,EAAR,SACKxM,Q,mBCGFyM,GAdG,SAACC,EAAU9Q,EAAM+Q,EAAMlT,EAAYmT,GACjD,GAAkB,QAAdA,EAAKC,MAEa,SAAdD,EAAKvU,KAAiB,CACtB,GAAiC,oBAA7BuU,EAAI,QAAJ,MACA,OAAO,uBAA4BvL,KAAK,KAAKsG,QAAS+E,EAASI,KAAK,GAAMlR,EAAM+Q,EAAMlT,GAAa2O,UAAU,kBAAtG,SAAyHwE,EAAK5M,SAAS,GAAd,MAA9GnJ,MAEtB,GAAiC,oBAA7B+V,EAAI,QAAJ,MACA,OAAO,uBAA4BvL,KAAK,KAAKsG,QAAS+E,EAASI,KAAK,GAAMlR,EAAM+Q,EAAMlT,GAAa2O,UAAU,kBAAtG,SAAyHwE,EAAK5M,SAAS,GAAd,MAA9GnJ,QCHrBkW,GAAiB,SAAC,GAAgD,IAA/C9N,EAA8C,EAA9CA,SAAUhF,EAAoC,EAApCA,SAAUR,EAA0B,EAA1BA,WAAYiT,EAAc,EAAdA,SACtDM,EAAM,WAAa/N,EACzB,OAAIhF,EAAS0C,OAEL,+BACK1C,EAAS6G,KAAI,SAAAmM,GAAI,OACd,eAAC,IAAMC,SAAP,UACKC,aAAMF,EAAKD,GAAM,CACdzU,QAAS,SAAA6U,GACL,OAAOX,GAAUC,EACbtV,GAAoB6V,EAAI,KAAUA,EAAI,QAAaA,EAAI,OACvD7X,EACAqE,EACA2T,OAPKvW,UAFnBA,MAkBV,eAACsR,EAAA,EAAD,2BCZG/E,gBAZE,SAAC,GAAsC,IAArCnE,EAAoC,EAApCA,SAAUxF,EAA0B,EAA1BA,WAAYiT,EAAc,EAAdA,SAE/BzS,EADQoJ,qBAAWxD,IACF3F,YAAYT,GAEnC,OAAO,eAAC,GAAD,CACHwF,SAAUA,EACVhF,SAAUA,EACVR,WAAYA,EACZiT,SAAUA,O,sECgCHW,GArCA,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,WAAY7F,EAAc,EAAdA,QACpBhE,EAAUjB,KAEhB,OACI,gBAAC4H,GAAA,EAAD,CAAMO,WAAS,EACXqB,UAAU,MACVpB,eAAe,WACfC,WAAW,SACXzC,UAAW3E,EAAQ8J,OAJvB,UAMI,eAACnD,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAI,GAAf,SACI,eAAC3C,EAAA,EAAD,CACI,aAAW,aACXO,UAAU,OACVV,QAASF,EAHb,SAKI,eAAC,KAAD,CAAWW,UAAW3E,EAAQ+J,eAItC,eAACpD,GAAA,EAAD,CAAMxO,MAAI,EAACwM,UAAW3E,EAAQgK,KAA9B,cACsBC,IAAfJ,EACC,eAACxF,EAAA,EAAD,CACI,aAAW,OACXO,UAAU,OACVV,QAAS2F,EAHb,SAKI,eAAC,KAAD,CAAiBlF,UAAW3E,EAAQ+J,aAEtC,WAWhBhL,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC+K,KAAK,GACLD,SAAS,GACTD,OAAQ,CACJI,UAAW,GACX/K,gBAAiBjB,GAAM,2BCGzBa,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCiI,UAAW,CACP5B,SAAU,EACVd,SAAU,QACV2F,SAAU,mBACVjE,OAAQ,KAGZkE,OAAQ,CACJlE,OAAQ,OACRmE,SAAU,OACVC,cAAe,IAEnBpL,KAAM,CACFQ,aAAc,QAKPC,gBA7DM,SAAC,GAAiD,IAAhDsJ,EAA+C,EAA/CA,SAAUjT,EAAqC,EAArCA,WAAY6T,EAAyB,EAAzBA,WAAY7F,EAAa,EAAbA,QAC/CxH,EAAQoD,qBAAWxD,IACnBrJ,EAAMlB,EAAc,UAAM2K,EAAMxF,QAAQhB,GAApB,YAAmCwG,EAAM5F,mBAAmBZ,GAA5D,YAA2EwG,EAAMzF,iBAAiBf,GAAlG,KACpBgK,EAAUjB,KAEhBgC,qBAAU,WAEN6E,GAAU7S,GACLiO,MAAK,SAAAvJ,GAAI,OAAI+E,EAAMjG,YAAYkB,EAAKjB,SAAUR,MAC9CiL,OAAM,SAACzD,GAAD,OAAOhB,EAAMrC,WAAWqD,EAAE/H,cAEtC,CAAC+G,EAAOxG,IAOX,OACI,gBAAC,IAAMyT,SAAP,WACI,eAAC,GAAD,CAAQI,WAAYA,EAAY7F,QAASA,IACzC,gBAACuG,GAAA,EAAD,CACI5F,UAAW3E,EAAQd,KACnBvC,MAAOH,EAAMlG,cAAcN,GAC3B0L,SAVQ,SAACF,EAAOpL,GACxBoG,EAAMrG,cAAcC,EAAKJ,IAUjB,aAAW,0BAJf,UAKI,eAACwU,GAAA,EAAD,CAAKhI,MAAM,UAAUqB,GAAI,EAAG,aAAW,wBACvC,eAAC2G,GAAA,EAAD,CAAKhI,MAAM,SAASqB,GAAI,EAAG,aAAW,0BAE1C,uBAAKc,UAAW3E,EAAQoK,OAAxB,UACI,eAAC,GAAD,CAAUzN,MAAOH,EAAMlG,cAAcN,GAAaqS,MAAO,EAAzD,SACI,eAAC,GAAD,CAAU7M,SAAS,KAAKxF,WAAYA,EAAYiT,SAAUA,MAE9D,eAAC,GAAD,CAAUtM,MAAOH,EAAMlG,cAAcN,GAAaqS,MAAO,EAAzD,SACI,eAAC,GAAD,CAAU7M,SAAS,KAAKxF,WAAYA,EAAYiT,SAAUA,WAfjD7V,SC2CduM,I,OAAAA,aA1DM,SAAC,GAA2D,IAA1DsJ,EAAyD,EAAzDA,SAAUjT,EAA+C,EAA/CA,WAAY6T,EAAmC,EAAnCA,WAAY7F,EAAuB,EAAvBA,QAASyG,EAAc,EAAdA,SACxDjO,EAAQoD,qBAAWxD,IACzB,EAAoCyD,mBAAS,IAA7C,mBAAO6K,EAAP,KAAmBC,EAAnB,KACM3K,EAAUjB,KAEV6L,EAAe,SAACvC,GAClBoC,EAAUzU,EAAYzC,GAAKmX,EAAWrC,GAAX,cAAoCqC,EAAWrC,GAAX,mBAcnE,OAXAtH,qBAAU,WACN,IAAMhO,EAAMb,EAAa,UAAMsK,EAAMxF,QAAQhB,GAApB,YAAmCwG,EAAM5F,mBAAmBZ,GAA5D,YAA2EwG,EAAMzF,iBAAiBf,GAAlG,KACzB4P,GAAU7S,GACLiO,MAAK,SAACvJ,GACHkT,EAAclT,EAAKiT,eAEtBzJ,OAAM,SAACzD,GAAD,OAAMhB,EAAMrC,WAAWqD,EAAE/H,cAGrC,CAACO,EAAYwG,IAEXkO,EAAWxR,OAER,gBAAC,IAAMuQ,SAAP,WACI,eAAC,GAAD,CAAQI,WAAYA,EAAY7F,QAASA,IACzC,sBAAKW,UAAW3E,EAAQoK,OAAxB,SACKM,EAAWrN,KAAI,SAACwN,EAAUxC,GAAX,OACZ,gBAAC,IAAMoB,SAAP,WACI,eAAC/E,EAAA,EAAD,CAAYC,UAAW3E,EAAQ8K,YAA/B,SAA6CD,EAAS,YACtD,eAACnG,EAAA,EAAD,CAAYC,UAAW3E,EAAQ8K,YAA/B,SAA6CD,EAAS,SACtD,qBAAIlG,UAAW3E,EAAQoG,QACvB,sBAA2BzB,UAAW3E,EAAQ+K,QAA9C,SACI,qCACKrB,aAAMmB,EAAS,eAAoB,CAChC/V,QAAS,SAAA6U,GAAO,OAAKX,GAAUC,OAAUgB,EAAWtY,EAAgBqE,EAAW2T,SAHjFvW,MAOV,eAAC4X,GAAA,EAAD,CACIrG,UAAW3E,EAAQiL,OACnB/G,QAAS0G,EAAavB,K,UAAUhB,GAFpC,wBAGA,qBAAI1D,UAAW3E,EAAQoG,UAdNhT,aAJZA,MA2BrB,uCACI,eAAC,GAAD,CAAQyW,WAAYA,EAAY7F,QAASA,IACzC,eAACU,EAAA,EAAD,CAAYC,UAAW3E,EAAQkL,GAA/B,kCAUVnM,GAAYC,aAAW,SAACC,GAAD,MAAY,CAErCmH,MAAO,CACHC,YAAanI,GAAOO,WACpBkH,UAAW,GACXD,WAAY,GACZ3D,YAAa,IAIjB+I,YAAa,CACTxG,MAAOpG,GAAOU,eACd+G,UAAW,GACXD,WAAY,IAGhBoC,KAAM,CACFrC,SAAU,IAEdwF,OAAQ,CACJE,cAAe,OACf5F,eAAgB,OAChBoC,aAAc,GACdD,YAAa,IAEjB0C,OAAQ,CACJ9K,MAAO,OACP4G,OAAQ,OACRmE,SAAU,QAEdU,QAAS,CACL3L,OAAQ,IAEZ8L,GAAI,CACAvF,UAAW,GACXD,WAAY,QCnHL,OAA0B,2CCA1B,OAA0B,+CCO5B0F,GAAyC,SAAC,GAAD,IAAElH,EAAF,EAAEA,QAASI,EAAX,EAAWA,MAAO+G,EAAlB,EAAkBA,MAAlB,OAC9C,eAAChH,EAAA,EAAD,CAAY,aAAW,QACXO,UAAU,OACVN,MAAOA,EACPJ,QAASA,EAHrB,SAKMmH,EAAQ,sBAAKC,IAAKC,GAAgBjM,MAAO,GAAI4G,OAAQ,KACnD,sBAAKoF,IAAKE,GAAiBlM,MAAO,GAAI4G,OAAQ,QCMxDuF,GAAQ,CAAC,aAAc,YACvBf,GAAa,C1B4CgB,EAMD,G0B4CnB/K,gBA3FG,SAAC,GAAsC,IAArC3J,EAAoC,EAApCA,WAAYiT,EAAwB,EAAxBA,SAAUwB,EAAc,EAAdA,SAChCjO,EAAQoD,qBAAWxD,IAEzB,EAAkCyD,mBAASrD,EAAMhE,kBAAkBxC,IAAnE,mBAAO0V,EAAP,KAAkBC,EAAlB,KACMjU,EAAuD,IAA1C8E,EAAM7E,aAAa3B,GAAYkD,OAAe,CAAC,GAAG,IAAMsD,EAAM7E,aAAa3B,GAExFgK,EAAUjB,KAEV6M,EAAc,SAACzT,EAAMiR,EAAMyC,EAAWrO,GACxChB,EAAMlE,kBAAkBoT,EAAW1V,GACnCiT,EAAS9Q,EAAM,QAASnC,EAAYwH,IAGlCwG,EAAU,WACZxH,EAAMzE,YAAY,EAAG/B,GACrBwG,EAAMlE,kBAAkB,GAAItC,GAC5BwG,EAAM1G,oBAAmB,EAAOE,IAG9B6T,EAAa,WACf6B,EAAUI,MACVH,EAAa,YAAID,KAGfK,EAAO,WACT,OAAON,GAAMpO,KAAI,SAAClF,EAAMlB,GAEpB,OACI,gBAAC+T,GAAA,EAAD,CACIvI,QAAQ,OACRkC,UAAW3E,EAAQiL,OACnB5J,WAAW,EACX2K,SAAuC,MAA7BtU,EAAUgT,GAAWzT,IAC/BgV,UAAW,eAAC,KAAD,CAActH,UAAW3E,EAAQgK,OAC5C9F,QAAS,WACLyH,EAAa,GAAD,mBAAKD,GAAL,CAAgBzU,MAPpC,UAWKkB,EAXL,KAWaT,EAAUgT,GAAWzT,IAXlC,MASS7D,UAQf8Y,EAAW,WAEb,OADaR,EAAU7Y,OAAO,GAAG,IAE7B,KAAK,EACD,OACI,eAAC,GAAD,CACIoW,SAAU2C,EACV5V,WAAYA,EACZ6T,WAAYA,EACZ7F,QAASA,IAGrB,KAAK,EACD,OAAQ,eAAC,GAAD,CACJiF,SAAU2C,EACV5V,WAAYA,EACZ6T,WAAYA,EACZ7F,QAASA,EACTyG,SAAUA,IAGlB,QACI,OACI,uCACI,eAAC,GAAD,CAAQzG,QAASA,IACjB,uBAAKW,UAAW3E,EAAQmM,KAAxB,UACI,eAACzH,EAAA,EAAD,CAAYC,UAAW3E,EAAQ8K,YAA/B,2BACA,qBAAInG,UAAW3E,EAAQoG,QACvB,eAAC2F,EAAD,IACA,qBAAIpH,UAAW3E,EAAQoG,gBAU/C,OACI,sBAAKzB,UAAW3E,EAAQkH,UAAxB,SACI,eAACgF,EAAD,SAQNnN,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCiI,UAAW,CACPiD,SAAU,IACVjE,OAAQ,OACRkG,IAAK,GACLjN,gBAAiBjB,GAAM,qBAG3B4L,OAAQ,CACJI,UAAW,GACX/K,gBAAiBjB,GAAM,uBAE3BiO,KAAM,CACFxG,UAAW,GACXD,WAAY,GACZ3D,YAAa,IAEjBqE,MAAO,CACHC,YAAanI,GAAOO,YAExBqM,YAAa,CACTxG,MAAOpG,GAAOU,eACd+G,UAAW,IAEfqE,KAAM,CACF1F,MAAOpG,GAAOU,eACd6G,SAAU,IAEdqC,KAAM,CACFrC,SAAU,IAEdwF,OAAQ,CACJE,cAAe,OACf5F,eAAgB,Y,wCClIlBxG,GAAYC,aAAW,iBAAO,CAChCgL,KAAM,CACFvE,SAAU,GAEd4G,QAAS,CACLC,OAAQ,eAIDC,GApBuB,SAAC,GAAsC,IAArCC,EAAoC,EAApCA,UAAoC,IAAzBlI,aAAyB,MAAjB,YAAiB,EAClEtE,EAAUjB,KAChB,OACI,uBAAM+C,MAAO,CAAC,WAA6B,IAAd0K,EAAkB,UAAY,UAA3D,SACI,eAACC,GAAA,EAAD,UACI,eAAC,KAAD,CAAuB9H,UAAW3E,EAAQgK,KAAM1F,MAAOA,SCP1DoI,GAA6B,SAACC,GAwJvC,IACI,MAxJ6B,CAC7B,EAAG,eACH,EAAG,eACH,EAAG,eACH,EAAG,eACH,EAAG,eACH,EAAG,eACH,EAAG,eACH,EAAG,eACH,EAAG,eACH,GAAI,eACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,eACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,eACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,eACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,eACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,eACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,eACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,eACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,eACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,IAAK,eACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,qBACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,qBACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,qBACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,2BACL,IAAK,4BAGQA,GACf,MAAOnP,GACLxE,QAAQC,IAAI,qCAEhB,MAAO,IAGE2T,GAAqB,SAACC,GA2M/B,MA1MiC,CAC7B,EAAG,SACH,EAAG,SACH,EAAG,SACH,EAAG,SACH,EAAG,SACH,EAAG,SACH,EAAG,SACH,EAAG,SACH,EAAG,SACH,GAAI,SACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,SACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,SACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,SACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,SACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,SACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,SACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,SACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,SACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,GAAI,eACJ,IAAK,SACL,IAAK,eACL,IAAK,eACL,IAAK,eACL,IAAK,eACL,IAAK,eACL,IAAK,eACL,IAAK,eACL,IAAK,eACL,IAAK,eACL,IAAK,eACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,eACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,eACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,eACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,eACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,eACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,eACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,eACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,eACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,qBACL,IAAK,UAEIA,ICvOX9N,GAAYC,aAAW,iBAAO,CAEhC8N,cAAe,CACXxN,MAAO,OACP4G,OAAQ,OACRV,QAAS,OACTuH,SAAU,OACVxH,eAAgB,SAChB6B,WAAY,OAKhBnU,QAAS,CACLqM,MAAO,OACP4G,OAAQ,OACRV,QAAS,OACTuH,SAAU,OACVxH,eAAgB,SAChB6B,WAAY,SACZkF,OAAQ,WAEZU,gBAAiB,CACb7C,SAAU,MACV8C,SAAU,MACV7N,OAAQ,IAEZ8N,GAAI,CACAzH,SAAU,GACV8C,UAAY,SAACG,GAAD,MAA0B,OAAfA,EAAM9K,KAAgB,MAAQ,OACrDuP,eAAgB,YAChBC,oBAAqBlP,GAAM,WAE/BmP,GAAI,CACA5H,SAAU,GACV0H,eAAgB,YAChBC,oBAAqBlP,GAAM,WAE/BoP,GAAI,CACA7H,SAAU,GACVnB,MAAOpG,GAAM,KACbqK,UAAW,MACXgF,WAAY,cAEhBC,gBAAiB,CACbrD,SAAU,MACV8C,SAAU,MACV7N,OAAQ,IAEZkB,cAAe,CACX2M,SAAU,KACV7N,OAAQ,GACRqO,UAAW,SACXC,cAAe,WACfjI,SAAU,GACVnB,MAAOpG,GAAM,MAEjByP,QAAS,CACLxD,SAAW,SAACzB,GAAD,MAA0B,OAAfA,EAAM9K,KAAgB,MAAQ,OACpDqP,SAAW,SAACvE,GAAD,MAA0B,OAAfA,EAAM9K,KAAgB,MAAQ,OACpD6P,UAAW,QACXC,cAAe,SACftO,OAAQ,GACRmO,WAAY,aACZ9H,SAAU,QAEdlF,YAAa,CACTnB,OAAQ,GACR+K,SAAU,KACV8C,SAAU,KACVQ,UAAW,SACXG,UAAW,UAEfC,GAAI,CACApI,SAAU,GACVnB,MAAOpG,GAAM,KACbqK,UAAY,SAACG,GAAD,MAA0B,OAAfA,EAAM9K,KAAgB,MAAQ,QAEzDhK,MAAO,CACH0Y,OAAQ,WAEZwB,QAAS,CACL3D,SAAW,SAACzB,GAAD,MAA0B,OAAfA,EAAM9K,KAAgB,MAAQ,OACpDqP,SAAW,SAACvE,GAAD,MAA0B,OAAfA,EAAM9K,KAAgB,MAAQ,OACpD6P,UAAW,OACXC,cAAe,WACftO,OAAQ,GACRqG,SAAU,QAEdsI,WAAY,CACRxF,UAAW,MACXgF,WAAY,aACZ9H,SAAU,IAEduI,YAAa,CACTzF,UAAW,MACXgF,WAAY,aACZ9H,SAAU,IAEdwI,YAAa,CACT9O,gBAAiBjB,GAAM,oBAE3BwM,WAAY,CACR4B,OAAQ,UACRsB,UAAW,SACXzD,SAAU,MAEd+D,WAAY,CACR5B,OAAQ,UACR9H,SAAU,WACVyI,SAAU,UAIHtN,gBA1OY,SAAC+I,GACxB,IAAMlM,EAAQoD,qBAAWxD,IAClB3E,EAAuDiR,EAAvDjR,KAAMU,EAAiDuQ,EAAjDvQ,KAAMgW,EAA2CzF,EAA3CyF,iBAAkBnY,EAAyB0S,EAAzB1S,WAC/BoY,GADwD1F,EAAZ2F,SAC9B7R,EAAM1E,YAAY9B,IAChC4H,EAAOpB,EAAMd,YAAY1F,GACzBgK,EAAUjB,GAAU,CAACnB,SAEvB0Q,EAAc,KACdrb,EAAUwE,E7BwCmB,G6BvC7B8W,EAAgB9W,E7BwCoB,G6BvCpC+W,EAAeta,SAASuD,E7BmCG,I6BlC3BgX,EAAcva,SAASuD,E7BwCG,I6B3BR,MAAlB8W,IAEAD,EACI,uBAAK3J,UAAW3E,EAAQ/M,QAAxB,UACI,uBAAK0R,UAAW3E,EAAQM,cAAxB,UACI,eAACoE,EAAA,EAAD,CAAYC,UAAW3E,EAAQsN,GAA/B,SAA6C,OAAT1P,EAAgBgP,GAAmB3Z,GAAWA,IAClF,2BAEJ,sBAAK0R,UAAW3E,EAAQ0K,WAAxB,SACI,eAAC,GAAD,CAAW8B,UAAW,UAKtC,IACMkC,EADaP,EAAiBQ,WACNnS,EAAMvE,YAAYjC,GAC1C4Y,EAAQzW,IAASqE,EAAMnE,eAAerC,GAE5C+K,qBAAU,WAEFvE,EAAM9F,mBAAmB0X,EAAYM,G7BIZ,G6BJqC1Y,GAC9DwG,EAAM3F,iBAAiBuX,EAAYM,G7BEZ,G6BFmC1Y,GAC1DwG,EAAMhF,aAAa4W,EAAYM,GAAU1Y,KAE9C,CAACoY,EAAapY,EAAYwG,EAAMnE,eAAerC,KAElD,IAAM6Y,EAAc,WAChB,OAAQjR,GACJ,IAAK,QACD,OACI,uCACI,sBAAK+G,UAAW3E,EAAQ2N,QAAxB,SACI,eAACjJ,EAAA,EAAD,CAAYjC,QAAQ,QAAQkC,UAAW3E,EAAQ+N,WAA/C,SAA4DtW,E7BZpD,O6BcZ,sBAAKkN,UAAW3E,EAAQO,YAAxB,SACI,eAACmE,EAAA,EAAD,CAAYC,UAAW3E,EAAQ6N,GAA/B,SAAoCpW,E7BZ7B,O6BcX,sBAAKkN,UAAW3E,EAAQ8N,QAAxB,SACI,eAACpJ,EAAA,EAAD,CAAYjC,QAAQ,QAAQkC,UAAW3E,EAAQgO,YAA/C,SAA6DvW,E7BnBpD,O6BqBb,uBAAKkN,UAAW3E,EAAQ0K,WAAxB,UACI,eAAC,GAAD,CAAW8B,UAAWgC,IACtB,eAAC,GAAD,CAAWhC,UAAWiC,EAAanK,MAAM,iBAKzD,IAAK,KACD,OACI,uCACI,uBAAKK,UAAW3E,EAAQ0K,WAAxB,UACI,eAAC,GAAD,CAAW8B,UAAWgC,EAAclK,MAAM,YAC1C,eAAC,GAAD,CAAWkI,UAAWiC,EAAanK,MAAM,iBAE7C,sBAAKK,UAAW3E,EAAQ2N,QAAxB,SACI,eAACjJ,EAAA,EAAD,CAAYC,UAAW3E,EAAQ+N,WAA/B,SAA4CtW,E7BnCpC,O6BsCZ,sBAAKkN,UAAW3E,EAAQO,YAAxB,SACI,eAACmE,EAAA,EAAD,CAAYC,UAAW3E,EAAQ6N,GAA/B,SAAoCjB,GAAmBnV,E7BpChD,W6BwCvB,IAAK,KACD,OACI,uCACI,sBAAKkN,UAAW3E,EAAQO,YAAxB,SACI,eAACmE,EAAA,EAAD,CAAYC,UAAW3E,EAAQ6N,GAA/B,SAAoCpW,E7B5C7B,O6B8CX,sBAAKkN,UAAW3E,EAAQ8N,QAAxB,SACI,eAACpJ,EAAA,EAAD,CAAYC,UAAW3E,EAAQgO,YAA/B,SAA6CvW,E7BnDpC,O6BqDb,uBAAKkN,UAAW3E,EAAQ0K,WAAxB,UACI,eAAC,GAAD,CAAW8B,UAAWgC,IACtB,eAAC,GAAD,CAAWhC,UAAWiC,EAAanK,MAAM,oBAIzD,QACW,qBAAD,OAAsB1G,KAIxC,OACI,uBAAK+G,UAAW3E,EAAQpM,MAAxB,UACK0a,EACD,sBAAK3J,UAAS,UAAK3E,EAAQ8M,cAAb,YAA+B8B,EAAO5O,EAAQiO,YAAc,IACrE/J,QAlGG,SAACjN,GACb,IAAKuF,EAAMtG,mBAAmBF,GAI1B,OAHAwG,EAAM1G,oBAAoB0G,EAAMtG,mBAAmBF,GAAaA,GAChEwG,EAAMzE,YAAY,EAAG/B,QACrBwG,EAAMtE,eAAejB,EAAGjB,GAG5BwG,EAAMtE,eAAejB,EAAGjB,GACxBwG,EAAMzE,YAAYd,EAAIkX,EAAiBQ,WAAY3Y,IA0FzBqT,K,UAAWlR,GADjC,SAEI,eAAC0W,EAAD,YCvGV9P,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC6P,WAAY,CACR7B,SAAU,GACV/C,UAAW,GACXqD,WAAY,aACZ9H,SAAU,GACVsJ,WAAY,EACZ1P,QAAS,OAIFM,gBA7BuB,SAAC,GAAkB,IAAjB3J,EAAgB,EAAhBA,WAC9BwG,EAAQoD,qBAAWxD,IACnB4D,EAAUjB,KAMhB,OAAO,eAACsF,EAAA,EAAD,CACH,aAAW,kBACXO,UAAU,OACVD,UAAW3E,EAAQ8O,WACnB5K,QARW,WACX1H,EAAMb,aAAa3F,IAGhB,SAKF1D,EAAgBD,EAAamK,EAAMd,YAAY1F,UClB3CgZ,GAA+B,SAAC,GAAD,IAAE9K,EAAF,EAAEA,QAAF,IAAWI,aAAX,MAAmB,UAAnB,SACxC,eAACD,EAAA,EAAD,CAAY,aAAW,QACXO,UAAU,OACVN,MAAOA,EACPJ,QAASA,EAHrB,SAII,eAAC,KAAD,OC8GFnF,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC6K,OAAQ,CACJxE,SAAU,EACV4E,UAAW,GACX+E,UAAW,GACX3P,MAAO,OACPH,gBAAiBjB,GAAM,oBACvBuP,UAAW,UAEfyB,WAAW,aACPzB,UAAY,SAAC/E,GAAD,MAA0B,OAAfA,EAAM9K,KAAgB,SAAW,SACxD8P,cAAe,SACfnF,UAAW,MACXgF,WAAY,aACZzH,WAAY,IACX7G,EAAMM,YAAYC,KAAK,MAAQ,CAC5BuC,aAAc,IAItBoN,OAAQ,CACJhF,SAAU,SAEdiF,OAAO,eACFnQ,EAAMM,YAAYC,KAAK,MAAQ,CAC5BkG,WAAY,QACZ3D,YAAa,IAGrBsN,YAAY,aACR5B,UAAW,SACXC,cAAe,SACf/F,aAAc,GACd7B,WAAY,IACX7G,EAAMM,YAAYC,KAAK,MAAQ,CAC5BmI,aAAc,KAGtB2H,YAAY,aACR5B,cAAe,SACfD,UAAY,SAAC/E,GAAD,MAA0B,OAAfA,EAAM9K,KAAgB,SAAW,QACxDkI,WAAY,GACZ4B,YAAa,IACZzI,EAAMM,YAAYC,KAAK,MAAQ,CAC5BkI,YAAc,SAACgB,GAAD,MAA0B,OAAfA,EAAM9K,KAAgB,GAAK,SAOjD2R,GA9JM,SAAC,GAQO,IAPHvc,EAOE,EAPFA,KACAgD,EAME,EANFA,WACA/C,EAKE,EALFA,QACAuc,EAIE,EAJFA,YACAC,EAGE,EAHFA,KACAC,EAEE,EAFFA,eACAC,EACE,EADFA,eAIhB/R,EADQgC,qBAAWxD,IACNV,YAAY1F,GACzBgK,EAAUjB,GAAU,CAACnB,SAM3B5K,EAAOU,GAAOV,GAEd,IAAM4c,EAAa,SAAC,GAAe,IAAd3c,EAAa,EAAbA,QACjB,OAAQ2K,GACJ,IAAK,QACD,OACI,uCACI,eAAC+I,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAI,EAAf,SACI,eAACtC,EAAA,EAAD,CAAYC,UAAW3E,EAAQkP,WAA/B,SAA4Cna,GAAwB/B,MADjD,GAGvB,eAAC2T,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAI,EAAf,SACI,eAAC,GAAD,CACI9C,QAASwL,EACTrE,MAAOoE,EAAK,MAHG,GAMvB,eAAC9I,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAI,EAAf,SACI,eAACtC,EAAA,EAAD,CAAYC,UAAW3E,EAAQqP,YAA/B,SAA6Cpc,KAD1B,GAGvB,eAAC0T,GAAA,EAAD,CAAMhC,UAAW3E,EAAQoP,OAAQjX,MAAI,EAAC6O,GAAI,EAA1C,SACI,eAAC,GAAD,CACI9C,QAASyL,EACTtE,MAAOoE,EAAK,MAH8B,GAMlD,eAAC9I,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAI,EAAf,SACI,gBAACtC,EAAA,EAAD,CAAYC,UAAW3E,EAAQsP,YAA/B,UAA6Ctc,EAA7C,QADmB,MAMnC,IAAK,KACD,OACI,uCACI,eAAC2T,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAI,EAAf,SACI,gBAACtC,EAAA,EAAD,CAAYC,UAAW3E,EAAQkP,WAA/B,UACKna,GAAwB/B,GACxB,IACA0Z,GAA2BzZ,OAJb,GAOvB,eAAC0T,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAI,EAAf,SACI,eAAC,GAAD,CACI9C,QAASwL,EACTrE,MAAOoE,EAAK,MAHG,MAQnC,IAAK,KACD,OACI,uCACI,eAAC9I,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAI,EAAf,SACI,gBAACtC,EAAA,EAAD,CAAYC,UAAW3E,EAAQsP,YAA/B,UACKtc,EACA,IACAC,MAJc,GAOvB,eAAC0T,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAI,EAAf,SACI,eAAC,GAAD,CACI9C,QAASyL,EACTtE,MAAOoE,EAAK,MAHG,OAQnC,QACW,qBAAD,OAAsB7R,KAKxC,OACI,gBAAC+I,GAAA,EAAD,CAAMO,WAAS,EAACvC,UAAW3E,EAAQ8J,OAAQvB,UAAU,MAArD,UACI,eAAC5B,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAI,EAAf,SACI,eAAC,GAAD,CAAa9C,QAhFT,WACZsL,EAAYxZ,OA8Ee,GAGvB,eAAC4Z,EAAD,CAAY3c,QAASA,IACrB,eAAC0T,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAI,EAAf,SACI,eAAC,GAAD,CAAgBhR,WAAYA,KADT,OC5G7B6Z,GAaF,aAAe,IAAD,gCAXdC,WAAkB,KAWJ,KAVdC,QAAkB,EAUJ,KATdC,SAAmB,EASL,KARdC,OAAiB,EAQH,KAPdC,SAAmB,EAOL,KANdC,OAAiB,EAMH,KALdC,MAAe,GAKD,KAJd5U,SAAmB,KAIL,KAFd6U,UAAoB,EAEN,KAyBd9U,YAAc,SAACC,GACX,EAAKA,SAAWA,GA1BN,KA6Bd8U,SAAW,SAACF,GACR,EAAKA,MAAQA,GA9BH,KAiCdG,SAAW,kBAAc,EAAKH,MAAM,EAAKI,aAjC3B,KAmCd9U,YAAc,kBAAc,EAAKF,UAnCnB,KAqCdgV,SAAW,iBAAiC,OAAlB,EAAKhV,SAAoB,EAAI,GArCzC,KAuCdiV,KAAO,SAAChZ,EAAkBiZ,GACtB,EAAKZ,WAAa,IAAIa,yBAAyBlZ,EAAK,EAAK+Y,aACzD,EAAKV,WAAWM,MAAQzP,OAAOiQ,gBAAgBC,YAAY,EAAKN,YAChE,EAAKT,WAAWgB,OAAS,GACzB,EAAKhB,WAAWiB,MAAQ,EACxB,EAAKjB,WAAWkB,KAAO,GAEvB,EAAKlB,WAAWmB,MAAQ,WACpB,EAAKf,SAAU,EACf,EAAKD,OAAQ,EACb,EAAKD,SAAU,EACf,EAAKD,QAAS,EACd,EAAKI,OAAQ,EACR,EAAKE,UACNK,KAIR,EAAKZ,WAAWoB,QAAU,aAG1B,EAAKpB,WAAWqB,SAAW,WACvB,EAAKnB,SAAU,EACf,EAAKD,QAAS,GAGlB,EAAKD,WAAWsB,QAAU,kBAAM,EAAKnB,OAAQ,GAE7C,EAAKH,WAAWuB,QAAU,WACtB,EAAKnB,SAAU,EACf,EAAKD,OAAQ,EACb,EAAKD,SAAU,EACf,EAAKD,OAAS,EAAKD,WAAWC,OAC9B,EAAKM,UAAW,GAEpBO,gBAAgBU,MAAM,EAAKxB,aA1EjB,KA6EdyB,MAAQ,WACJ,EAAKvB,SAAU,EACf,EAAKD,QAAS,EACda,gBAAgBW,SAhFN,KAmFdC,OAAS,WACL,EAAKnB,UAAW,EAChBO,gBAAgBY,UArFN,KAwFdC,OAAS,WACL,EAAKzB,SAAU,EACf,EAAKD,QAAS,EACda,gBAAgBa,UA3FN,KA8FdC,WAAa,kBAAe/Q,OAAOiQ,gBAAgBvC,UA9FrC,KAgGdsD,UAAY,kBAAe,EAAK5B,QAhGlB,KAkGd6B,WAAa,kBAAe,EAAK5B,SAlGnB,KAoGd6B,WAAa,kBAAe,EAAK3B,SApGnB,KAsGd4B,SAAW,kBAAe,EAAK3B,OArG3BrU,aAAmBC,KAAM,CACrB+T,WAAY9T,KACZ+T,OAAQ/T,KACRgU,QAAShU,KACTiU,MAAOjU,KACPkU,QAASlU,KACTmU,MAAOnU,KACPoU,MAAOpU,KACPR,SAAUQ,KACVqU,SAAUrU,OAGd,IAAI+V,SAAQ,SAAAC,GAAO,OAAIrR,OAAOiQ,gBAAgBqB,gBAAkBD,KAC3DhR,MAAK,WACF,IAAIkR,EAASvR,OAAOiQ,gBAAgBC,YACpC,EAAKP,SAAS,CACV4B,EAAOC,WAAU,SAAAC,GAAC,MAAe,WAAXA,EAAExd,QACxBsd,EAAOC,WAAU,SAAAC,GAAC,MAAe,WAAXA,EAAExd,aAG/BqM,OAAM,SAACzD,GAAD,OAAOxE,QAAQC,IAAIuE,EAAE/H,aAyFzB4c,GAJO,WAClB,OAAO,IAAIxC,ICvHFyC,GAAgBjW,0BAWdkW,GATQ,SAAC,GAAgB,IAAfhW,EAAc,EAAdA,SACf9E,EAAOgF,YAAmB4V,IAChC,OACI,eAACC,GAAc5V,SAAf,CAAwBC,MAAOlF,EAA/B,SACK8E,KCiHEoD,gBAjHQ,SAAC,GAA+B,IAA9B3J,EAA6B,EAA7BA,WAAYwZ,EAAiB,EAAjBA,YAC3BhT,EAAQoD,qBAAWxD,IACnBoW,EAAS5S,qBAAW0S,IACpBtf,EAAOwJ,EAAMxF,QAAQhB,GAC3B,EAAgC6J,oBAAS,GAAzC,mBAAOwO,EAAP,KAAiBoE,EAAjB,KACA,EAAwB5S,mBAAS,EAAC,GAAO,IAAzC,mBAAO4P,EAAP,KAAaiD,EAAb,KACA,EAAgD7S,mBAAS,CAAC8O,WAAY,EAAGgE,SAAU,IAAnF,mBAAOxE,EAAP,KAAyByE,EAAzB,KACMC,EAAWC,iBAAO,MAElBC,EAAgB,WAClBvW,EAAMtE,eAAesE,EAAMnE,eAAerC,GAAc,EAAGA,GAC3Dgd,YAAW,WAEPH,EAASnE,QAAQuE,cAAc,CAC3B5K,MAAO7L,EAAMnE,eAAerC,GAC5Bkd,MAAQ1W,EAAMvE,YAAYjC,IAAc,EAAI,MAAO,SACnDmd,SAAU,WAEdV,GAAY,kBAAM,OACnB,MA2BP1R,qBAAU,WAMN,OAJIsN,GACAmE,EAAO/B,KAAKjU,EAAM1E,YAAY9B,GAAYwG,EAAMnE,eAAerC,IAAc+c,GAG1E,WACHP,EAAOhB,YAEZ,CAAChV,EAAMnE,eAAerC,GAAaqY,IA4BtC,OACI,uCACI,eAAC,GAAD,CAAcrb,KAAMA,EACNgD,WAAYA,EACZ/C,QA9BU,WAK5B,IAJA,IAAID,EAAOwJ,EAAMxF,QAAQhB,GACrBod,EAAMjF,EAAiBQ,WAAa,EACpC0E,EAAQ,EACRC,EAAM,EACDrc,EAAI,EAAGA,EAAIzE,EAAkBQ,GAAMkG,OAAQjC,IAAK,CAErD,GADAqc,GAAO9gB,EAAkBQ,GAAMiE,GAC3Bmc,GAAOC,GAASD,GAAOE,EACvB,OAAOrc,EAAI,EAEfoc,EAAQC,GAoBeC,GACT/D,YAAaA,EACbE,eAvDC,WACfrB,GACAoE,GAAY,GACZC,EAAQ,EAAC,GAAO,IAChBF,EAAOhB,WAEPkB,EAAQ,EAAC,GAAM,IACfF,EAAOjX,YAAY,MACnBkX,GAAY,KAgDE9C,eApEC,WACftB,GACAoE,GAAY,GACZC,EAAQ,EAAC,GAAO,IAChBF,EAAOhB,WAEPkB,EAAQ,EAAC,GAAO,IAChBF,EAAOjX,YAAY,MACnBkX,GAAY,KA6DEhD,KAAMA,IAGpB,eAAC,KAAD,CACIhY,KAAM+E,EAAM1E,YAAY9B,GACxBuT,IAAKsJ,EACLW,wBAAyBhX,EAAMnE,eAAerC,GAC9Cyd,aAAcb,EACdc,YA5BQ,SAACvb,EAAMV,GACvB,OACI,eAAC,GAAD,CACIA,KAAMA,EACNU,KAAMA,EACNgW,iBAAkBA,EAClBnY,WAAYA,EACZqY,SAAUA,KAsBVsF,WAAY,CACRC,OAAQ,WACJ,OACI,sBAAK9R,MAAO,CAACzC,QAAS,OAAQoO,UAAW,UAAzC,iCC9GfoG,GAAmB,SAAC5D,GAC7B,MACS,4DADDA,EAAMxa,QAGC,6EAGA,0B,+BCLNqe,GAA8B,SAAC,GAAD,IAAE5P,EAAF,EAAEA,QAAF,IAAWI,aAAX,MAAmB,UAAnB,SACvC,eAACD,EAAA,EAAD,CAAY,aAAW,QACXO,UAAU,OACVN,MAAOA,EACPJ,QAASA,EAHrB,SAII,eAAC,KAAD,O,qBCLK6P,GAA6B,SAAC,GAAD,IAAE7P,EAAF,EAAEA,QAAF,IAAWI,aAAX,MAAmB,UAAnB,SACtC,eAACD,EAAA,EAAD,CAAY,aAAW,QACXO,UAAU,OACVN,MAAOA,EACPJ,QAASA,EAHrB,SAII,eAAC,KAAD,OCJK8P,GAA8B,SAAC,GAAD,IAAE9P,EAAF,EAAEA,QAASI,EAAX,EAAWA,MAAX,OACvC,eAACD,EAAA,EAAD,CAAY,aAAW,QACXO,UAAU,OACVN,MAAOA,EACPJ,QAASA,EAHrB,SAII,eAAC,KAAD,O,qBCLK+P,GAA6B,SAAC,GAAD,IAAE/P,EAAF,EAAEA,QAASI,EAAX,EAAWA,MAAX,OACtC,eAACD,EAAA,EAAD,CAAY,aAAW,MAAMvC,MAAO,CAACwC,MAAO,aAChCM,UAAU,OACVN,MAAOA,EACPJ,QAASA,EAHrB,SAII,eAAC,KAAD,O,+DCHKgQ,GAAsC,SAAC,GAAwC,IAAvChQ,EAAsC,EAAtCA,QAASiQ,EAA6B,EAA7BA,QAASC,EAAoB,EAApBA,QAAS9P,EAAW,EAAXA,MAE5E,OACI,kCACI,eAACD,EAAA,EAAD,CAAY,aAAW,kBACXO,UAAU,OACVN,MAAOA,EACPJ,QAASA,EAHrB,SAKMkQ,EAAU,eAAC,KAAD,IAAe,eAAC,KAAD,MAE/B,eAAC/P,EAAA,EAAD,CAAY,aAAW,gBACXO,UAAU,OACVN,MAAOA,EACPJ,QAASiQ,EAHrB,SAIMC,EAAU,eAAC,KAAD,IAAoB,WClBnCC,GAAmB,SAAC,GAAY,IACzC,ECHoB,SAACC,GACrBA,EAAOA,EAAKxf,QAAQ,UAAM,IAAIA,QAAQ,WAAO,IAAIA,QAAQ,QAAM,IAAIA,QAAQ,WAAO,IAElF,IAAM/B,EAAG,UAAMrB,EAAN,+BAAmC4iB,GAE5C,EAAgBzU,mBAAS0U,mBAAQ,WAC7B,IACI,OAAO,IAAIC,MAAMzhB,GACnB,MAAOyK,GACLiX,MAAM,kBAEX,CAAC1hB,KANG2hB,EAAP,oBASA,EAA8B7U,oBAAS,GAAvC,mBAAOuU,EAAP,KAAgBO,EAAhB,KAyBA,OAfA5T,qBAAU,WACFqT,EAAUM,EAAMjE,OAASiE,EAAMnD,UAEnC,CAAC6C,EAAQM,IAGb3T,qBAAU,WAEN,OADA2T,EAAME,iBAAiB,SAAS,kBAAMD,GAAW,MAC1C,WACHD,EAAMG,oBAAoB,SAAS,kBAAMF,GAAW,MACpDD,EAAMnD,QACNmD,EAAMI,YAAc,MAIrB,CAACV,EAvBO,kBAAMO,GAAYP,IAEpB,WACTO,GAAW,GACXD,EAAMnD,QACNmD,EAAMI,YAAc,IDlBSC,CADO,EAAVT,MAC9B,mBAAOF,EAAP,KAAgBY,EAAhB,KAAwBC,EAAxB,KACA,OAAO,eAAC,GAAD,CAAgB/Q,QAAS8Q,EAAQZ,QAASA,EAASD,QAASc,K,qBEG1DC,GAA4B,SAAC,GAAa,IAAZC,EAAW,EAAXA,MACvC,EAAgCtV,mBAAmC,MAAnE,mBAAO8C,EAAP,KAAiBC,EAAjB,KACA,EAAwB/C,mBAAiB,IAAzC,mBAAOyU,EAAP,KAAac,EAAb,KACA,GAAqB,IAAjBD,EAAMjc,OAAc,OAAO,KAC/B,GAAqB,IAAjBic,EAAMjc,OAAc,OAAO,eAAC,GAAD,CAAkBob,KAAMa,EAAM,KAE7D,IAAME,EAAa,SAAChN,GAChBzF,EAAY,MACZwS,EAAQD,EAAM9M,KAMlB,MAAU,IAAPiM,EACQ,eAAC,GAAD,CAAkBA,KAAMA,IAI/B,kCACI,eAACjQ,EAAA,EAAD,CAAY,aAAW,sBAAsB,gBAAc,eAAeH,QAVlE,SAAC1C,GACboB,EAAYpB,EAAM4B,gBASd,SACI,eAAC,KAAD,CAAkB,gBAAc,6BAEpC,eAACK,EAAA,EAAD,CACII,GAAG,eACHlB,SAAUA,EACVmB,aAAW,EACX1C,KAAM4B,QAAQL,GACdqB,QAASqR,EALb,SAMKF,EAAM9X,KAAI,SAACiX,EAAMjM,GAAP,OAAiB,eAACpE,EAAA,EAAD,CAAsBC,QAAS,WAAKmR,EAAWhN,IAA/C,U3C7BZ1V,E2C6BqF2hB,E3C7B1D3hB,EAAOmC,QAAQ,YAAa,M2C6B5BuT,G3C7B5B,IAAC1V,W4CwE1B2iB,GAAYtW,YAAW,CACzBsW,UAAW,CACPpL,UAAW,GACX/K,gBAAiBjB,GAAM,sBACvBmB,QAAS,EACT0C,YAAa,GAEjBgI,SAAU,CACN3K,OAAQ,EACRC,QAAS,GAGbkW,WAAY,CACRxT,YAAa,MAKNyT,GA3EwB,SAAC,GAOO,IANHxf,EAME,EANFA,WACAwZ,EAKE,EALFA,YACAiG,EAIE,EAJFA,aACAC,EAGE,EAHFA,WACAC,EAEE,EAFFA,YACA/b,EACE,EADFA,QAGlC4C,EAAQoD,qBAAWxD,IACnB4D,EAAUsV,KACVM,EAAUC,aAAc,qBACxBtN,EAAaqN,EAAU,MAAQ,SAC/BE,EAAcF,EAAU,EAAI,GAC5BG,EAAcH,EAAU,EAAI,GAkBlC,OACI,gBAACjP,GAAA,EAAD,CAAMO,WAAS,EACTqB,UAAWA,EACX5D,UAAW3E,EAAQsV,UACnB/P,eAAe,aACf6B,WAAW,SACXrB,QAAS,EALf,UAOI,gBAACY,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAI8O,EAAf,UACI,eAAC,GAAD,CAAa5R,QAxBT,WACZsL,EAAYxZ,MAwBJ,eAAC,GAAD,CAAYkO,QAtBR,WACZuR,EAAazf,MAsBL,eAAC,GAAD,CAAWkO,QApBT,WACVwR,EAAW1f,MAoBH,eAAC,GAAD,CAAYkO,QAlBT,WACXyR,EAAY3f,MAkBJ,eAAC,GAAD,CAAamf,MAAOvb,EAAQoc,aACL,KAArBpc,EAAQqc,SAAkB,KAAO,eAAC,GAAD,CAAW/R,QAjB5C,WACVvD,OAAOS,KAAKxH,EAAQqc,gBAoBhB,eAACtP,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAI+O,EAAf,SACI,eAACrR,EAAA,EAAD,UAAahR,GAAO8I,EAAMxF,QAAQhB,Y,UC+I5C+I,GAAYC,aAAW,iBAAO,CAC5B6T,SAAU,CACNzG,IAAK,GACL5H,SAAU,QACVlF,MAAO,OACP4G,OAAQ,OACRgQ,aAAc,UAElBC,mBAAoB,CAChB5I,WAAY,aACZ,UAAW,CACP6I,WAAYlY,GAAM,oBAEtBoB,MAAO,QAEX+W,UAAW,CACP9I,WAAY,aACZ9H,SAAU,KACViC,YAAa,GACbC,aAAc,GACdwC,SAAU,IACV/K,OAAQ,QAEZkX,QAAS,CACL9Q,QAAS,OACT+Q,cAAe,SACfL,aAAc,SACd3Q,eAAgB,UAEpBiR,uBAAwB,CACpB9O,YAAa,GACbC,aAAc,GACdrI,MAAO,OACPF,OAAQ,OACRmJ,UAAW,OAEfkO,aAAc,CACV,UAAW,CACPL,WAAYlY,GAAM,oBAEtBqP,WAAY,aACZpD,SAAU,OACVzE,WAAY,MACZ3D,YAAa,MACb0D,SAAU,OACVsJ,WAAY,UACZxG,UAAW,OAEfmO,QAAS,CACLpK,OAAQ,WAEZqK,OAAQ,CACJC,MAAO,QAEXC,QAAS,CACLD,MAAO,SAEXE,SAAU,CACN3X,gBAAiBjB,GAAM,YAE3B6Y,KAAM,CACFvR,QAAS,QAEbwR,KAAM,CACFxR,QAAS,SAEbyR,OAAQ,CACJ1J,WAAY,aACZqJ,MAAO,OACPrO,UAAW,MACXkF,UAAW,QACXsB,WAAY,UACZtJ,SAAU,UACViI,cAAe,MACfpO,MAAO,QAGX4X,OAAQ,CACJ5X,MAAO,KAEX6X,QAAS,CACL5J,WAAY,aACZwB,WAAY,UACZ6H,MAAO,QACPnJ,UAAW,QACXC,cAAe,OAEnB0J,QAAS,CACL3J,UAAW,OACXlF,UAAW,MACX7C,WAAY,GACZD,SAAU,GACVnG,MAAO,OACPoO,cAAe,MACfH,WAAY,aACZwB,WAAY,WAGhBsI,cAAe,CACX9O,UAAW,MACX1C,OAAQ,gBACR4H,UAAW,QACXR,SAAU,QAEdC,GAAI,CACA3E,UAAW,OAEf8E,GAAI,CACA9E,UAAW,OAEf+O,KAAM,GACNtd,IAAK,CACDoS,IAAK,GACLmL,QAAS,OAEbC,UAAW,CACPrM,cAAe,OACf7L,MAAO,YAKAmY,GAnT+B,SAAC,GAOO,IANHzhB,EAME,EANFA,WACAiT,EAKE,EALFA,SACAzP,EAIE,EAJFA,WACAI,EAGE,EAHFA,QACAwP,EAEE,EAFFA,KACAoG,EACE,EADFA,YAG7ChT,EAAQoD,qBAAWxD,IAEzB,EAA0ByD,mBAAyB,EAAC,GAAM,GAAO,IAAjE,mBAAO6X,EAAP,KAAcC,EAAd,KACM3X,EAAUjB,KACV8T,EAAWC,iBAAO,MAclB8E,EAAgB,SAACC,GACnBF,EAAS,EAAC,GAAM,GAAO,IAEvB3E,YAAW,WAEPH,EAASnE,QAAQuE,cAAc4E,EAAgB,EAAG,CAC9C3E,MAAO,MACPC,SAAU,aAEf,MAGD2E,EAAgB,SAAC3f,GACnB,OAA2B,IAAvBqE,EAAMjH,MAAM2D,QAGTsD,EAAMnE,eAAerC,KAAgBmC,GAI1C4f,EAAY,SAAC5f,EAAcV,GAE7B,OACI,gCACKiS,aAAMjS,EAxEV,GAwEqB,GAAI,CAClB3C,QAAS,SAAA6U,GACL,OAAOX,GAAUC,EAAU9Q,EAAMxG,EAAgBqE,EAAY2T,MAGpED,aAAMjS,EA7EV,GA6EqB,GAAI,CAClB3C,QAAS,SAAA6U,GACL,OAAOX,GAAUC,EAAU9Q,EAAMxG,EAAgBqE,EAAY2T,UAO3E+J,EAAc,SAACvb,EAAcV,GAC/B,OACI,sBAAKkN,UAAS,UAAK3E,EAAQmW,mBAAb,YAAmC2B,EAAc3f,GAAQ6H,EAAQ8W,SAAW,IAA1F,SACI,sBAAKnS,UAAqB,YAATyE,EAAqBpJ,EAAQqW,UAAYrW,EAAQsW,QAAlE,SACK5M,aAAMjS,EA1Fd,GA0FyB,GAAI,CAClB3C,QAAS,SAAA6U,GACL,OAAOX,GAAUC,EAAU9Q,EAAMxG,EAAgBqE,EAAY2T,WAgD/EqO,EAA2B,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAE/B,GAAIre,EAAQse,WAAY,CAEpB,OACI,eAAC,KAAD,CACIvT,UAAS,UAHC,aAGD,aAAoB+S,EAjJpC,GAiJkD1X,EAAQgX,KAAOhX,EAAQ+W,MAClEtf,KAAM+B,EACN+P,IAAKsJ,EACLW,wBAAyByE,EACzBvE,YAAaqE,IAIrB,OACI,eAAC,KAAD,CAAUpT,UAAY+S,EA1JzB,GA0JuC1X,EAAQgX,KAAOhX,EAAQ+W,KACjDtf,KAAM+B,EACN+P,IAAKsJ,EACLW,wBAAyByE,EACzBvE,YAAaA,KAKnC,QAA8BzJ,IAA1BrQ,EAAQue,cAA6B,OAAO,KAGhD,IAAMC,EAAkB5b,EAAMnE,eAAerC,GAAc,EACrDiiB,EAAmBG,EAAU,EAAIA,EAAU,EAE3CC,OAA2BpO,IAAlBrQ,EAAQye,MAAsB,CAAC,IAAM,CAACze,EAAQye,OACvDre,OAAuBiQ,IAAhBrQ,EAAQI,IAAoB,CAAC,IAAMJ,EAAQI,IAGxD,OACI,uCACI,eAACse,GAAD,CAAmBtiB,WAAYA,EACZwZ,YAAaA,EACbiG,aA9IN,WACjBkC,EAAS,EAAC,GAAO,GAAO,KA8IDjC,WA3IR,WACfiC,EAAS,EAAC,GAAO,GAAM,KA2IAhC,YAxIP,WAChBgC,EAAS,EAAC,GAAM,GAAO,KAwIA/d,QAASA,IAE5B,eAACoe,EAAD,CAAWC,QAASA,IAEpB,eAAC,KAAD,CAAUtT,UAAS,UAAM+S,EAvLzB,GAuLsC1X,EAAQgX,KAAOhX,EAAQ+W,KAA1C,YAAmD/W,EAAQhG,KACpEvC,KAAMuC,EACNwZ,wBAAyB,EACzBE,YA5EF,SAACvb,EAAcV,GAC3B,MAAoB,KAAhBA,EA5GE,GA8GM,sBAAKkN,UAAS,UAAK3E,EAAQyW,aAAb,YAA6BqB,EAAc3f,GAAQ6H,EAAQ8W,SAAW,IAApF,SACJ,oBAAGnS,UAAW3E,EAAQ0W,QAAS5U,MAAO,CAACyG,UAAW3O,EAAQ2O,WAAYrE,QAAS0T,EAAcvO,KAAK,GAAM5R,EA9GhG,IA8GR,SACKA,EAjHL,OAwHA,sBAAKkN,UAAS,UAAK3E,EAAQmW,mBAAb,YAAmC2B,EAAc3f,GAAQ6H,EAAQ8W,SAAW,IAA1F,SACJ,sBAAKnS,UAAqB,YAATyE,EAAqBpJ,EAAQqW,UAAYrW,EAAQsW,QAAlE,SACI,gBAACtL,GAAA,EAAD,CAAQrG,UAAW3E,EAAQwX,UAAWtT,QAAS0T,EAAcvO,KAAK,GAAM5R,EAxHhE,IAwHR,UACI,sBAAKkN,UAAW3E,EAAQiX,OAAxB,SACI,oBAAGtS,UAAW3E,EAAQkN,GAAtB,SAA2BzV,EA3HrC,OA6HM,sBAAKkN,UAAW3E,EAAQkX,SAExB,sBAAKvS,UAAW3E,EAAQoX,QAAxB,SACI,oBAAGzS,UAAW3E,EAAQqN,GAAtB,SAA2B5V,EAjInC,eAyLMkc,WAAY,CACRC,OAAQ,WACJ,OACI,sBAAK9R,MAAO,CAACzC,QAAS,OAAQoO,UAAW,UAAzC,wCAMtB,eAAC,KAAD,CAAU9I,UAAS,UAAM+S,EAnMvB,GAmMsC1X,EAAQgX,KAAOhX,EAAQ+W,KAA5C,YAAqD/W,EAAQsX,MACtE7f,KAAM4gB,EACN7E,wBAAyB,EACzBE,YArGO,SAACvb,EAAcV,GACpC,OAAQ,sBAAKkN,UAAS,UAAK3E,EAAQmW,mBAAb,YAAmC2B,EAAc3f,GAAQ6H,EAAQ8W,SAAW,IAA1F,SACJ,sBAAKnS,UAAqB,YAATyE,EAAqBpJ,EAAQqW,UAAYrW,EAAQsW,QAAlE,SACK5M,aAAMjS,EAAM,CACT3C,QAAS,SAAA6U,GACL,OAAOX,GAAUC,EAAU9Q,EAAMxG,EAAgBqE,EAAY2T,iBC/G/E/D,GAAS,uCAAG,WAAO5P,EAAYwG,EAAOzJ,EAAKqW,GAA/B,iBAAAjO,EAAA,sEAEVqB,EAAMnD,YAAW,GAFP,SAGa+B,MAAMrI,GAHnB,YAGJsI,EAHI,QAKGkd,GALH,iCAMald,EAASC,OANtB,OAMA7D,EANA,OAOO,UAAT2R,EACA5M,EAAM5E,YAAYH,EAAKxE,QAAS+C,IAEhCwG,EAAMjD,cAAc9B,EAdjB,GAckC,GAAIzB,GACzCwG,EAAM7C,eAAelC,EAdhB,GAcoCzB,IAE7CwG,EAAMnD,YAAW,GAbX,0DAgBVmD,EAAMrC,WAAW,UAAY,KAAE1E,SAhBrB,yBAkBV+G,EAAMnD,YAAW,GAlBP,6EAAH,4DAsBTrC,GAAO,uCAAG,WAAOhE,EAAMC,EAASW,EAAO4kB,EAAWpP,EAAM5M,GAA9C,eAAArB,EAAA,yDACZiO,EAAOA,EAAKpV,cACRjB,EAAM,GACLyJ,EAAM5D,WAAW5F,EAAMC,EAASW,GAHzB,sBAIK,UAATwV,GACA5M,EAAM/D,SAAS,CACXzF,KAAMA,EACNC,QAASiB,SAASjB,GAAW,EAC7BW,MAAOA,EACPiE,SAAU,GACV2gB,UAAW,GACXpP,KAAMA,EACN1R,UAAW,GACXrB,WAAY,EACZG,SAAU,GACVG,gBAAiB,EACjBG,cAAe,EACfb,iBAAiB,EACjByU,WAAY,GACZ1S,SAAU,EACVI,YAAazE,GAAoBX,EAAMC,EAASW,GAChD2E,eAAgB,GAChBkgB,uBAAwB,EACxBhd,UAAW,CAAC,QAAS,KAAM,QAE/BzC,QAAQC,IAAI,OAAQtF,GAAoBX,EAAMC,EAASW,IACvDb,EAAMD,GAAYlB,EAAgBoB,EAAMT,EAAoBS,GAAO,KAAK,KAGxEwJ,EAAM/D,SAAS,CACXzF,KAAMA,EACNC,QAASiB,SAASjB,GAAW,EAC7BW,MAAOA,EACP4F,WAAY,GACZK,aAAc,GACdI,IAAK,GACLue,UAAW,GACXpP,KAAMA,EACNhR,YAAanF,EACbwI,UAAW,CAAC,KAAM,QAEtB1I,EAAG,UAAMhB,GAAN,OAAwByK,EAAMxF,QAAQwF,EAAMjH,MAAM2D,OAAS,GAA3D,IAAiE,OAAjE,IAA2E,EAA3E,MAzCC,SA2CF0M,GAAUpJ,EAAMjH,MAAM2D,OAAS,EAAGsD,EAAOzJ,EAAKqW,GA3C5C,2CAAH,gEA+CEpS,MC4DT+H,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAK,aACDI,MAAO,OACP8M,IAAK,GACLlG,OAAQ,oBACR1B,SAAU,SACViB,SAAU,mBACTxG,EAAMM,YAAYC,KAAK,MAAQ,CAC5B4M,IAAK,GACLlG,OAAQ,sBAGhB/N,KAAM,CACF+N,OAAQ,OACR5G,MAAO,QAEXoZ,UAAW,CACPvO,SAAU,mBACV7K,MAAO,QAEXqZ,gBAAiB,CACbnT,QAAS,QAEbiG,MAAO,CACHnM,MAAO,OACP4G,OAAQ,YAIDvG,gBArJE,SAAC,GAAY,IAAXyJ,EAAU,EAAVA,KACT5M,EAAQoD,qBAAWxD,IACzB,EAAuCwc,cAAhC5lB,EAAP,EAAOA,KAAP,IAAaC,eAAb,MAAuB,EAAvB,MAA0BW,aAA1B,MAAkC,EAAlC,EAEMoM,EAAUjB,KACZkB,EAAUC,cAERsP,EAAc,SAACxZ,GAQjB,GAPAwG,EAAMzD,UAAU/C,GAGG,IAAfA,GACAwG,EAAMpD,aAGNoD,EAAMP,WAAY,CAClB,GAAa,UAATmN,EAEA,YADAnJ,EAAQrE,KAAR,YAGJ,GAAa,aAATwN,EAEA,YADAnJ,EAAQrE,KAAR,cAIJqE,EAAQrE,KAAR,WAAiBlJ,GAAW0W,GAA5B,QAKFH,EAAW,SAAC9Q,GAAgD,IAA1C+Q,EAAyC,uDAAlCvX,EAA4B6L,EAAM,uCAK7D,IACI,MAAsDD,GAAuBC,GAAtEP,EAAP,EAAOA,QAASC,EAAhB,EAAgBA,WAAYC,EAA5B,EAA4BA,SAAUC,EAAtC,EAAsCA,aAClC0C,EAAStD,EAAM5D,WAAWqE,EAASC,EAAYC,GAC/C2C,EACAtD,EAAMrC,WAAN,UAAoBnH,EAApB,YAA4BC,EAA5B,YAAuCW,EAAvC,mBAEAoD,GAAQiG,EAASC,EAAYC,EAAUC,EAAc8L,EAAM1M,GAAOwE,OAAOC,QAE/E,MAAOzD,GACLhB,EAAMrC,WAAW0Z,GAAiBrW,MAIpCiN,EAAW,SAACzU,EAAYiH,EAASC,EAAYC,EAAUC,GACzD,IACIpG,GAAQiG,EAASC,EAAYC,EAAUC,EAAc,GAAIZ,GAAOwE,OAAOC,QACzE,MAAOzD,GACLhB,EAAMrC,WAAW0Z,GAAiBrW,MAIpCqb,EAAkB,SAAC,GAAoC,IAAnC/Y,EAAkC,EAAlCA,OAAQ9J,EAA0B,EAA1BA,WAAYyU,EAAc,EAAdA,SAC1C,OACI,eAAC9D,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,IAAI,EAAMrC,UAAY7E,EAASE,EAAQ0Y,UAAY1Y,EAAQ2Y,gBAAtE,SACI,eAAC,GAAD,CACI3iB,WAAYA,EACZiT,SAAUA,EACVwB,SAAUA,OAwC1BzT,GAAQhE,EAAMC,EAASW,EAAO,GAAIwV,EAAM5M,GAAOwE,OAAOC,QAEtD,IAAMgH,EAnCa,WAKf,IAHA,IAAM1S,EAAQiH,EAAM7D,WAChBmgB,EAAM,GAED7hB,EAAI,EAAGA,EAAI1B,EAAM2D,OAAQjC,IACM,UAAhC1B,EAAM0B,GAAGmS,KAAKpV,cACd8kB,EAAIld,KACA,gBAAC,IAAM6N,SAAP,WACI,eAAC9C,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,IAAI,EAAMrC,UAAW3E,EAAQ7H,KAAxC,SACI,eAAC4gB,GAAD,CAAY/iB,WAAYiB,EAAGuY,YAAaA,MAE5C,eAACqJ,EAAD,CAAiB/Y,OAAQtD,EAAMtG,mBAAmBe,GAAIjB,WAAYiB,EAAGwT,SAAUA,MAJ9DrX,OASzB0lB,EAAIld,KACA,eAAC+K,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,IAAI,EAAMrC,UAAW3E,EAAQ7H,KAAxC,SACI,eAAC,GAAD,CACInC,WAAYiB,EACZgS,SAAUA,EACVzP,WAAYgD,EAAM/C,cAAcxC,GAChC2C,QAAS4C,EAAM1C,eAAe7C,GAC9BmS,KAAMA,EACNoG,YAAaA,KAP8Bpc,OAa/D,OAAO0lB,EAIGE,GACd,OAAqB,IAAjB/Q,EAAM/O,OACC,KAGP,eAACyN,GAAA,EAAD,CAAMO,WAAS,EACTvC,UAAS,UAAK3E,EAAQd,KAAb,YAAqBlM,GAC9BuV,UAAU,MACVpB,eAAe,SAHrB,SAKKc,EAAM5K,KAAI,SAAAyb,GAAG,OAAIA,U,oBChIjBG,GAAW,SAAClmB,GACrB,IAAI4H,EAASpH,GAAKR,EAAIkC,OAAOI,MAAM,KAAK,IAIxC,OAHIsF,EAAO9F,WAAW,OAClB8F,EAASA,EAAOue,UAAU,IAEvBve,G,0CCDEwe,GAAkC,SAACzQ,GAC5C,GAAqB,IAAjBA,EAAMxP,OACN,OAAO,KAGX,MAA8DwP,EAAvDxP,cAAP,MAAgB,EAAhB,IAA8DwP,EAA3CjD,gBAAnB,MAA8B,QAA9B,IAA8DiD,EAAvBpE,aAAvC,MAA+C,YAA/C,EACA,OAAQpL,EAAS,EACb,eAAC,KAAD,CAAgBuM,SAAUA,EAAUnB,MAAOA,IAC3C,eAAC,KAAD,CAAemB,SAAUA,EAAUnB,MAAOA,KCDrC8U,GAAkB,SAAC,GAAyE,IAAxEnR,EAAuE,EAAvEA,MAAOC,EAAgE,EAAhEA,KAAgE,KAA1DzM,UAA0D,EAAhC0M,gBAAgC,MAAtB,EAAsB,MAAnB2B,cAAmB,SAE9F9J,EAAUjB,KAEVsa,EAAW,SAAC/Q,GACd,IAAM3T,EAAOD,OAAOC,KAAK2T,GACrBgR,EAAY,GACZC,EAAO,GAqCX,OApCA5kB,EAAK6kB,SAAQ,SAAA9S,GACL4B,EAAI5B,GAAK+S,sBAAwBH,IAE7BA,EADAxP,EACYxB,EAAI5B,GAAK+S,oBAET,GAEhBF,EAAK3d,KAAK,gBAAC+K,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAI,GAAf,UACN,qBAAIrC,UAAW3E,EAAQ0Z,KACvB,eAAChV,EAAA,EAAD,CAAYjC,QAAQ,KAAKkC,UAAW3E,EAAQ4H,MAA5C,SACKlV,GAAW4mB,UAIxBC,EAAK3d,KAAK,eAAC,IAAD,CAAMkJ,GAAE,WAAMpS,GAAWwV,GAAjB,YAA0B+Q,GAAS3Q,EAAI5B,GAAKyR,eAA5C,OAAR,SACN,uBAAKxT,UAAW3E,EAAQ7H,KAAxB,UACI,uBAAMwM,UAAW3E,EAAQ2Z,KAAzB,SACI,eAACjV,EAAA,EAAD,CAAYC,UAAW3E,EAAQ4Z,YAA/B,SAA6CtR,EAAI5B,GAAKmT,kBAE1D,uBAAMlV,UAAW3E,EAAQ8Z,KAAzB,SACK,eAAC,GAAD,CAAY5gB,OAAQoP,EAAI5B,GAAKsP,WAAW9c,WAE7C,uBAAMyL,UAAW3E,EAAQ+Z,MAAzB,SACI,eAACrV,EAAA,EAAD,CAAYC,UAAW3E,EAAQga,YAA/B,SACK1R,EAAI5B,GAAKyR,2BAO9BoB,EAAK3d,KAAK,gBAAC+K,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAI,GAAf,UACN,qBAAIrC,UAAW3E,EAAQ0Z,KACvB,eAAChV,EAAA,EAAD,CAAYjC,QAAQ,KAAKkC,UAAW3E,EAAQ4H,YAGzC2R,GAILU,EAAW,WACb,OAAQ,gBAACtT,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAI,GAAID,GAAIoB,EAAvB,UACJ,eAACxB,GAAA,EAAD,CAAMxO,MAAI,EAACwM,UAAW3E,EAAQ4H,MAA9B,SACI,eAAClD,EAAA,EAAD,CAAYC,UAAW3E,EAAQka,SAAUzX,QAAQ,KAAKmC,UAAU,KAAhE,SAAsElS,GAAWwV,OAErF,eAAC,GAAD,IACA,eAACvB,GAAA,EAAD,CAAMO,WAAS,EAACnB,QAAS,EAAzB,SACKsT,EAASpR,OAN2B,IAWjD,OAAQ,sBAAKtD,UAAW3E,EAAQkH,UAAxB,SACJ,gBAACP,GAAA,EAAD,CAAMO,WAAS,EACTqB,UAAU,SACVpB,eAAe,eACfC,WAAW,SAHjB,UAII,eAAC,GAAD,CAAQJ,GAAI,KACZ,eAACiT,EAAD,IACA,eAAC,GAAD,CAAQjT,GAAI,WAMlBjI,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCiI,UAAW,CACP5H,MAAO,OACP4G,OAAQ,OACRT,SAAU,GACV8H,WAAY,cACb3F,MAAO,CACNjC,UAAW,GACXjG,aAAc,GACdgG,WAAY,IACbyU,UAAW,CACVzU,WAAY,GACZD,SAAU,IACXW,MAAO,CACNT,UAAW,GACXU,YAAanI,GAAOO,YACrBib,GAAI,CACH/T,UAAW,GACXjG,aAAc,GACdgG,WAAY,GACZ3D,YAAa,IACdqY,SAAU,CACT3U,SAAU,QACXyU,SAAU,CACTxa,aAAc,GACd4E,MAAO,QACR0V,YAAa,CACZvM,UAAW,QAEZmM,YAAa,CACZnM,UAAW,SAEfkM,KAAM,CACFra,MAAM,MACNoI,YAAa,GACbtI,OAAQ,EACPib,aAAc,SAEnBN,MAAO,CACHza,MAAM,MACNqI,aAAc,GACdvI,OAAQ,EACRib,aAAc,QAElBliB,KAAK,CACHqN,QAAS,QAEXsU,KAAK,CACHpU,WAAW,GACX3D,YAAY,GACZkL,SAAS,QCnITqN,GAAU,uCAAG,8BAAAnf,EAAA,sEACQC,MAAM,GAAD,OAAIpJ,GAAJ,OpDsBA,IoDtBA,MADb,cACTqJ,EADS,gBAEiBA,EAASC,OAF1B,cAET7D,EAFS,yBAGRA,GAHQ,2CAAH,qDAqBD8iB,GAdS,WACpB,MAAkC1a,oBAAkB,GAApD,mBAAO2a,EAAP,KAAkBC,EAAlB,KACA,EAA0BC,IAAM7a,WAAhC,mBAAOoI,EAAP,KAAc0S,EAAd,KASA,OAPAD,IAAM3Z,WAAU,WACZuZ,KAAatZ,MAAK,SAAAvJ,GACdkjB,EAASljB,GACTgjB,GAAa,QAElB,IAEKD,EAAY,eAAC,GAAD,CAAiBvS,MAAOA,EAAOC,KAAK,WAAWzM,UAAW,CAAC,KAAM,MAAOqO,QAAQ,IAAW,MCjB7GwQ,GAAU,uCAAG,8BAAAnf,EAAA,sEACQC,MAAM,GAAD,OAAIpJ,GAAJ,OrDsBD,IqDtBC,MADb,cACTqJ,EADS,gBAEgBA,EAASC,OAFzB,cAET7D,EAFS,yBAGRA,GAHQ,2CAAH,qDAuBDmjB,GAhBC,WACZ,MAAkC/a,oBAAkB,GAApD,mBAAO2a,EAAP,KAAkBC,EAAlB,KACA,EAA0B5a,qBAA1B,mBAAOoI,EAAP,KAAc0S,EAAd,KASA,OAPA5Z,qBAAU,WACNuZ,KAAatZ,MAAK,SAAAvJ,GACdkjB,EAASljB,GACTgjB,GAAa,QAElB,IAEKD,EAAY,eAAC,GAAD,CAAiBvS,MAAOA,EAAOC,KAAK,UAAUzM,UAAW,CAAC,KAAM,QAAW,MChB7F6e,GAAU,uCAAG,8BAAAnf,EAAA,sEACQC,MAAM,GAAD,OAAIpJ,GAAJ,OtDuBF,IsDvBE,MADb,cACTqJ,EADS,gBAEiBA,EAASC,OAF1B,cAET7D,EAFS,yBAGRA,GAHQ,2CAAH,qDAoBDojB,GAdO,WAClB,MAAkChb,oBAAkB,GAApD,mBAAO2a,EAAP,KAAkBC,EAAlB,KACA,EAA0BC,IAAM7a,WAAhC,mBAAOoI,EAAP,KAAc0S,EAAd,KASA,OAPAD,IAAM3Z,WAAU,WACZuZ,KAAatZ,MAAK,SAAAvJ,GACdkjB,EAASljB,GACTgjB,GAAa,QAElB,IAEKD,EAAY,eAAC,GAAD,CAAiBvS,MAAOA,EAAOC,KAAK,SAASzM,UAAW,CAAC,KAAM,MAAOqO,QAAQ,IAAW,MCjB3GwQ,GAAU,uCAAG,8BAAAnf,EAAA,sEACQC,MAAM,GAAD,OAAIpJ,GAAJ,OvDqBD,IuDrBC,MADb,cACTqJ,EADS,gBAEiBA,EAASC,OAF1B,cAET7D,EAFS,yBAGRA,GAHQ,2CAAH,qDAqBDqjB,GAdQ,WACnB,MAAkCjb,oBAAkB,GAApD,mBAAO2a,EAAP,KAAkBC,EAAlB,KACA,EAA0BC,IAAM7a,WAAhC,mBAAOoI,EAAP,KAAc0S,EAAd,KASA,OAPAD,IAAM3Z,WAAU,WACZuZ,KAAatZ,MAAK,SAAAvJ,GACdkjB,EAASljB,GACTgjB,GAAa,QAElB,IAEKD,EAAY,eAAC,GAAD,CAAiBvS,MAAOA,EAAOC,KAAK,UAAUzM,UAAW,CAAC,KAAM,MAAOqO,QAAQ,IAAW,MClB5GwQ,GAAU,uCAAG,8BAAAnf,EAAA,sEACQC,MAAM,GAAD,OAAIpJ,GAAJ,OxDsBA,IwDtBA,MADb,cACTqJ,EADS,gBAEiBA,EAASC,OAF1B,cAET7D,EAFS,yBAGRA,GAHQ,2CAAH,qDAqBDsjB,GAdQ,WACnB,MAAkClb,oBAAkB,GAApD,mBAAO2a,EAAP,KAAkBC,EAAlB,KACA,EAA0BC,IAAM7a,WAAhC,mBAAOoI,EAAP,KAAc0S,EAAd,KASA,OAPA5Z,qBAAU,WACNuZ,KAAatZ,MAAK,SAAAvJ,GACdkjB,EAASljB,GACTgjB,GAAa,QAElB,IAEKD,EAAY,eAAC,GAAD,CAAiBvS,MAAOA,EAAOC,KAAK,WAAWzM,UAAW,CAAC,KAAM,MAAOqO,QAAQ,IAAW,MClB7GwQ,GAAU,uCAAG,8BAAAnf,EAAA,sEACQC,MAAM,GAAD,OAAIpJ,GAAJ,OzDwBC,KyDxBD,MADb,cACTqJ,EADS,gBAEiBA,EAASC,OAF1B,cAET7D,EAFS,yBAGRA,GAHQ,2CAAH,qDAqBDujB,GAdY,WACvB,MAAkCnb,oBAAkB,GAApD,mBAAO2a,EAAP,KAAkBC,EAAlB,KACA,EAA0BC,IAAM7a,WAAhC,mBAAOoI,EAAP,KAAc0S,EAAd,KASA,OAPAD,IAAM3Z,WAAU,WACZuZ,KAAatZ,MAAK,SAAAvJ,GACdkjB,EAASljB,GACTgjB,GAAa,QAElB,IAEKD,EAAY,eAAC,GAAD,CAAiBvS,MAAOA,EAAOC,KAAK,cAAczM,UAAW,CAAC,KAAM,MAAOqO,QAAQ,IAAW,MC0ChH/K,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCiI,UAAW,CACP1B,QAAS,OACTlG,MAAO,MACP4G,OAAQ,OACR9G,OAAQ,OACRuG,UAAW,KAEfwJ,OAAQ,CACJ3J,QAAS,OACT+Q,cAAe,SACfnP,WAAY,SACZ7B,eAAgB,SAChB+E,cAAc,KAGlB2Q,SAAU,CACNvb,aAAc,IAElBkI,MAAO,CACHxI,OAAQ,EACRkF,MAAOpG,GAAOS,OACd8O,UAAW,UAEdrH,MAAO,CACJ9B,MAAOpG,GAAOO,WACda,MAAO,QAEXwI,KAAM,CACFrC,SAAU,GACVgI,UAAW,UACXrO,OAAO,GAEX8b,UAAW,CACPzN,UAAW,UACXhI,SAAU,IAEd0V,KAAM,CACF1N,UAAW,SACX/H,WAAY,MACZ3D,YAAa,MACb0D,SAAU,GACVrG,OAAQ,QAEZgc,SAAU,CACN3N,UAAW,SACXhI,SAAU,GACVpG,QAAS,IAEbgc,QAAS,CACLvV,WAAY,GAEhBwV,KAAM,CACFxV,WAAY,SAKLyV,GAtHC,WACZ,IAAMvb,EAAUjB,KACVvC,EAAQoD,qBAAWxD,IACnBwZ,EAAUC,aAAcpjB,GAG9B,OAFA+J,EAAMpD,aAGF,sBAAKuL,UAAYiR,EAAU5V,EAAQqb,QAAUrb,EAAQsb,KAArD,SACI,sBAAK3W,UAAW3E,EAAQkH,UAAxB,SACI,uBAAKvC,UAAW3E,EAAQmP,OAAxB,UACI,iCACI,qBAAIxK,UAAW3E,EAAQ4H,MAAvB,gDACA,qBAAIjD,UAAW3E,EAAQ4H,MAAvB,wDACA,qBAAIjD,UAAW3E,EAAQoG,WAE3B,qBAAGzB,UAAW3E,EAAQ8H,KAAtB,sRAQI,oBAAGnD,UAAW3E,EAAQ8H,KAAtB,2JAIA,qBAAGnD,UAAW3E,EAAQkb,UAAtB,UAAiC,8DAAjC,mEAIA,qBAAGvW,UAAW3E,EAAQkb,UAAtB,UAAiC,oFAAjC,uGAKA,qBAAGvW,UAAW3E,EAAQkb,UAAtB,UAAiC,6EAAjC,qHAKA,qBAAGvW,UAAW3E,EAAQkb,UAAtB,UAAiC,uEAAjC,sDAIA,oBAAGvW,UAAW3E,EAAQob,SAAtB,8GAGA,oBAAGzW,UAAW3E,EAAQmb,KAAtB,SACI,6BAAG,oBAAGlW,KAAK,4FAAR,0CAIX,gCCjBdiC,GAAYlI,aAAW,SAACC,GAAD,MAAY,CACrCiI,UAAW,CACP5H,MAAO,MACPoG,WAAY,OACZ3D,YAAa,OACbmE,OAAQ,OACRP,UAAW,IAEfxN,KAAM,CACFmH,MAAO,GACP4G,OAAQ,GACR/G,gBAAiBjB,GAAOQ,YACxBU,OAAQ,GAEZyF,KAAM,CACFW,QAAS,OACT4B,WAAY,SACZ7B,eAAgB,UAEpBqC,MAAO,CACHjC,UAAW,IACXjG,aAAc,GACd4E,MAAO,QAEX8B,MAAO,CACHC,YAAanI,GAAOO,YAExByY,OAAQ,CACJvR,UAAW,IACXjG,aAAc,IAGlBwa,SAAU,CACNxa,aAAc,GACd4E,MAAOpG,GAAOS,QAElB6c,SAAU,CACN9b,aAAc,QAIP+b,GA3EK,SAAC,GAA0C,IAAzCC,EAAwC,EAAxCA,UAAWlb,EAA6B,EAA7BA,iBAAkBmb,EAAW,EAAXA,MACzCH,E1DENI,M0DFuBpb,G1DEd8a,KAAK,GAAGje,KAAI,SAACwe,EAAG5kB,GAAJ,OAAUA,EAAI,K0DD7B+I,EAAUkH,KAYhB,OACI,uBAAKvC,UAAW3E,EAAQkH,UAAxB,UACI,eAACxC,EAAA,EAAD,CAAYjC,QAAQ,KAAKmC,UAAU,KAAKD,UAAW3E,EAAQ4H,MAA3D,SAAmElU,GAAOgoB,KAC1E,eAAChX,EAAA,EAAD,CAAYjC,QAAQ,KAAKmC,UAAU,KAAKD,UAAW3E,EAAQka,SAA3D,SACI,eAAC,IAAD,CAAMpV,GAAE,WAAM6W,EAAN,KAAR,SAAyBA,MAE7B,wBACA,eAACjX,EAAA,EAAD,CAAYjC,QAAQ,KAAKmC,UAAU,KAAKD,UAAW3E,EAAQwb,SAA3D,sBACA,eAAC7U,GAAA,EAAD,CAAMO,WAAS,EACTnB,QAAS,EACToB,eAAe,SACfC,WAAW,SAHjB,SAjBGoU,EAASne,KAAI,SAAApK,GAAO,OACvB,eAAC0T,GAAA,EAAD,CAAMxO,MAAI,EAAC6O,GAAI,EAAGrC,UAAW3E,EAAQ7H,KAArC,SACI,eAAC,IAAD,CAAMwM,UAAW3E,EAAQ6E,KAAMC,GAAE,WAAM6W,EAAN,YAAeD,EAAf,YAA4BzoB,EAA5B,KAAjC,SACKA,KAFuCA,YCT/C6oB,GAAkB,WAE3B,IACIC,EADWC,cACMnb,SAASxL,MAAM,KACpC,OAAqB,IAAjB0mB,EAAM7iB,QAA6B,WAAb6iB,EAAM,GACrBrnB,OAAOC,KAAKpC,GAAqB8K,KAAI,SAAArK,GAAI,OAC5C,eAAC,IAAD,CAAOkV,KAAI,kBAAalV,EAAb,KAAX,SACI,eAAC,GAAD,CAAa0oB,UAAW1oB,EACXwN,iBAAkBjO,EAAoBmB,GAAOV,IAC7C2oB,MAAM,YAHevoB,SAOvC,MCkDL2L,GAAYC,YAAW,CACzBkI,UAAW,CACP1B,QAAS,OACTlG,MAAO,OACP4G,OAAQ,OACRX,eAAgB,SAChBI,UAAW,IAGfsW,SAAU,CACN3R,cAAe,IAEnB1C,MAAO,CACHlI,aAAc,GACd4E,MAAO,QAEXuD,cAAe,CACXrC,QAAS,OACT9F,aAAc,GACd4E,MAAO,OACPiB,eAAgB,SAEpBV,KAAM,CACFW,QAAS,OACTD,eAAgB,SAEpBa,MAAO,CACH9G,MAAO,OACPI,aAAc,GACd2G,YAAanI,GAAOO,YAExByO,GAAI,CACA3E,UAAW,MACXgF,WAAY,aACZ9H,SAAU,GACVnB,MAAOpG,GAAOI,MAElBqb,KAAM,CACF1M,SAAU,KAGd8M,MAAO,CACH9M,SAAU,KAEdiK,OAAQ,CACJvR,UAAW,MAKJuW,GA7GM,SAAC,GAAY,IAAXlpB,EAAU,EAAVA,KACbwJ,EAAQoD,qBAAWxD,IACzB,EAAsByD,mBAAS,IAA/B,mBAAO7F,EAAP,KAAYmiB,EAAZ,KACMnc,EAAUjB,KAEVqd,EAAkB,WACpB,OAAOpiB,EAAIqD,KAAI,SAAAgL,GAAK,OAChB,gCACI,qBAAI1D,UAAW3E,EAAQ2Z,KAAvB,SACI,eAAC,IAAD,CAAM7U,GAAE,oBAAe9R,EAAf,YAAuBqV,EAAM,GAA7B,KAAR,SACI,eAAC3D,EAAA,EAAD,CAAYC,UAAW3E,EAAQkN,GAA/B,SAAoC7E,EAAM,SAIlD,qBAAI1D,UAAW3E,EAAQ+Z,MAAvB,SACI,eAAC,IAAD,CAAMjV,GAAE,oBAAe9R,EAAf,YAAuBqV,EAAM,GAA7B,KAAR,SACI,eAAC3D,EAAA,EAAD,CAAYC,UAAW3E,EAAQkN,GAA/B,SAAoC7E,EAAM,WAT7CA,OAuBjB,OARAtH,qBAAU,WAEN6E,GAAU,GAAD,OAAI3T,GAAJ,OAAsBe,EAAtB,MACJgO,MAAK,SAACvJ,GAAD,OAAU0kB,EAAQ1kB,MACvBwJ,OAAM,SAACzD,GAAD,OAAOhB,EAAMrC,WAAWqD,EAAE/H,cAEtC,CAACzC,EAAMwJ,IACVmE,OAAO0b,SAAS,EAAG,GAGf,sBAAK1X,UAAW3E,EAAQkH,UAAxB,SACI,mCACI,mCACA,8BACI,8BACI,eAACxC,EAAA,EAAD,CAAYC,UAAW3E,EAAQ6H,cAAepF,QAAQ,KAAKmC,UAAU,KAArE,SAA2ElR,GAAOV,SAG1F,8BACI,qBAAI2R,UAAW3E,EAAQic,SAAvB,SACI,eAAC,IAAD,CAAMtX,UAAW3E,EAAQ6E,KAAMC,GAAG,aAAlC,8BAGR,8BACI,qBAAIwX,QAAQ,IAAI3X,UAAW3E,EAAQoG,MAAnC,SACI,+BAIR,iCACA,eAACgW,EAAD,YCzDHG,GAAmB,WACV3c,qBAAWxD,IACnBhD,aACN,IAAQpG,EAAS4lB,cAAT5lB,KACR,OAAQ,eAAC,GAAD,CAAcA,KAAMA,K,oBCNvBwpB,GAAQ,SAAC,GAAa,IAAZ7a,EAAW,EAAXA,OACbnF,EAAQoD,qBAAWxD,IACzB,GACS,WADDuF,EAEAnF,EAAMrC,WAAW,8BAKzB,OACI,gCCqGF4E,GAAYC,aAAW,SAACC,GAAD,cAAY,CACrCiI,UAAW,CACP1C,SAAS,SACT4H,IAAI,IACJ9M,MAAO,OACP4G,OAAQ,oBACRT,SAAU,IAEdQ,MAAI,GACAkE,SAAU,OADV,cAEClL,EAAMM,YAAYC,KAAK,MAAQ,CAC5B2K,SAAU,QAHd,2BAKY,QALZ,4BAMa,QANb,GAQJL,QAAM,GACFK,SAAU,OADR,cAEDlL,EAAMM,YAAYC,KAAK,MAAQ,CAC5B2K,SAAU,QAHZ,2BAKU,QALV,4BAMW,QANX,6BAOY,IAPZ,OAWKxK,gBA9HO,WAClB,IAAMnD,EAAQoD,qBAAWxD,IACnB4D,EAAUjB,KAChB,EAAiBc,mBAASrD,EAAM/B,aAAzB/E,EAAP,oBACA,EAAoCmK,oBAAS,GAA7C,mBAAO4c,EAAP,KAAmBC,EAAnB,KACA,EAAoC7c,mBAASrD,EAAM/B,aAAnD,mBAAOkiB,EAAP,KAAmBC,EAAnB,KACA,EAAwB/c,mBAAS,GAAjC,mBAAOgd,EAAP,KAAaC,EAAb,KAmEA,OAhCA/b,qBAAU,WAEN,GAAe,KAAXrL,EAAe,MAAO,CAAC,KAAQ,GAAI,KAAQ,GAE/C8G,EAAMnD,YAAW,GACjBuM,GAAUxT,EAAgB,UAAMsD,EAAN,YAAgBmnB,EAAhB,MACrB7b,MAAK,SAACvJ,GAMHuB,QAAQC,IAAIxB,EAAI,MACZA,EAAI,KAASyB,OhEOK,KgENlBF,QAAQC,IAAI,4BACZuD,EAAM3B,gBAAe,IAEzB2B,EAAM9B,oBAAoBjD,EAAI,MAC9BqlB,GAAQ,kBAAM5oB,SAASuD,EAAI,SAE3BilB,EAAcjlB,EAAI,cAClBmlB,GAAc,kBAAMnlB,EAAI,eACxB+E,EAAMnD,YAAW,MAEpB4H,OAAM,SAAAzD,GACHhB,EAAMrC,WAAWqD,EAAE/H,SACnB+G,EAAMnD,YAAW,QAI1B,CAAC3D,EAAQmnB,EAAMrgB,IAEQ,KAAtBA,EAAM/B,YAA2B,eAAC,GAAD,CAAQkH,OAAO,YACpD3I,QAAQC,IAAIuD,EAAM5B,sBAAsB1B,QAEpC,uBAAKyL,UAAW3E,EAAQkH,UAAxB,UACI,eAACxC,EAAA,EAAD,CAAYC,UAAW3E,EAAQ8J,OAAQrH,QAAQ,KAA/C,SACKga,EAAU,wBAAoBE,EAApB,qCAA6DngB,EAAM/B,YAAnE,OAEf,eAAC,KAAD,CACIhD,KAAM+E,EAAM5B,sBACZmiB,WA/CK,WACTvgB,EAAMzB,kBACN+hB,GAAQ,kBAAMD,EAAO,MA8CjBnJ,YA3EQ,SAACvb,EAAMV,GACvB,GAAqB,WAAjBA,EAAI,KAAuB,CAC3B,MAAwCmF,GAAgBnF,EAAI,KAArDwF,EAAP,EAAOA,QAASC,EAAhB,EAAgBA,WAAYC,EAA5B,EAA4BA,SAE5B,OADAX,EAAMpD,aAEF,uBAAKuL,UAAW3E,EAAQiG,KAAxB,UACI,eAAC,IAAD,CAAMnB,GAAE,kBAAa7H,EAAb,YAAwBC,EAAxB,YAAsCC,EAAtC,KAAR,SACI,eAACuH,EAAA,EAAD,CAAYjC,QAAQ,KAAKmC,UAAU,KAAnC,SAAyCnN,EAAI,QAEhDulB,KAAgBvlB,EAAI,MACrB,2BAGZ,MAA6BA,EAAI,IAAQxC,OAAOI,MAAM,KAAtD,mBAAO4H,EAAP,KAAgBoZ,EAAhB,KACMtjB,EAAMQ,GAAK0J,GAGjB,OAFAT,EAAMpD,aAGF,uBAAKuL,UAAW3E,EAAQiG,KAAxB,UACI,eAAC,IAAD,CAAMnB,GAAE,WAAMrN,EAAI,KAAV,YAAsB1E,EAAtB,YAA6BsjB,EAA7B,KAAR,SACI,eAAC3R,EAAA,EAAD,CAAYjC,QAAQ,KAAKmC,UAAU,KAAnC,SAAyC3H,MAE5C+f,KAAgB,MAAD,OAAOvlB,EAAI,KAAX,SAChB,4BAqDAkc,WAAY,CACFC,OAAQ,WAEJ,OADA5a,QAAQC,IAAI,UAER,uBAAK6I,MAAO,CAACzC,QAAS,OAAQoO,UAAW,UAAzC,wCAC+BjR,EAAM/B,YADrC,kBClGrBwiB,GAAc,WACvB,IAAMjd,EAAUjB,KACV6W,EAAUC,aAAcpjB,GAC9B,OACI,sBAAKkS,UAAW3E,EAAQkH,UAAxB,SACI,sBAAKvC,UAAW3E,EAAQmP,OAAxB,SACI,oBAAGxK,UAAYiR,EAAU5V,EAAQkd,UAAYld,EAAQmd,UAArD,4CAOVpe,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCiI,UAAW,CACP1B,QAAS,OACTlG,MAAO,OACP4G,OAAQ,OACRX,eAAgB,UAEpB4J,OAAQ,CACJ3J,QAAS,OACT4B,WAAY,UAEhB+V,UAAW,CACP1X,SAAU,IAEdyX,UAAW,CACPzX,SAAU,Q,UCJZ1G,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACF,YAAa,CACTyG,UAAW1G,EAAM8G,QAAQ,MAGjCqX,MAAO,CACH/d,QAASJ,EAAM8G,QAAQ,SAKhBpG,gBAlCC,SAAC,GAAmB,IAAD,IAAjB0d,YAAiB,MAAV,IAAU,EACzB7gB,EAAQoD,qBAAWxD,IACnB4D,EAAUjB,KAEVue,EAAc,WAChB9gB,EAAMrC,WAAW,KAGrB,OACI,sBAAKwK,UAAW3E,EAAQd,KAAxB,SACI,eAACqe,GAAA,EAAD,CACInc,KAA6B,KAAvB5E,EAAMpC,aACZojB,iBAAkBH,EAClBrZ,QAASsZ,EACT5Z,aAAc,CAACC,SAAU,MAAOC,WAAY,SAC5CnO,QAAS,uBAAMoO,GAAG,aAAT,SAAuBrH,EAAMpC,eACtCqjB,OAAQ,eAAC,GAAD,CAAavZ,QAASoZ,EAAahZ,MAAM,mBC0B3DvF,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCiI,UAAW,CACP1B,QAAS,OACTlG,MAAO,MACP4G,OAAQ,OACR9G,OAAQ,QAEZ+P,OAAQ,CACJ3J,QAAS,OACT+Q,cAAe,SACfnP,WAAY,SACZ7B,eAAgB,SAChBE,SAAU,GACV6E,cAAc,KAElB1C,MAAO,CACHtD,MAAOpG,GAAOS,OACdS,OAAQ,GAEZgH,MAAO,CACH9B,MAAOpG,GAAOO,WACda,MAAO,QAEXwI,KAAM,CACF2F,UAAW,WAEf4N,QAAS,CACLvV,WAAW,KAEfwV,KAAM,CACFxV,WAAY,SAKL4X,GA7EQ,WACnB,IAAM1d,EAAUjB,KACVvC,EAAQoD,qBAAWxD,IACnBwZ,EAAUC,aAAcpjB,GAG9B,OAFA+J,EAAMpD,aAGF,sBAAKuL,UAAYiR,EAAU5V,EAAQqb,QAAUrb,EAAQsb,KAArD,SACI,sBAAK3W,UAAW3E,EAAQkH,UAAxB,SACI,uBAAKvC,UAAW3E,EAAQmP,OAAxB,UACI,iCACI,qBAAIxK,UAAW3E,EAAQ4H,MAAvB,uCACA,qBAAIjD,UAAW3E,EAAQoG,WAE3B,oBAAGzB,UAAW3E,EAAQ8H,KAAtB,6/BAqBA,mG,qBCpCd6V,GAAc,SAAC,GAA8C,IAA7CrZ,EAA4C,EAA5CA,MAAO8E,EAAqC,EAArCA,KACnB5M,EAAQoD,qBAAWxD,IACnB4D,EAAUjB,KAChB,OAAIvC,EAAMlD,aAEF,sBAAKqL,UAAW3E,EAAQkH,UAAxB,SACI,eAAC,KAAD,CAAckC,KAAMA,EAAM9E,MAAOA,EAAO4B,OAAQ,GAAI5G,MAAO,OAIhE,MAGXqe,GAAYC,aAAe,CACvBtZ,MAAOpG,GAAO1I,QACd4T,KAAM,QAGV,IAAMrK,GAAYC,aAAW,iBAAO,CAChCkI,UAAW,CACP1B,QAAS,OACT+Q,cAAe,MACfnP,WAAY,SACZ7B,eAAgB,SAChBjG,MAAO,OACP4G,OAAQ,OACR9G,OAAQ,YAKDO,eAASge,ICkDTE,OA9Df,WACI,OACI,eAAC,GAAD,UACI,eAAC,GAAD,UACI,eAACC,GAAA,EAAD,CAAe7e,MAAOA,GAAtB,SACI,gBAAC,IAAD,WACI,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IACA,gBAAC,IAAD,WACI,eAAC,IAAD,CAAO8e,OAAK,EAAC7V,KAAK,IAAlB,SACI,eAAC,GAAD,MAGJ,eAAC,IAAD,CAAO6V,OAAK,EAAC7V,KAAK,UAAlB,SACI,eAAC,GAAD,MAGJ,eAAC,IAAD,CAAO6V,OAAK,EAAC7V,KAAK,oBAAlB,SACI,eAAC,GAAD,MAEJ,eAAC,IAAD,CAAO6V,OAAK,EAAC7V,KAAK,kBAAkB8V,cAAc,EAAlD,SACI,eAAC,GAAD,MAGJ,eAAC,IAAD,CAAOD,OAAK,EAAC7V,KAAK,iCAAiC3L,SAAU,eAAC,GAAD,CAAU6M,KAAM,YAC7E,eAAC,IAAD,CAAO2U,OAAK,EAAC7V,KAAK,0BAA0B3L,SAAU,eAAC,GAAD,CAAU6M,KAAM,YACtE,eAAC,IAAD,CAAO2U,OAAK,EAAC7V,KAAK,iBAAiB3L,SAAU,eAAC,GAAD,MAC7C,eAAC,IAAD,CAAOwhB,OAAK,EAAC7V,KAAK,WAAlB,SAA6B,eAAC,GAAD,MAE7B,eAAC,IAAD,CAAO6V,OAAK,EAAC7V,KAAK,4BAA4B3L,SAAU,eAAC,GAAD,CAAU6M,KAAK,eACvE,eAAC,IAAD,CAAO2U,OAAK,EAAC7V,KAAK,mBAAmB3L,SAAU,eAAC,GAAD,MAC/C,eAAC,IAAD,CAAOwhB,OAAK,EAAC7V,KAAK,aAAlB,SAA+B,eAAC,GAAD,MAE/B,eAAC,IAAD,CAAO6V,OAAK,EAAC7V,KAAK,oBAAoB3L,SAAU,eAAC,GAAD,CAAU6M,KAAK,cAC/D,eAAC,IAAD,CAAO2U,OAAK,EAAC7V,KAAK,YAAlB,SAA8B,eAAC,GAAD,MAE9B,eAAC,IAAD,CAAO6V,OAAK,EAAC7V,KAAK,mBAAmB3L,SAAU,eAAC,GAAD,CAAU6M,KAAK,aAC9D,eAAC,IAAD,CAAO2U,OAAK,EAAC7V,KAAK,WAAlB,SAA6B,eAAC,GAAD,MAE7B,eAAC,IAAD,CAAO6V,OAAK,EAAC7V,KAAK,oBAAoB3L,SAAU,eAAC,GAAD,CAAU6M,KAAK,cAC/D,eAAC,IAAD,CAAO2U,OAAK,EAAC7V,KAAK,YAAlB,SAA8B,eAAC,GAAD,MAE9B,eAAC,IAAD,CAAO6V,OAAK,EAAC7V,KAAK,wBAAwB3L,SAAU,eAAC,GAAD,CAAU6M,KAAK,kBACnE,eAAC,IAAD,CAAO2U,OAAK,EAAC7V,KAAK,gBAAlB,SAAkC,eAAC,GAAD,MAElC,eAAC,IAAD,CAAO6V,OAAK,EAAC7V,KAAK,4BAA4B3L,SAAU,eAAC,GAAD,CAAU6M,KAAK,eACvE,eAAC,IAAD,CAAO2U,OAAK,EAAC7V,KAAK,eAAe3L,SAAU,eAAC,GAAD,CAAU6M,KAAK,eAC1D,eAAC,IAAD,CAAO2U,OAAK,EAAC7V,KAAK,aAAlB,SAA+B,eAAC,GAAD,MAG/B,eAAC,IAAD,CAAOA,KAAK,IAAZ,SACI,eAAC,GAAD,mBAY1BjJ,GAAQgf,aAAY,CAClBC,QAAS,CACLC,QAAS,CACLC,KAAM,WAEVC,UAAW,CACPD,KAAM,cCxFtBE,IAASC,OACL,eAAC,IAAMC,WAAP,UACI,eAAC,IAAD,UACI,eAAC,GAAD,QAGRC,SAASC,eAAe,W","file":"static/js/main.2d298ebd.chunk.js","sourcesContent":["interface versesTable {\n    readonly [index: string]: Array<number>\n}\n\ninterface chapterTable {\n    readonly  [index: string]: number\n}\n\ninterface numberString {\n    readonly [index: number]: string\n}\n\ninterface stringNumber {\n    readonly [index: string]: number\n}\n\nlet api: string\n\nif (process.env.NODE_ENV === 'development') {\n    api = 'http://localhost:8000/'\n} else {\n    api = 'https://kjlc.karaites.org/'\n    api = 'http://dev.karaites.org/'\n}\n\nexport const apiUrl = api\n// first level  see constants.py\nexport const TANAKH: string = '1'\nexport const HALAKHAH: string = '3'\nexport const LITURGY: string = '4'\nexport const POLEMIC: string = '5'\nexport const COMMENTS: string = '8'\nexport const POETRY: string = '9'\nexport const EXHORTATORY:string ='11'\n\n\nexport const TRANSFORM_TYPE: string = 'Bible'\n\nexport const organization: numberString = {1: 'Torah', 2: 'Prophets', 3: 'Writings'}\n\n//export const bookListUrl: string = apiUrl + 'api/books-list/'\n//export const bookTextUrl: string = apiUrl + 'api/get-book/'\nexport const bookChapterUrl: string = apiUrl + 'api/get-book-chapter/'\n//export const bookFromRef: string = apiUrl + 'api/get-book-from-ref/'\nexport const getCommentsUrl: string = apiUrl + 'api/get-comments/'\nexport const getFirstLevelUrl: string = apiUrl + 'api/get-first-level/'\nexport const karaitesBookUrl: string = apiUrl + 'api/get-karaites-book-chapter/'\nexport const karaitesBookDetailsUrl: string = apiUrl + 'api/get-karaites-book-details/'\nexport const karaitesBookByLevel: string = apiUrl + 'api/get-karaites-books-by-level/'\nexport const karaitesBookByLevelAndClassification: string = apiUrl + 'api/get-karaites-books-by-level-and-classification/'\nexport const karaitesBookToc: string = apiUrl + 'api/get-karaites-book-toc/'\nexport const referencesUrl: string = apiUrl + 'api/get-references/'\nexport const autocompleteUrl: string = apiUrl + 'api/autocomplete/'\nexport const searchResultsUrl: string = apiUrl + 'api/search/'\n\n// there will be more languages as project evolves\nexport const LANGUAGE: numberString = {0: 'en', 1: 'he', 2: 'en_he'}\nexport const LANGUAGE_KEY: stringNumber = {'en': 0, 'he': 1, 'en_he': 2}\nexport const LANGUAGE_SYMBOL: numberString = {0: 'A', 1: '\\u2135', 2: 'A\\u2135'}\n\nexport const ENGLISH: number = 0\nexport const HEBREW: number = 1\n\nexport const BIBLE_ENGLISH: number = 0\nexport const BIBLE_HEBREW: number = 1\nexport const BIBLE_EN_CM: number = 2\nexport const BIBLE_HE_CM: number = 3\nexport const BIBLE_VERSE: number = 4\nexport const BIBLE_CHAPTER: number = 5\nexport const BIBLE_RENDER_CHAPTER: number = 6\n\nexport const BIBLE_REFS: number = 7\n\nexport const BOOK_CHAPTERS: number = 0\nexport const BOOK_DATA: number = 1\n\n// this value is define in the views.py if changed there must be changed here too.\nexport const ITEMS_PER_PAGE: number = 15\n\nexport const LOADING_TEXT: string = 'Loading...'\n\nexport const chaptersByBibleBook: chapterTable = {\n    'Genesis': 50,\n    'Exodus': 40,\n    'Leviticus': 27,\n    'Numbers': 36,\n    'Deuteronomy': 34,\n    'Joshua': 24,\n    'Judges': 21,\n    'I Samuel': 31,\n    'I-Samuel': 31,\n    'II Samuel': 24,\n    'II-Samuel': 24,\n    'I Kings': 22,\n    'I-Kings': 22,\n    'II Kings': 25,\n    'II-Kings': 25,\n    'Isaiah': 66,\n    'Jeremiah': 52,\n    'Ezekiel': 48,\n    'Hosea': 14,\n    'Joel': 4,\n    'Amos': 9,\n    'Obadiah': 1,\n    'Jonah': 4,\n    'Micah': 7,\n    'Nahum': 3,\n    'Habakkuk': 3,\n    'Zephaniah': 3,\n    'Haggai': 2,\n    'Zechariah': 14,\n    'Malachi': 3,\n    'Psalms': 150,\n    'Proverbs': 31,\n    'Job': 42,\n    'Song of Songs': 8,\n    'Song-of-Songs': 8,\n    'Ruth': 4,\n    'Lamentations': 5,\n    'Ecclesiastes': 12,\n    'Esther': 10,\n    'Daniel': 12,\n    'Ezra': 10,\n    'Nehemiah': 13,\n    'I Chronicles': 29,\n    'I-Chronicles': 29,\n    'II Chronicles': 36,\n    'II-Chronicles': 36,\n}\n\n// verses by chapter\nexport const versesByBibleBook: versesTable = {\n    'Genesis': [31, 25, 24, 26, 32, 22, 24, 22, 29, 32, 32, 20, 18, 24, 21, 16, 27, 33, 38, 18, 34, 24, 20, 67, 34, 35, 46, 22, 35, 43, 54, 33, 20, 31, 29, 43, 36, 30, 23, 23, 57, 38, 34, 34, 28, 34, 31, 22, 33, 26],\n    'Exodus': [22, 25, 22, 31, 23, 30, 29, 28, 35, 29, 10, 51, 22, 31, 27, 36, 16, 27, 25, 23, 37, 30, 33, 18, 40, 37, 21, 43, 46, 38, 18, 35, 23, 35, 35, 38, 29, 31, 43, 38],\n    'Leviticus': [17, 16, 17, 35, 26, 23, 38, 36, 24, 20, 47, 8, 59, 57, 33, 34, 16, 30, 37, 27, 24, 33, 44, 23, 55, 46, 34],\n    'Numbers': [54, 34, 51, 49, 31, 27, 89, 26, 23, 36, 35, 16, 33, 45, 41, 35, 28, 32, 22, 29, 35, 41, 30, 25, 18, 65, 23, 31, 39, 17, 54, 42, 56, 29, 34, 13],\n    'Deuteronomy': [46, 37, 29, 49, 30, 25, 26, 20, 29, 22, 32, 31, 19, 29, 23, 22, 20, 22, 21, 20, 23, 29, 26, 22, 19, 19, 26, 69, 28, 20, 30, 52, 29, 12],\n    'Joshua': [18, 24, 17, 24, 15, 27, 26, 35, 27, 43, 23, 24, 33, 15, 63, 10, 18, 28, 51, 9, 45, 34, 16, 33],\n    'Judges': [36, 23, 31, 24, 31, 40, 25, 35, 57, 18, 40, 15, 25, 20, 20, 31, 13, 31, 30, 48, 25],\n    'I Samuel': [28, 36, 21, 22, 12, 21, 17, 22, 27, 27, 15, 25, 23, 52, 35, 23, 58, 30, 24, 42, 16, 23, 28, 23, 44, 25, 12, 25, 11, 31, 13],\n    'I-Samuel': [28, 36, 21, 22, 12, 21, 17, 22, 27, 27, 15, 25, 23, 52, 35, 23, 58, 30, 24, 42, 16, 23, 28, 23, 44, 25, 12, 25, 11, 31, 13],\n    'II Samuel': [27, 32, 39, 12, 25, 23, 29, 18, 13, 19, 27, 31, 39, 33, 37, 23, 29, 32, 44, 26, 22, 51, 39, 25],\n    'II-Samuel': [27, 32, 39, 12, 25, 23, 29, 18, 13, 19, 27, 31, 39, 33, 37, 23, 29, 32, 44, 26, 22, 51, 39, 25],\n    'I Kings': [53, 46, 28, 20, 32, 38, 51, 66, 28, 29, 43, 33, 34, 31, 34, 34, 24, 46, 21, 43, 29, 54],\n    'I-Kings': [53, 46, 28, 20, 32, 38, 51, 66, 28, 29, 43, 33, 34, 31, 34, 34, 24, 46, 21, 43, 29, 54],\n    'II Kings': [18, 25, 27, 44, 27, 33, 20, 29, 37, 36, 20, 22, 25, 29, 38, 20, 41, 37, 37, 21, 26, 20, 37, 20, 30],\n    'II-Kings': [18, 25, 27, 44, 27, 33, 20, 29, 37, 36, 20, 22, 25, 29, 38, 20, 41, 37, 37, 21, 26, 20, 37, 20, 30],\n    'Isaiah': [31, 22, 26, 6, 30, 13, 25, 23, 20, 34, 16, 6, 22, 32, 9, 14, 14, 7, 25, 6, 17, 25, 18, 23, 12, 21, 13, 29, 24, 33, 9, 20, 24, 17, 10, 22, 38, 22, 8, 31, 29, 25, 28, 28, 25, 13, 15, 22, 26, 11, 23, 15, 12, 17, 13, 12, 21, 14, 21, 22, 11, 12, 19, 11, 25, 24],\n    'Jeremiah': [19, 37, 25, 31, 31, 30, 34, 23, 25, 25, 23, 17, 27, 22, 21, 21, 27, 23, 15, 18, 14, 30, 40, 10, 38, 24, 22, 17, 32, 24, 40, 44, 26, 22, 19, 32, 21, 28, 18, 16, 18, 22, 13, 30, 5, 28, 7, 47, 39, 46, 64, 34],\n    'Ezekiel': [28, 10, 27, 17, 17, 14, 27, 18, 11, 22, 25, 28, 23, 23, 8, 63, 24, 32, 14, 44, 37, 31, 49, 27, 17, 21, 36, 26, 21, 26, 18, 32, 33, 31, 15, 38, 28, 23, 29, 49, 26, 20, 27, 31, 25, 24, 23, 35],\n    'Hosea': [53, 46, 28, 20, 32, 38, 51, 66, 28, 29, 43, 33, 34, 31, 34, 34, 24, 46, 21, 43, 29, 54],\n    'Joel': [20, 27, 5, 21],\n    'Amos': [15, 16, 15, 13, 27, 14, 17, 14, 15],\n    'Obadiah': [21],\n    'Jonah': [16, 11, 10, 11],\n    'Micah': [16, 13, 12, 14, 14, 16, 20],\n    'Nahum': [14, 14, 19],\n    'Habakkuk': [17, 20, 19],\n    'Zephaniah': [18, 15, 20],\n    'Haggai': [15, 23],\n    'Zechariah': [17, 17, 10, 14, 11, 15, 14, 23, 17, 12, 17, 14, 9, 21],\n    'Malachi': [14, 17, 24],\n    'Psalms': [6, 12, 9, 9, 13, 11, 18, 10, 21, 18, 7, 9, 6, 7, 5, 11, 15, 51, 15, 10, 14, 32, 6, 10, 22, 12, 14, 9, 11, 13, 25, 11, 22, 23, 28, 13, 40, 23, 14, 18, 14, 12, 5, 27, 18, 12, 10, 15, 21, 23, 21, 11, 7, 9, 24, 14, 12, 12, 18, 14, 9, 13, 12, 11, 14, 20, 8, 36, 37, 6, 24, 20, 28, 23, 11, 13, 21, 72, 13, 20, 17, 8, 19, 13, 14, 17, 7, 19, 53, 17, 16, 16, 5, 23, 11, 13, 12, 9, 9, 5, 8, 29, 22, 35, 45, 48, 43, 14, 31, 7, 10, 10, 9, 8, 18, 19, 2, 29, 176, 7, 8, 9, 4, 8, 5, 6, 5, 6, 8, 8, 3, 18, 3, 3, 21, 26, 9, 8, 24, 14, 10, 8, 12, 15, 21, 10, 20, 14, 9, 6],\n    'Proverbs': [33, 22, 35, 27, 23, 35, 27, 36, 18, 32, 31, 28, 25, 35, 33, 33, 28, 24, 29, 30, 31, 29, 35, 34, 28, 28, 27, 28, 27, 33, 31],\n    'Job': [22, 13, 26, 21, 27, 30, 21, 22, 35, 22, 20, 25, 28, 22, 35, 22, 16, 21, 29, 29, 34, 30, 17, 25, 6, 14, 23, 28, 25, 31, 40, 22, 33, 37, 16, 33, 24, 41, 30, 32, 26, 17],\n    'Song of Songs': [17, 17, 11, 16, 16, 12, 14, 14],\n    'Song-of-Songs': [17, 17, 11, 16, 16, 12, 14, 14],\n    'Ruth': [22, 23, 18, 22],\n    'Lamentations': [22, 22, 66, 22, 22],\n    'Ecclesiastes': [18, 26, 22, 17, 19, 12, 29, 17, 18, 20, 10, 14],\n    'Esther': [22, 23, 15, 17, 14, 14, 10, 17, 32, 3],\n    'Daniel': [21, 49, 33, 34, 30, 29, 28, 27, 27, 21, 45, 13],\n    'Ezra': [11, 70, 13, 24, 17, 22, 28, 36, 15, 44],\n    'Nehemiah': [11, 20, 38, 17, 19, 19, 72, 18, 37, 40, 36, 47, 31],\n    'I Chronicles': [54, 55, 24, 43, 41, 66, 40, 40, 44, 14, 47, 41, 14, 17, 29, 43, 27, 17, 19, 8, 30, 19, 32, 31, 31, 32, 34, 21, 30],\n    'I-Chronicles': [54, 55, 24, 43, 41, 66, 40, 40, 44, 14, 47, 41, 14, 17, 29, 43, 27, 17, 19, 8, 30, 19, 32, 31, 31, 32, 34, 21, 30],\n    'II Chronicles': [18, 17, 17, 22, 14, 42, 22, 18, 31, 19, 23, 16, 23, 14, 19, 14, 19, 34, 11, 37, 20, 12, 21, 27, 28, 23, 9, 27, 36, 27, 21, 33, 25, 33, 27, 23],\n    'II-Chronicles': [18, 17, 17, 22, 14, 42, 22, 18, 31, 19, 23, 16, 23, 14, 19, 14, 19, 34, 11, 37, 20, 12, 21, 27, 28, 23, 9, 27, 36, 27, 21, 33, 25, 33, 27, 23],\n}\n\n// this is experimental and probably removed in the near future.\nexport const q640: string = '(min-width:640px)'","import {versesByBibleBook} from '../constants/constants'\n\ninterface booksTable {\n    [index: string]: string\n}\n\nexport const capitalize = (string: string): string =>\n    // respect all others cases\n    string === \"\" ? \"\" : string[0].toUpperCase() + string.slice(1)\n\nexport const removeExtension = (string: string): string => string.replace(/\\.[^/.]+$/, \"\")\n\nexport const range = (l: number): Array<number> =>\n    Array(l).fill(1).map((_, i) => i + 1)\n\n// compare 2 arrays, arrays must not be nested\nexport const equals = (a: Array<any>, b: Array<any>): boolean =>\n    a.length === b.length && a.every((v, i) => v === b[i]);\n\nexport const makeBookUrl = (url: string, book: string, chapter: string, first: string, full: boolean): string =>\n    (full ? `${url}${book}/` : `${url}${book}/${chapter}/${first}/`)\n\nexport const makeRandomKey = (): string => `k-${Math.random() * 10000000000}`\n\nexport const slug = (str: string): string => str.replaceAll(' ', '-')\n\nexport const unslug = (str: string): string => str.replaceAll('-', ' ')\n\nexport const underLine = (str: string): string => str.replaceAll(' ', '_')\n\nexport const normalizeSluggedBookName = (book: string): string => {\n    // english book names\n    book = slug(book)\n    const pos = book.indexOf('-') + 1\n    if (pos >= 0) {\n        return book.substr(0, pos).toUpperCase() + capitalize(book.substr(pos, 1)) + book.substr(pos + 1).toLowerCase()\n    }\n    return capitalize(book)\n}\n\nexport const calculateItemNumber = (book: string, chapter: string, verse: string): number => {\n    return versesByBibleBook[normalizeSluggedBookName(book)].slice(0, parseInt(chapter) - 1).reduce((x, y) => x + y, 0) + parseInt(verse) - 1\n}\n\nexport const englishBookNames: booksTable = {\n    'Genesis': 'בראשית',\n    'Exodus': 'שמות',\n    'Leviticus': 'ויקרא',\n    'Numbers': 'במדבר',\n    'Deuteronomy': 'דברים',\n    'Amos': 'עמוס',\n    'Ezekiel': 'יחזקאל',\n    'Habakkuk': 'חבקוק',\n    'Haggai': 'חגי',\n    'Hosea': 'הושע',\n    'I Kings': 'מלכים א',\n    'I Samuel': 'שמואל א',\n    'II Kings': 'מלכים ב',\n    'II Samuel': 'שמואל ב',\n    'Isaiah': 'ישעיה',\n    'Jeremiah': 'ירמיה',\n    'Joel': 'יואל',\n    'Jonah': 'יונה',\n    'Joshua': 'יהושע',\n    'Judges': 'שופטים',\n    'Malachi': 'מלאכי',\n    'Micah': 'מיכה',\n    'Nahum': 'נחום',\n    'Obadiah': 'עובדיה',\n    'Zechariah': 'זכריה',\n    'Zephaniah': 'צפניה',\n    'Daniel': 'דניאל',\n    'Ecclesiastes': 'קהלת',\n    'Esther': 'אסתר',\n    'Ezra': 'עזרא',\n    'I Chronicles': 'דברי הימים א',\n    'II Chronicles': 'דברי הימים ב',\n    'Job': 'איוב',\n    'Lamentations': 'איכה',\n    'Nehemiah': 'נחמיה',\n    'Proverbs': 'משלי',\n    'Psalms': 'תהילים',\n    'Ruth': 'רות',\n    'Song of Songs': 'שיר השירים'\n}\n\nexport const hebrewBookNames: booksTable = {\n    'בראשית': 'Genesis',\n    'שמות': 'Exodus',\n    'ויקרא': 'Leviticus',\n    'במדבר': 'Numbers',\n    'דברים': 'Deuteronomy',\n    'עמוס': 'Amos',\n    'יחזקאל': 'Ezekiel',\n    'חבקוק': 'Habakkuk',\n    'חגי': 'Haggai',\n    'הושע': 'Hosea',\n    'מלכים א': 'I Kings',\n    'שמואל א': 'I Samuel',\n    'מלכים ב': 'II Kings',\n    'שמואל ב': 'II Samuel',\n    'ישעיה': 'Isaiah',\n    'ישעיהו': 'Isaiah', // typo ?\n    'ירמיה': 'Jeremiah',\n    'ירמיהו': 'Jeremiah', // typo ?\n    'יואל': 'Joel',\n    'יונה': 'Jonah',\n    'יהושע': 'Joshua',\n    'שופטים': 'Judges',\n    'מלאכי': 'Malachi',\n    'מיכה': 'Micah',\n    'נחום': 'Nahum',\n    'עובדיה': 'Obadiah',\n    'זכריה': 'Zechariah',\n    'צפניה': 'Zephaniah',\n    'דניאל': 'Daniel',\n    'קהלת': 'Ecclesiastes',\n    'אסתר': 'Esther',\n    'עזרא': 'Ezra',\n    'דברי הימים א': 'I Chronicles',\n    'דברי הימים ב': 'II Chronicles',\n    'איוב': 'Job',\n    'איכה': 'Lamentations',\n    'נחמיה': 'Nehemiah',\n    'משלי': 'Proverbs',\n    'תהלים': 'Psalms', // possible typo\n    'תהילים': 'Psalms',\n    'רות': 'Ruth',\n    'שיר השירים': 'Song of Songs'\n}\n\nexport const hebrewBooks = (): Array<string> => Object.keys(hebrewBookNames)\n\nexport const englishBooks = (): Array<string> => Object.keys(englishBookNames)\n\nexport const matchHebrewBookName = (bibleRef: string): Array<string> => {\n    for (let name of hebrewBooks()) {\n        if (bibleRef.startsWith(name)) {\n            return [bibleRef.replace(name, ''), name]\n        }\n    }\n    return []\n}\n\nexport const englishBookNameToHebrew = (englishBookName: string): string =>\n    englishBookNames[capitalize(englishBookName.trim().toLowerCase())]\n\nexport const hebrewBookNameToEnglish = (hebrewBookName: string): string =>\n    hebrewBookNames[hebrewBookName]\n\nexport const isABibleBook = (book: string): boolean =>\n    // expects an English book name\n    capitalize(book.trim().split(' ')[0]) in englishBookNames\n\n// return an english title even if bookName is in Hebrew\nexport const toEnglish = (bookName: string): string => {\n    const title = hebrewBookNameToEnglish(bookName)\n    if (title === undefined) {\n        return bookName\n    }\n    return title\n}\n\n","import {makeAutoObservable, runInAction, computed, observable} from \"mobx\"\nimport {isABibleBook} from \"../utils/utils\";\nimport {autocompleteUrl} from \"../constants/constants\";\n\n\nclass AppState {\n    // mains panes bible book , comment, karaites books etc\n    panes: Array<any> = []\n    // loading state\n    loading = false\n    // messages\n    message: string = ''\n    // search\n    search: string = ''\n    searchResultData: Array<string> = []\n    moreResults: boolean = true\n\n    // autocomplete\n    options: Array<any> = []\n\n    constructor() {\n        makeAutoObservable(this, {\n            panes: observable,\n            loading: observable,\n            message: observable,\n            search: observable,\n            searchResultData: observable,\n            moreResults: observable,\n            options: observable,\n            isLastPane: computed,\n        })\n\n    }\n\n    setIsRightPaneOpen = (state: boolean, paneNumber: number): void => {\n        this.panes[paneNumber].isRightPaneOpen = state\n    }\n\n    getIsRightPaneOpen = (paneNumber: number): boolean => {\n        return this.panes[paneNumber].isRightPaneOpen\n    }\n\n    // comment Tab\n    setCommentTab = (tab: string, paneNumber: number): void => {\n        this.panes[paneNumber].commentTab = tab\n    }\n    getCommentTab = (paneNumber: number): string => this.panes[paneNumber].commentTab\n\n    setComments = (comments: Array<string>, paneNumber: number): void => {\n        this.panes[paneNumber].comments = comments\n    }\n\n    getComments = (paneNumber: number): Array<any> => this.panes[paneNumber].comments\n\n    setCommentsChapter = (chapter: number, paneNumber: number): void => {\n        this.panes[paneNumber].commentsChapter = chapter\n    }\n    getCommentsChapter = (paneNumber: number): void => this.panes[paneNumber].commentsChapter\n\n    setCommentsVerse = (verse: number, paneNumber: number): void => {\n        this.panes[paneNumber].commentsVerse = verse\n    }\n    getCommentsVerse = (paneNumber: number): void => this.panes[paneNumber].commentsVerse\n\n    getBook = (i: number): string => this.panes[i].book\n\n    setChapter = (chapter: string, i: number): void => {\n        this.panes[i].chapter = parseInt(chapter)\n    }\n\n    setVerse = (verse: number, i: number): void => {\n        runInAction(() => {\n            this.panes[i].verse = verse\n        })\n    }\n    getVerse = (i: number): number => this.panes[i].verse\n\n    getVerses = (i: number): Array<string> => this.panes[i].verses\n\n    setVerseData = (data: Array<any>, i: number): void => {\n        runInAction(() => {\n            this.panes[i].verseData = data\n        })\n    }\n\n    getVerseData = (i: number): Array<any> => this.panes[i].verseData\n\n    setBookData = (data: Array<any>, i: number): void => {\n        this.panes[i].bookData = [...this.panes[i].bookData, ...data]\n    }\n\n    getBookData = (i: number): Array<any> => this.panes[i].bookData\n\n    setDistance = (distance: number, i: number): void => {\n        this.panes[i].distance = distance\n    }\n    getDistance = (i: number): number => this.panes[i].distance\n\n    setCurrentItem = (item: number, i: number): number => {\n        runInAction(() => {\n            this.panes[i].currentItem = item\n        })\n        return item\n    }\n\n    getCurrentItem = (i: number): number => this.panes[i].currentItem\n\n    // right pane\n    // comments\n    setRightPaneState = (state: boolean, i: number): void => {\n        this.panes[i].rightPaneState = state\n    }\n    getRightPaneState = (i: number): Array<number> => this.panes[i].rightPaneState || [1]\n\n    // panes\n    setPanes = (pane: number): void => {\n        runInAction(() => {\n            this.panes = [...this.panes, pane]\n        })\n    }\n\n    getPanes = (): Array<any> => this.panes\n\n    get isLastPane() {\n        return this.panes.length === 0\n    }\n\n    isPaneOpen = (book: string, chapter: number, verse: number): boolean =>\n        this.getPanes().some((pane) => pane.book === book && pane.chapter === chapter - 1 && pane.verse === verse)\n\n    isBookOpen = (book: string): boolean =>\n        this.getPanes().some((pane) => pane.book === book)\n\n    closePane = (i: number): void => {\n        console.log('Panes length before', this.panes.length)\n        runInAction(() => {\n            this.panes.splice(i, 1)\n        })\n        console.log('Panes length after', this.panes.length)\n    }\n\n    resetPanes = (): void => {\n        this.panes = []\n    }\n    // loading\n\n    setLoading = (loading: boolean): void => {\n        this.loading = loading\n    }\n    getLoading = (): boolean => this.loading\n\n    // karaites books\n    setParagraphs = (paragraphs: Array<any>, i: number): void => {\n        console.log('setParagraphs', paragraphs)\n        this.panes[i].paragraphs = [...this.panes[i].paragraphs, ...paragraphs]\n    }\n\n    getParagraphs = (i: number): Array<any> => this.panes[i].paragraphs\n\n    getKaraitesChapter = (i: number): number =>\n        (this.panes[i].paragraphs.length === 0 ? this.panes[i].chapter : this.panes[i].paragraphs.length)\n\n    setBookDetails = (details: object, i: number): void => {\n        console.log('setBookDetails', details)\n        runInAction(() => {\n            this.panes[i].book_details = details\n        })\n    }\n    getBookDetails = (i: number): object => {\n        console.log('getBookDetails', this.panes[i].book_details)\n        return this.panes[i].book_details\n    }\n\n    setBookTOC = (toc: string, i: number): void => {\n        this.panes[i].TOC = toc\n    }\n    getBookTOC = (i: number): Array<any> => this.panes[i].TOC\n\n\n    // messages\n    setMessage = (message: string): void => {\n        this.message = message\n    }\n    getMessage = (): string => this.message\n\n    // header chapters\n    setHeaderChapter = (chapter: number, i: number): void => {\n        runInAction(() => {\n            this.panes[i].headerChapter = chapter\n        })\n    }\n    // getHeaderChapter = (i: number): string => this.panes[i].headerChapter\n\n    // search arg\n    setSearch = (searchArg: string): void => {\n        this.search = searchArg\n        this.searchResultData = []\n        this.moreResults = true\n    }\n\n    getSearch = (): string => this.search\n\n    // search result\n    setSearchResultData = (result: Array<string>): Array<string> =>\n        this.searchResultData = [...this.searchResultData, ...result]\n\n    getSearchResultData = (): Array<string> => this.searchResultData\n\n    // search page\n    // autocomplete communicates with searchResult\n    setMoreResults = (more: boolean): void => {\n        this.moreResults = more\n    }\n    getMoreResults = (): boolean => this.moreResults\n\n\n    // autocomplete\n    setOptions = (options: Array<string>): void => {\n        this.options = options\n    }\n\n    getOptions = (): Array<string> => this.options\n\n    getAutoComplete = async (search: string) => {\n        if (search.length < 2) return []\n        if (isABibleBook(search)) return []\n        const response = await fetch(`${autocompleteUrl}${search}/`)\n        this.setOptions(await response.json())\n    }\n\n\n    // language\n    setLanguage = (language: string, i: number): void => {\n        this.panes[i].languages = language\n    }\n    getLanguage = (i: number): string => this.panes[i].languages[0]\n\n    nextLanguage = (i: number): Array<string> => this.panes[i].languages.push(this.panes[i].languages.shift())\n\n}\n\nconst appStore = () => {\n    return new AppState()\n}\n\n\nexport default appStore","import React, {createContext} from 'react';\nimport {useLocalObservable} from 'mobx-react-lite';\nimport appStore from \"./appState\";\n\nexport const storeContext = createContext()\n\nconst StoreProvider=({children}) => {\n    const store = useLocalObservable(appStore);\n\n    return (\n        <storeContext.Provider value={store}>\n            {children}\n        </storeContext.Provider>\n    );\n};\n\nexport default StoreProvider;","import {hebrewBookNameToEnglish} from \"./utils\"\nimport gematriya from 'gematriya'\nimport {slug, capitalize, matchHebrewBookName} from \"./utils\"\n\nexport const parseHebrewRef = (biblicalRef) => {\n\n    let chapterVerseBook = matchHebrewBookName(biblicalRef)\n    if (chapterVerseBook.length < 2) {\n        return {\n            refBook: null,\n            refChapter: null,\n            refVerse: null,\n            refHighlight: null\n        }\n    }\n\n    let refBook = chapterVerseBook[1]\n    let splitOn = (chapterVerseBook.indexOf(':') >= 0 ? ' ' : ':')\n    let [refChapter, refVerse] = chapterVerseBook[0].split(splitOn)\n\n    if (refVerse.indexOf('-') > 0) {\n        refVerse = refVerse.split('-')\n    } else {\n        refVerse = refVerse.split(',')\n    }\n\n    return {\n        refBook: slug(hebrewBookNameToEnglish(refBook)),\n        refChapter: gematriya(refChapter.trim()),\n        refVerse: gematriya(refVerse[0].trim()),\n        refHighlight: refVerse.map(hebrewNumber => gematriya(hebrewNumber))\n    }\n\n}\n\nexport const parseEnglishRef = (biblicalRef) => {\n    biblicalRef = capitalize(biblicalRef)\n    let re = /[0-9]+/g\n    let chapterVerse = biblicalRef.match(re)\n\n    re = /[a-z,A-Z,' ']+/g\n    if (chapterVerse === null) {\n        // missing chapter and verse\n        return {\n            refBook: slug(biblicalRef.match(re)[0].trim()),\n            refChapter: null,\n            refVerse: null,\n            refHighlight: null\n        }\n    }\n\n    if (chapterVerse.length === 1) {\n        // missing verse assume 1\n        return {\n            refBook: slug(biblicalRef.match(re)[0].trim()),\n            refChapter: parseInt(chapterVerse[0]),\n            refVerse: 1,\n            refHighlight: null\n        }\n    }\n    // full reference\n    return {\n        refBook: slug(biblicalRef.match(re)[0].trim()),\n        refChapter: parseInt(chapterVerse[0]),\n        refVerse: parseInt(chapterVerse[1]),\n        refHighlight: chapterVerse.slice(1).map(arabic => parseInt(arabic)),\n    }\n}\n\n\nexport const parseBiblicalReference = (e) => {\n    let language = e.target.childNodes[0].parentElement.lang\n    let biblicalRef = e.target.childNodes[0].data.replace('(', '').replace(')', '').replace('cf. ', '').replace(':(', '')\n    biblicalRef = biblicalRef.replace(', ', ':', 1).replace(',', ':', 1).replace('.', '').trim()\n\n    if (language.toLowerCase() === 'he') {\n        return parseHebrewRef(biblicalRef)\n    }\n\n    return parseEnglishRef(biblicalRef)\n\n}\n\n\n","\nconst Colors = {\n    loading: '#c23f3f',\n    bibleSelectedVerse: '#11c4f114',\n    verseOnMouseOver: '#f5f2f2',\n    underline: '#c6c6c6',\n    gray: 'gray',\n    headerBackgroundColor: '#eaeaea',\n    rightPaneBackGround: '#fbfbfa',\n    rulerColor: '#36363614',\n    chapterMenu: '#f7f7f2',\n    tanakh: '#b4b4a9',\n    leftPaneHeader: '#666',\n    black:'black',\n    white:'white'\n\n}\n\nexport default Colors;","import React, {useState, useEffect, useContext} from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\nimport {autocompleteUrl} from '../../constants/constants'\nimport {storeContext} from '../../stores/context'\nimport {useHistory} from 'react-router-dom'\nimport {observer} from 'mobx-react-lite'\nimport MenuBookIcon from '@material-ui/icons/MenuBook'\nimport ImportContactsIcon from '@material-ui/icons/ImportContacts'\nimport {parseEnglishRef} from '../../utils/parseBiblicalReference'\nimport {validateBiblicalReference} from \"../../utils/validateBiblicalReference\";\nimport {isABibleBook} from \"../../utils/utils\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport Colors from \"../../constants/colors\";\n\n\nconst AutoComplete = () => {\n    // The material-ui Autocomplete component has serious flaws\n    // the documented  is not accurate or even helpful\n    const store = useContext(storeContext)\n    const [isOpen, setIsOpen] = useState(true)\n    const [search, setSearch] = useState('')\n    const [options, setOptions] = useState([])\n    const classes = useStyles()\n\n    let history = useHistory()\n\n    const showResults = () => {\n        if (search.length === 0) return\n\n        if (isABibleBook(search)) {\n            const {refBook, refChapter, refVerse} = parseEnglishRef(search)\n\n            // show chapters menu\n            if (refChapter === null && refVerse === null && refBook !== null) {\n                store.resetPanes()\n                history.push(`/Tanakh/${refBook}/`)\n                return\n            }\n            // invalid  Biblical ref\n            const validMessage = validateBiblicalReference(refBook, refChapter, refVerse)\n            if (validMessage !== '') {\n                store.setMessage(validMessage)\n                return\n            }\n            // open book\n            store.resetPanes()\n            history.push(`/Tanakh/${refBook}/${refChapter}/${refVerse}/`)\n            return\n        }\n\n        store.setSearch(search)\n        if (window.location.pathname === '/search-result/') {\n            // hack or page wont reload !!!\n            history.push('/empty')\n            history.goBack()\n        } else {\n            history.push('/search-result/')\n        }\n    }\n\n\n    const onInputChange = (e, newValue) => {\n        setSearch(() => newValue)\n        if (newValue === '') setOptions([])\n    }\n\n    const onKeyUp = (event) => {\n        if (event.code === \"Enter\") {\n            setIsOpen(() => false)\n            showResults()\n        } else {\n            setIsOpen(true)\n        }\n    }\n\n    const onChange = (e, value, reason) => {\n        if (reason === 'select-option') {\n            setSearch(() => options[value].w)\n        }\n    }\n\n    useEffect(() => {\n        const getAutoComplete = async () => {\n\n            if (search.length < 2) return []\n            if (isABibleBook(search)) return []\n\n            const response = await fetch(`${autocompleteUrl}${search}/`)\n            return await response.json()\n        }\n\n        getAutoComplete()\n            .then((data) => {\n                setOptions(data)\n            })\n            .catch(e => store.setMessage(e.message))\n\n    }, [search, store]);\n\n    return (\n\n        <Autocomplete\n            freeSolo\n            value={search}\n            open={isOpen}\n            classes={{\n                root: classes.root,\n                inputRoot: classes.inputRoot,\n                fullWidth: classes.fullWidth,\n            }}\n            // works around i, will be used has index to access other properties\n            // of options like in renderOption and onChange\n            options={options.map((option, i) => `${i}`)}\n            onKeyUp={onKeyUp}\n            onChange={onChange}\n            getOptionLabel={(option) => option}\n            style={{width: 350, marginRight: 40}}\n            inputValue={search}\n            onInputChange={onInputChange}\n            renderOption={(i) =>\n                <>\n                    {(options[i].c === 'V' ? <ImportContactsIcon/> : <MenuBookIcon/>)}\n                    <span>{' '}{options[i].w}</span>\n                </>\n            }\n            renderInput={(params) => (\n                <TextField\n                    {...params}\n                    label=\"Search\"\n                    variant=\"standard\"\n                />\n            )}\n        />\n    );\n}\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        backgroundColor: Colors['white'],\n        margin: 0,\n        padding: 0,\n        width: '300px !important',\n        [theme.breakpoints.down('xs')]: {\n            width: '100px !important',\n        },\n    },\n    inputRoot: {\n        marginBottom: 15,\n    },\n\n}))\n\nexport default observer(AutoComplete)","import {versesByBibleBook} from '../constants/constants'\nimport {capitalize} from \"./utils\";\n\nexport const validateBiblicalReference = (book:string, chapter:string, verse:string):string => {\n    try {\n        const theBook = capitalize(book)\n        const chapterNumber = parseInt(chapter) - 1\n        const verseNumber = parseInt(verse)\n        const numberOfChapters = versesByBibleBook[theBook].length;\n        const numberOfVerses = versesByBibleBook[theBook][chapterNumber]\n\n        if (chapterNumber > numberOfChapters) {\n            return `The ${theBook} book has ${numberOfChapters} chapters.`\n        }\n        if (verseNumber > numberOfVerses) {\n            return `The ${theBook} book chapter ${chapter} has ${numberOfVerses} verses.`\n        }\n        return ''\n    } catch (e){\n        return 'Invalid Bible reference. Ex: Genesis 10:1'\n    }\n}","import React, {useState} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport PermContactCalendarSharpIcon from '@material-ui/icons/PermContactCalendarSharp';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport LanguageIcon from '@material-ui/icons/Language';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport {Hidden, Typography} from '@material-ui/core';\nimport {Link} from 'react-router-dom';\nimport AutoComplete from '../autcomplete/autocomplete'\n\n\nexport default function PrimarySearchAppBar() {\n    const [anchorEl, setAnchorEl] = useState(null);\n    const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = useState(null);\n    const classes = useStyles();\n    const isMenuOpen = Boolean(anchorEl);\n    const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\n    const handleLanguageMenuOpen = (event) => {\n         event.preventDefault()\n        if (anchorEl === null) {\n            setAnchorEl(event.currentTarget)\n        } else {\n            setAnchorEl(null)\n        }\n    };\n\n    const handleMobileMenuClose = () => {\n        setMobileMoreAnchorEl(null);\n    };\n\n    const handleMenuClose = () => {\n        setAnchorEl(null);\n        handleMobileMenuClose();\n    };\n\n    const handleMobileMenuOpen = (event) => {\n        setMobileMoreAnchorEl(event.currentTarget);\n    };\n\n    const menuId = 'site-language';\n    const renderMenu = (\n        <Menu\n            anchorEl={anchorEl}\n            anchorOrigin={{vertical: 'top', horizontal: 'right'}}\n            id={menuId}\n            keepMounted\n            transformOrigin={{vertical: 'top', horizontal: 'right'}}\n            open={isMenuOpen}\n            onClose={handleMenuClose}\n        >\n            <MenuItem onClick={handleMenuClose}>English</MenuItem>\n            <MenuItem onClick={handleMenuClose}>עברית</MenuItem>\n        </Menu>\n    );\n\n    const mobileMenuId = 'site-language-mobile';\n    const renderMobileMenu = (\n        <Menu\n            anchorEl={mobileMoreAnchorEl}\n            anchorOrigin={{vertical: 'top', horizontal: 'right'}}\n            id={mobileMenuId}\n            keepMounted\n            transformOrigin={{vertical: 'top', horizontal: 'right'}}\n            open={isMobileMenuOpen}\n            onClose={handleMobileMenuClose}\n        >\n            <MenuItem>\n                <IconButton aria-label=\"Go to sign up page\" color=\"inherit\">\n                    <PermContactCalendarSharpIcon></PermContactCalendarSharpIcon>\n                </IconButton>\n                <p>Sign up</p>\n            </MenuItem>\n            <MenuItem>\n                <IconButton aria-label=\"show 11 new notifications\" color=\"inherit\">\n                    <ExitToAppIcon></ExitToAppIcon>\n                </IconButton>\n                <p>Login</p>\n            </MenuItem>\n            <MenuItem onClick={handleLanguageMenuOpen}>\n                <IconButton\n                    aria-label=\"Change site language\"\n                    aria-controls=\"site-language\"\n                    color=\"inherit\"\n                >\n                    <LanguageIcon/><ArrowDropDownIcon/>\n                </IconButton>\n                <p>Site Language</p>\n            </MenuItem>\n        </Menu>\n    );\n\n    return (\n\n        <AppBar position=\"fixed\">\n            <Toolbar>\n                <Typography className={classes.name} component=\"h3\">\n                    <Link className={classes.link} to=\"/\">KJLC</Link>\n                </Typography>\n                <Typography component=\"h3\">\n                    <Link className={classes.link} to=\"/texts/\">Texts</Link>\n                </Typography>\n                <Hidden smDown>\n                    <Typography component=\"h3\">\n                        <a className={classes.link} href=\"https://www.karaites.org/support-our-work1.html\" rel=\"noreferrer\" target=\"_blank\">Donate</a>\n                    </Typography>\n                    <Typography component=\"h3\">\n                        <Link className={classes.link} to=\"/acknowledgments/\">Acknowledgments</Link>\n                    </Typography>\n                </Hidden>\n                {/*<Typography component=\"h3\">*/}\n                {/*    <Link className={classes.link} to=\"/\"><SearchIcon /></Link>*/}\n                {/*</Typography>*/}\n\n                <div className={classes.sectionDesktop}>\n                    <AutoComplete/>\n                    <IconButton aria-label=\"Go to sign up form\" color=\"inherit\">\n                        <PermContactCalendarSharpIcon data-for=\"en\" data-tip=\"Sign up\"></PermContactCalendarSharpIcon>\n                    </IconButton>\n                    <IconButton aria-label=\"Go to Login form\" color=\"inherit\">\n                        <ExitToAppIcon></ExitToAppIcon>\n                    </IconButton>\n                    <IconButton\n                        edge=\"end\"\n                        aria-label=\"Site language\"\n                        aria-controls={menuId}\n                        onClick={handleLanguageMenuOpen}\n                        color=\"inherit\"\n                    >\n                        <LanguageIcon/><ArrowDropDownIcon/>\n                    </IconButton>\n                </div>\n                <div className={classes.sectionMobile}>\n                    <AutoComplete/>\n                    <IconButton\n                        aria-label=\"show more\"\n                        aria-controls={mobileMenuId}\n                        onClick={handleMobileMenuOpen}\n                        color=\"inherit\"\n                    >\n                        <MoreIcon/>\n                    </IconButton>\n                </div>\n            </Toolbar>\n            {renderMenu}\n            {renderMobileMenu}\n\n        </AppBar>\n\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n\n\n    sectionDesktop: {\n        flexGrow: 1,\n        justifyContent: 'flex-end',\n        [theme.breakpoints.down('xl')]: {\n            display: 'flex',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        }\n    },\n    sectionMobile: {\n        flexGrow: 1,\n        justifyContent: 'flex-end',\n        [theme.breakpoints.down('xl')]: {\n            display: 'none',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'flex',\n        },\n    },\n\n\n    name: {\n        fontSize: 24,\n        color: 'black',\n    },\n    link: {\n        marginLeft: 10,\n        marginRight: 10,\n        marginTop: 2,\n        color: 'black',\n    },\n\n}));\n","\n\nexport const fetchData = async (url: string): Promise<any> => {\n    const response = await fetch(url)\n    return await response.json()\n}","import React, {useContext, useEffect, useState} from 'react'\nimport {Link} from 'react-router-dom'\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography'\nimport {getFirstLevelUrl} from '../../constants/constants'\nimport {storeContext} from \"../../stores/context\";\nimport {makeStyles} from '@material-ui/core/styles'\nimport Colors from \"../../constants/colors\";\nimport {fetchData} from \"../api/dataFetch\";\n\n\nconst FirstLevel = () => {\n    const [classification, setClassification] = useState(null)\n    const classes = useStyles()\n    const store = useContext(storeContext)\n    store.resetPanes()\n\n\n    useEffect(() => {\n\n        fetchData(getFirstLevelUrl)\n            .then(data => setClassification(data))\n            .catch((e) => store.setMessage(e.message))\n\n    }, [])\n\n    if (classification === null) return null;\n\n    const levels = Object.keys(classification).map(key =>\n        <Grid item xl={6} lg={6} md={12} sm={12} xs={12} key={key}>\n            <div className={classes.card}>\n                <Link to={'/' + key + '/'}>\n                    <Typography variant=\"h6\" component=\"h2\">{key}</Typography>\n                </Link>\n                <br/>\n                <Typography\n                    variante=\"body3\" component=\"p\">{classification[key]}\n                </Typography>\n            </div>\n            <hr className={classes.ruler}/>\n        </Grid>)\n\n    return (\n        <div className={classes.root}>\n            <Grid container item xl={6} lg={6} md={6} sm={6} xs={12}\n                  justifycontent=\"center\"\n                  alignItems=\"center\"\n                  spacing={1}\n                  className={classes.grid}\n            >\n                {levels}\n            </Grid>\n        </div>\n    )\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        border: '1px solid red',\n        paddingTop: theme.spacing(15),\n        width: '100%',\n    },\n    grid: {\n        margin: 'auto',\n        padding: theme.spacing(2),\n    },\n    card: {\n        width: '100%',\n        height: 100,\n        [theme.breakpoints.up('xs')]: {\n            // backgroundColor: 'red',\n            height: 200,\n        },\n        [theme.breakpoints.up('sm')]: {\n            // backgroundColor: 'yellow',\n            height: 150,\n        },\n        [theme.breakpoints.up('md')]: {\n            // backgroundColor: 'blue',\n            height: 140,\n        },\n        [theme.breakpoints.up('lg')]: {\n            // backgroundColor: 'green',\n            height: 160,\n        },\n        [theme.breakpoints.up('xl')]: {\n            // backgroundColor: 'pink',\n        },\n    },\n\n    ruler: {\n        borderColor: Colors.rulerColor,\n    },\n\n}));\n\n\nexport default FirstLevel","import React from \"react\";\nimport {Grid} from \"@material-ui/core\";\n\n\nconst Filler = ({xs}: { xs: any }) =>\n    <Grid item xs={xs} key={-1}>\n        <br/>\n        <br/>\n        <br/>\n        <br/>\n    </Grid>\n\n\nexport default Filler","\nexport const languageDirection = (language: string): string => {\n    switch (language) {\n        case 'en':\n            return 'LTR'\n        case 'he':\n            return 'RTL'\n        default: {\n            return 'Error'\n        }\n    }\n}\n","import {FC} from 'react'\nimport {Link} from \"react-router-dom\"\n\ninterface ToTextInterface {\n    to: string;\n    caption: string;\n    margin: number;\n    size: number;\n}\n\nexport const ToText: FC<ToTextInterface> = ({to = '/texts/', caption = \"To texts\", margin = 0, size = 20}) =>\n    <Link style={{marginBottom: margin, fontSize: size,paddingLeft:10, paddingRight:10 }} to={to}>{caption}</Link>\n\n","import React from 'react'\nimport {Link} from 'react-router-dom'\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography'\nimport {slug} from '../../utils/utils'\nimport Filler from '../general/Filler.tsx'\nimport {makeStyles} from \"@material-ui/core/styles\"\nimport {languageDirection} from \"../../utils/languageDirection\"\nimport Colors from \"../../constants/colors\";\nimport {ToText} from \"../general/ToText\";\n\nconst RenderMenu = ({books, path, languages = ['en', 'en'], columns = 6}) => {\n    const classes = useStyles()\n    const populate = (obj) => {\n        // links to books\n        return Object.keys(obj).map((key, index) =>\n            <Grid item xs={columns} key={index}>\n                <div className={classes.card}>\n                    <Link to={`/${path}/${slug(key)}/`}>\n                        <Typography className={classes.text} variant=\"h6\" component=\"h2\">{key}</Typography>\n                    </Link>\n                    <br/>\n                    <Typography className={classes.text} style={{direction: languageDirection(languages[1])}} variant=\"body2\" component=\"p\">{obj[key]}</Typography>\n                </div>\n                <hr className={classes.ruler}/>\n            </Grid>)\n    }\n\n    const MakeMenu = () => {\n        // main text menu Torah...\n        return Object.keys(books).map((key, index) =>\n            <Grid item xs={12} sm={columns} key={index}>\n                <Grid item className={classes.title}>\n                    <Typography className={classes.titleHalakhah} variant=\"h6\" component=\"h2\">{key}</Typography>\n                    <ToText/>\n                    <hr className={classes.ruler}></hr>\n                </Grid>\n                <Grid container spacing={2}>\n                    {populate(books[key])}\n                </Grid>\n            </Grid>)\n    }\n\n    return (\n        <div className={classes.container}>\n            <Grid container\n                  direction=\"column\"\n                  justifycontent=\"space-evenly\"\n                  alignItems=\"center\"\n            >\n                <Filler/>\n                <MakeMenu/>\n            </Grid>\n\n        </div>\n    )\n\n}\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        width: '100%',\n        height: '100%',\n    },\n    title: {\n        marginTop: 50,\n    },\n    ruler: {\n        marginTop: 30,\n        marginLeft:20,\n        marginRight:20,\n        borderColor: Colors.rulerColor,\n    },\n    link: {\n        marginBottom: 20,\n    },\n    titleHalakhah: {\n        marginBottom: 20,\n        paddingRight: 10,\n        paddingLeft: 10,\n        color: 'gray',\n    },\n    text: {\n        paddingLeft: 20,\n        paddingRight: 20,\n    },\n    card: {\n        width: '100%',\n        height: 100,\n        marginTop: 40,\n        [theme.breakpoints.down('xl')]: {\n            //backgroundColor: 'pink',\n            marginBottom: 10,\n            fontsize: 40,\n        },\n        [theme.breakpoints.down('lg')]: {\n            //backgroundColor: 'green',\n            marginBottom: 10,\n        },\n        [theme.breakpoints.down('md')]: {\n            //backgroundColor: 'blue',\n            marginBottom: 30,\n        },\n        [theme.breakpoints.down('sm')]: {\n            //backgroundColor: 'yellow',\n            marginBottom: 100,\n        },\n        [theme.breakpoints.down('xs')]: {\n            //backgroundColor: 'red',\n            marginBottom: 130,\n        },\n    },\n}));\n\nexport default RenderMenu","import React from 'react'\nimport RenderMenu from '../menu/RenderMenu'\nimport {booksObj, booksMenu} from '../../types/commonTypes'\n\nconst torah:booksObj = {\n    'Genesis': 'Creation, the beginning of mankind, and stories of the patriarchs and matriarchs.',\n    'Exodus': 'The Israelites’ enslavement in Egypt, miraculous redemption, the giving of the Torah, and building of the Mishkan (Tabernacle).',\n    'Leviticus': 'Laws of sacrificial worship in the Mishkan (Tabernacle), ritual purity, and other topics like agriculture, ethics, and holidays.',\n    'Numbers': 'Wanderings of the Israelites in the desert, census, rebellion, spies and war, interspersed with laws.',\n    'Deuteronomy': 'Moses’ final speeches, recalling events of the desert, reviewing old laws, introducing new ones, and calling for faithfulness to God.'\n}\n\nconst prophets:booksObj = {\n    'Joshua': 'The Israelites enter, conquer, and settle Israel under the leadership of Joshua.',\n    'Judges': ' Cycles of sin, foreign oppression, repentance, and redemption through leaders appointed by God.',\n    'I Samuel': 'The prophet Samuel, the advent of monarchy with the reign of Saul, and the rise of a young David.',\n    'II Samuel': 'King David’s triumphs and challenges as he establishes a united kingdom with Jerusalem as its capital.',\n    'I Kings': 'Solomon’s kingship, construction of the Temple, a schism in the kingdom, and Elijah the Prophet.',\n    'II Kings': 'Stories and miracles of the prophet Elisha, the decline of Israel’s kingdoms, and the Temple’s destruction.',\n    'Isaiah': 'Criticism of religious corruption, calls for change, and descriptions of a utopian future',\n    'Jeremiah': 'Warnings of Jerusalem’s destruction and demands for repentance, largely rejected by the people, some of whom torture and persecute him.',\n    'Ezekiel': 'Dramatic symbolism conveying rebuke or hope, and visions of a future Temple.',\n    'Hosea': 'Rebuke of Israel for abandoning God, comparing their relationship to that of unfaithful lovers',\n    'Joel': 'A locust plague, a call to repent, and a promise of judgement for Israel’s oppressors.',\n    'Amos': 'Condemnation of oppression and arrogance in the nations and Israel, and a call for reform.',\n    'Obadiah': 'The shortest book in Tanakh, at just 21 verses, predicting the downfall of the kingdom of Edom.',\n    'Jonah': 'A great fish swallows Jonah when he tries to escape his mission of prophecy, and Jonah repents.',\n    'Micah': 'Berating of Israel and its leadership for insincere ritual worship, and calls for justice and kindness.',\n    'Nahum': 'A celebratory prophecy about the downfall of the Assyrian empire, an oppressor of Israel',\n    'Habakkuk': 'Charging God to explain the unjust success of the Babylonians, God’s response, and a prayer.',\n    'Zephaniah': 'Warnings of the destruction God will wreck on the unfaithful and calls for justice and humility.',\n    'Haggai': 'Urgent calls to build the Second Temple and descriptions of its future glory.',\n    'Zechariah': 'Warnings of the destruction God will wreck on the unfaithful and calls for justice and humility.',\n    'Malachi': 'Criticism of disingenuous ritual worship and descriptions of God’s future blessings.',\n}\n\nconst writings:booksObj = {\n    'Psalms': 'Poems of despair, hope, gratitude, and supplication to God, attributed to David and others',\n    'Proverbs': 'Guidance for living a wise, moral, and righteous life, in the form of poems and short statements.',\n    'Job': 'Satan convinces God to strike a righteous man with tragedy, spurring conversations about suffering.',\n    'Song of Songs': 'Poetic conversations of two lovers, traditionally read as a metaphor for God and Israel.',\n    'Ruth': 'A Moabite widow remains loyal to her mother-in-law and to Israel, embarking on a new beginning.',\n    'Lamentations': 'Laments of Jerusalem’s destruction, grappling with theological explanations.',\n    'Ecclesiastes': 'An exploration of the meaning of life, reckoning with death, futility, and purpose.',\n    'Esther': 'Esther becomes queen of Persia and foils a plot to destroy the Jews, establishing the Purim holiday.',\n    'Daniel': 'A Jewish advisor to Babylonian kings interprets dreams and miraculously escapes danger.',\n    'Ezra': 'Rebuilding the Temple after decades of exile and religious revival led by Ezra the scribe.',\n    'Nehemiah': 'Rebuilding Jerusalem’s walls and the nation’s commitment to observe the commandments.',\n    'I Chronicles': 'Recounts of events in the Torah and early Prophets, focusing on King David.',\n    'II Chronicles': 'Recounts of events in the Prophets, from Solomon through the First Temple’s destruction.',\n}\n\nconst books:booksMenu = {'TORAH': torah, 'PROPHETS': prophets, 'WRITINGS': writings}\n\nconst Tanakh = () => <RenderMenu books={books} path={'Tanakh'} languages={['en','en']}/>\n\nexport default Tanakh","import React from \"react\";\nimport Box from '@material-ui/core/Box';\n\nconst TabPanel =(props)=> {\n    const {children, value, index, ...other} = props;\n    return (\n        <div\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            {...other}\n        >\n            <Box p={2}>\n                {children}\n            </Box>\n        </div>\n    );\n}\n\nexport default TabPanel","import { makeRandomKey } from \"./utils\"\n\n\nconst transform = (refClick, item, kind, paneNumber, node) => {\n    if (node.type === 'tag') {\n        // rewrite the span with a onClick event handler\n        if (node.name === 'span') {\n            if (node['attribs']['class'] === 'en-biblical-ref') {\n                return <span key={makeRandomKey()} lang=\"EN\" onClick={refClick.bind(this, item, kind, paneNumber)} className=\"en-biblical-ref\">{node.children[0]['data']}</span>\n            }\n            if (node['attribs']['class'] === 'he-biblical-ref') {\n                return <span key={makeRandomKey()} lang=\"HE\" onClick={refClick.bind(this, item, kind, paneNumber)} className=\"he-biblical-ref\">{node.children[0]['data']}</span>\n            }\n        }\n    }\n}\n\nexport default transform","import {calculateItemNumber, makeRandomKey} from \"../../utils/utils\";\nimport React from \"react\";\nimport {Typography} from \"@material-ui/core\";\nimport parse from 'html-react-parser'\nimport {TRANSFORM_TYPE} from '../../constants/constants'\nimport transform from \"../../utils/transform\";\n\n\nexport const RenderComments = ({language, comments, paneNumber, refClick}) => {\n    const ref = 'comment_' + language\n    if (comments.length) {\n        return (\n            <div key={makeRandomKey()}>\n                {comments.map(html => (\n                    <React.Fragment key={makeRandomKey()}>\n                        {parse(html[ref], {\n                            replace: domNode => {\n                                return transform(refClick,\n                                    calculateItemNumber(html['book'], html['chapter'], html['verse']),\n                                    TRANSFORM_TYPE,\n                                    paneNumber,\n                                    domNode)\n                            }\n                        })}\n                    </React.Fragment>\n                ))}\n            </div>\n        )\n    } else {\n        return (\n            <Typography>No comments</Typography>\n        )\n    }\n}","import React, {useContext} from \"react\";\nimport {observer} from \"mobx-react-lite\";\nimport {storeContext} from \"../../stores/context\"\nimport {RenderComments} from \"./RenderComment\"\n\n\nconst Comments = ({language, paneNumber, refClick}) => {\n    const store = useContext(storeContext)\n    const comments = store.getComments(paneNumber)\n\n    return <RenderComments\n        language={language}\n        comments={comments}\n        paneNumber={paneNumber}\n        refClick={refClick}\n    />\n}\n\nexport default observer(Comments)\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Colors from '../../constants/colors'\nimport { Grid } from '@material-ui/core'\nimport IconButton from '@material-ui/core/IconButton'\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft'\nimport CloseIcon from '@material-ui/icons/Close';\n\n\nconst Header = ({ backButton, onClose }) => {\n    const classes = useStyles()\n\n    return (\n        <Grid container\n            direction=\"row\"\n            justifycontent=\"flex-end\"\n            alignItems=\"center\"\n            className={classes.header}>\n\n            <Grid item xs={10}>\n                <IconButton\n                    aria-label=\"Close pane\"\n                    component=\"span\"\n                    onClick={onClose}\n                >\n                    <CloseIcon className={classes.iconGrid} />\n                </IconButton>\n            </Grid>\n\n            <Grid item className={classes.icon}>\n                 {(backButton !== undefined ?\n                    <IconButton\n                        aria-label=\"Back\"\n                        component=\"span\"\n                        onClick={backButton}\n                    >\n                        <ChevronLeftIcon className={classes.iconGrid} />\n                    </IconButton>\n                    : null)}\n\n            </Grid>\n        </Grid>\n    )\n\n}\n\nexport default Header\n\n\nconst useStyles = makeStyles((theme) => ({\n    icon:{},\n    iconGrid:{},\n    header: {\n        minHeight: 50,\n        backgroundColor: Colors['headerBackgroundColor'],\n    },\n}));","import React, {useContext, useEffect} from \"react\"\nimport TabPanel from \"../general/TabPanel\"\nimport Comments from \"./Comments\"\nimport {getCommentsUrl} from '../../constants/constants'\nimport {makeStyles} from '@material-ui/core/styles'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport {observer} from 'mobx-react-lite'\nimport '../../css/books.css'\nimport Header from \"../pages/RightPaneHeader\"\nimport {storeContext} from \"../../stores/context\";\nimport {makeRandomKey} from \"../../utils/utils\";\nimport {fetchData} from \"../api/dataFetch\";\n\n\nconst CommentsPane = ({refClick, paneNumber, backButton, onClose}) => {\n    const store = useContext(storeContext)\n    const url = getCommentsUrl + `${store.getBook(paneNumber)}/${store.getCommentsChapter(paneNumber)}/${store.getCommentsVerse(paneNumber)}/`\n    const classes = useStyles()\n\n    useEffect(() => {\n\n        fetchData(url)\n            .then(data => store.setComments(data.comments, paneNumber))\n            .catch((e) => store.setMessage(e.message))\n\n    }, [store, paneNumber])\n\n\n    const onTabChange = (event, tab) => {\n        store.setCommentTab(tab, paneNumber)\n    }\n\n    return (\n        <React.Fragment key={makeRandomKey()}>\n            <Header backButton={backButton} onClose={onClose}/>\n            <Tabs\n                className={classes.root}\n                value={store.getCommentTab(paneNumber)}\n                onChange={(onTabChange)}\n                aria-label=\"comments English Hebrew\">\n                <Tab label=\"English\" id={0} aria-label=\"Comments in English\"/>\n                <Tab label=\"Hebrew\" id={1} aria-label=\"Comments in Hebrew\"/>\n            </Tabs>\n            <div className={classes.scroll}>\n                <TabPanel value={store.getCommentTab(paneNumber)} index={0}>\n                    <Comments language=\"en\" paneNumber={paneNumber} refClick={refClick}/>\n                </TabPanel>\n                <TabPanel value={store.getCommentTab(paneNumber)} index={1}>\n                    <Comments language=\"he\" paneNumber={paneNumber} refClick={refClick}/>\n                </TabPanel>\n            </div>\n        </React.Fragment>\n    )\n}\n\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        flexGrow: 1,\n        position: 'fixed',\n        maxWidth: '400px !important',\n        height: 1000,\n\n    },\n    scroll: {\n        height: '90vh',\n        overflow: 'auto',\n        paddingBottom: 20,\n    },\n    root: {\n        marginBottom: 20,\n    },\n}));\n\n\nexport default observer(CommentsPane)","import React, {useContext, useEffect, useState} from 'react'\nimport Button from '@material-ui/core/Button'\nimport {referencesUrl} from '../../constants/constants.ts'\nimport {makeStyles} from '@material-ui/core/styles'\nimport {makeRandomKey} from \"../../utils/utils\";\nimport {Typography} from '@material-ui/core';\nimport Colors from '../../constants/colors.js';\nimport {observer} from 'mobx-react-lite';\nimport parse from 'html-react-parser'\nimport {TRANSFORM_TYPE} from '../../constants/constants'\nimport transform from \"../../utils/transform\";\nimport '../../css/_comments.css'\nimport '../../css/books.css'\nimport Header from '../pages/RightPaneHeader.jsx';\nimport {storeContext} from \"../../stores/context\";\nimport {slug} from \"../../utils/utils\";\nimport {fetchData} from \"../api/dataFetch\";\n\n\nconst HalakhahPane = ({refClick, paneNumber, backButton, onClose, openBook}) => {\n    const store = useContext(storeContext)\n    const [references, setReferences] = useState([])\n    const classes = useStyles()\n\n    const callOpenBook = (index) => {\n        openBook( paneNumber, slug(references[index]['book_name_en']), references[index]['paragraph_number'])\n    }\n\n    useEffect(() => {\n        const url = referencesUrl + `${store.getBook(paneNumber)}/${store.getCommentsChapter(paneNumber)}/${store.getCommentsVerse(paneNumber)}/`\n        fetchData(url)\n            .then((data)=> {\n                setReferences(data.references)\n            })\n            .catch((e)=> store.setMessage(e.message))\n\n\n    }, [paneNumber, store])\n\n    if ( references.length ) {\n        return (\n            <React.Fragment key={makeRandomKey()}>\n                <Header backButton={backButton} onClose={onClose}/>\n                <div className={classes.scroll}>\n                    {references.map((reference,index) => (\n                        <React.Fragment key={makeRandomKey()}>\n                            <Typography className={classes.headerColor}>{reference['book_name']}</Typography>\n                            <Typography className={classes.headerColor}>{reference['author']}</Typography>\n                            <hr className={classes.ruler}/>\n                            <div key={makeRandomKey()} className={classes.content}>\n                                <>\n                                    {parse(reference['paragraph_html'], {\n                                        replace: domNode =>  transform(refClick, undefined, TRANSFORM_TYPE, paneNumber,domNode)\n                                    })}\n                                </>\n                            </div>\n                            <Button\n                                className={classes.button}\n                                onClick={callOpenBook.bind(this,index)}>Open book </Button>\n                            <hr className={classes.ruler}/>\n\n                        </React.Fragment>\n                    ))}\n                </div>\n            </React.Fragment>\n        )\n    } else {\n        return (\n            <>\n                <Header backButton={backButton} onClose={onClose}/>\n                <Typography className={classes.no}>No references</Typography>\n            </>\n        )\n    }\n}\n\n\nexport default observer(HalakhahPane)\n\n\nconst useStyles = makeStyles((theme) => ({\n\n    ruler: {\n        borderColor: Colors.rulerColor,\n        marginTop: 20,\n        marginLeft: 15,\n        marginRight: 15,\n\n    },\n\n    headerColor: {\n        color: Colors.leftPaneHeader,\n        marginTop: 20,\n        marginLeft: 15\n\n    },\n    text: {\n        fontSize: 14,\n    },\n    button: {\n        textTransform: 'none',\n        justifyContent: 'left',\n        paddingRight: 15,\n        paddingLeft: 15,\n    },\n    scroll: {\n        width: '100%',\n        height: '70vh',\n        overflow: 'auto',\n    },\n    content: {\n        margin: 15,\n    },\n    no: {\n        marginTop: 20,\n        marginLeft: 50,\n    },\n}));\n\n","export default __webpack_public_path__ + \"static/media/text-to-speech.e9d4e8fb.svg\";","export default __webpack_public_path__ + \"static/media/text-to-speech-off.7d301788.svg\";","import React, {FC, useContext} from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {ButtonPropsTTS} from './types';\nimport textToSpeechOn from '../../img/text-to-speech.svg';\nimport textToSpeechOff from '../../img/text-to-speech-off.svg';\n\n\nexport const TextToSpeechButton: FC<ButtonPropsTTS> = ({onClick, color, onOff}) =>\n        <IconButton aria-label=\"Close\"\n                    component=\"span\"\n                    color={color}\n                    onClick={onClick}>\n\n            {(onOff ? <img src={textToSpeechOn} width={24} height={24}/> :\n                <img src={textToSpeechOff} width={24} height={24}/>)}\n        </IconButton>\n","import React, {useContext, useState} from 'react'\nimport {makeStyles} from '@material-ui/core/styles'\nimport Colors from '../../constants/colors'\nimport Button from '@material-ui/core/Button'\nimport {Typography} from '@material-ui/core'\nimport MenuBookIcon from '@material-ui/icons/MenuBook'\nimport {makeRandomKey} from '../../utils/utils'\nimport CommentsPane from '../comments/CommentPane'\nimport HalakhahPane from '../halakhah/HalakhahPane'\nimport {\n    BIBLE_EN_CM,\n    BIBLE_REFS,\n    BIBLE_ENGLISH,\n    BIBLE_HEBREW,\n} from '../../constants/constants'\nimport TextToSpeech from '../../tts/TextToSpeech'\nimport {observer} from 'mobx-react-lite'\nimport Header from '../pages/RightPaneHeader'\nimport {storeContext} from \"../../stores/context\";\n\nconst items = ['Commentary', 'Halakhah']\nconst references = [BIBLE_EN_CM, BIBLE_REFS]\n\n\nconst RightPane = ({paneNumber, refClick, openBook}) => {\n    const store = useContext(storeContext)\n\n    const [showState, setShowState] = useState(store.getRightPaneState(paneNumber))\n    const verseData = (store.getVerseData(paneNumber).length === 0 ? ['',''] : store.getVerseData(paneNumber))\n\n    const classes = useStyles()\n\n    const clickToOpen = (item, type, panNumber, e) => {\n        store.setRightPaneState(showState, paneNumber)\n        refClick(item, 'bible', paneNumber, e)\n    }\n\n    const onClose = () => {\n        store.setDistance(0, paneNumber)\n        store.setRightPaneState([], paneNumber)\n        store.setIsRightPaneOpen(false, paneNumber)\n    }\n\n    const backButton = () => {\n        showState.pop()\n        setShowState([...showState])\n    }\n\n    const Item = () => {\n        return items.map((item, i) => {\n            \n            return (\n                <Button\n                    variant=\"text\"\n                    className={classes.button}\n                    fullWidth={true}\n                    disabled={verseData[references[i]] === '0'}\n                    startIcon={<MenuBookIcon className={classes.icon}/>}\n                    onClick={() => {\n                        setShowState([...showState, i])\n                    }}\n                    key={makeRandomKey()}\n                >\n                    {item} ({verseData[references[i]]})\n                </Button>\n            )\n        })\n    }\n\n    const PaneBody = () => {\n        const show = showState.slice(-1)[0]\n        switch (show) {\n            case 0: {\n                return (\n                    <CommentsPane\n                        refClick={clickToOpen}\n                        paneNumber={paneNumber}\n                        backButton={backButton}\n                        onClose={onClose}\n                    />)\n            }\n            case 1: {\n                return (<HalakhahPane\n                    refClick={clickToOpen}\n                    paneNumber={paneNumber}\n                    backButton={backButton}\n                    onClose={onClose}\n                    openBook={openBook}\n                />)\n            }\n            default: {\n                return (\n                    <>\n                        <Header onClose={onClose}/>\n                        <div className={classes.body}>\n                            <Typography className={classes.headerColor}>Related texts</Typography>\n                            <hr className={classes.ruler}/>\n                            <Item/>\n                            <hr className={classes.ruler}/>\n\n                        </div>\n                    </>\n                )\n            }\n        }\n    }\n\n\n    return (\n        <div className={classes.container}>\n            <PaneBody/>\n        </div>\n    )\n}\n\nexport default observer(RightPane)\n\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        maxWidth: 400,\n        height: '100%',\n        top: 70,\n        backgroundColor: Colors['rightPaneBackGround']\n    },\n\n    header: {\n        minHeight: 50,\n        backgroundColor: Colors['headerBackgroundColor'],\n    },\n    body: {\n        marginTop: 40,\n        marginLeft: 30,\n        marginRight: 30,\n    },\n    ruler: {\n        borderColor: Colors.rulerColor,\n    },\n    headerColor: {\n        color: Colors.leftPaneHeader,\n        marginTop: 20,\n    },\n    icon: {\n        color: Colors.leftPaneHeader,\n        fontSize: 20,\n    },\n    text: {\n        fontSize: 14,\n    },\n    button: {\n        textTransform: 'none',\n        justifyContent: 'left',\n    },\n}));","import {FC} from 'react'\nimport Badge from '@material-ui/core/Badge'\nimport {makeStyles} from '@material-ui/core/styles'\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord'\n\ninterface RefsBadgeProps {\n    refsCount: number,\n    color?: any\n}\n\nconst RefsBadge: FC<RefsBadgeProps> = ({refsCount, color = 'secondary'}) => {\n    const classes = useStyles()\n    return (\n        <span style={{'visibility': (refsCount !== 0 ? 'visible' : 'hidden')}}>\n            <Badge>\n                <FiberManualRecordIcon className={classes.icon} color={color}/>\n            </Badge>\n        </span>\n    )\n}\n\nconst useStyles = makeStyles(() => ({\n    icon: {\n        fontSize: 8,\n    },\n    pointer: {\n        cursor: 'pointer'\n    }\n}))\n\nexport default RefsBadge\n","interface TableIndoToHebrew {\n    readonly   [index: number]: string;\n}\n\ninterface TableHebrewToIndo {\n    readonly [index: string]: number;\n}\n\nexport const indoArabicToHebrewCardinal = (indo_arabic_number: number): string => {\n    const table: TableIndoToHebrew = {\n        1: 'א׳',\n        2: 'ב׳',\n        3: 'ג׳',\n        4: 'ד׳',\n        5: 'ה׳',\n        6: 'ו׳',\n        7: 'ז׳',\n        8: 'ח׳',\n        9: 'ט׳',\n        10: 'י׳',\n        11: 'י״א',\n        12: 'י״ב',\n        13: 'י״ג',\n        14: 'י״ד',\n        15: 'ט״ו',\n        16: 'ט״ז',\n        17: 'י״ז',\n        18: 'י״ח',\n        19: 'י״ט',\n        20: 'כ׳',\n        21: 'כ״א',\n        22: 'כ״ב',\n        23: 'כ״ג',\n        24: 'כ״ד',\n        25: 'כ״ה',\n        26: 'כ״ו',\n        27: 'כ״ז',\n        28: 'כ״ח',\n        29: 'כ״ט',\n        30: 'ל׳',\n        31: 'ל״א',\n        32: 'ל״ב',\n        33: 'ל״ג',\n        34: 'ל״ד',\n        35: 'ל״ה',\n        36: 'ל״ו',\n        37: 'ל״ז',\n        38: 'ל״ח',\n        39: 'ל״ט',\n        40: 'מ׳',\n        41: 'מ״א',\n        42: 'מ״ב',\n        43: 'מ״ג',\n        44: 'מ״ד',\n        45: 'מ״ה',\n        46: 'מ״ו',\n        47: 'מ״ז',\n        48: 'מ״ח',\n        49: 'מ״ט',\n        50: 'נ׳',\n        51: 'נ״א',\n        52: 'נ״ב',\n        53: 'נ״ג',\n        54: 'נ״ד',\n        55: 'נ״ה',\n        56: 'נ״ו',\n        57: 'נ״ז',\n        58: 'נ״ח',\n        59: 'נ״ט',\n        60: 'ס׳',\n        61: 'ס״א',\n        62: 'ס״ב',\n        63: 'ס״ג',\n        64: 'ס״ד',\n        65: 'ס״ה',\n        66: 'ס״ו',\n        67: 'ס״ז',\n        68: 'ס״ח',\n        69: 'ס״ט',\n        70: 'ע׳',\n        71: 'ע״א',\n        72: 'ע״ב',\n        73: 'ע״ג',\n        74: 'ע״ד',\n        75: 'ע״ה',\n        76: 'ע״ו',\n        77: 'ע״ז',\n        78: 'ע״ח',\n        79: 'ע״ט',\n        80: 'פ׳',\n        81: 'פ״א',\n        82: 'פ״ב',\n        83: 'פ״ג',\n        84: 'פ״ד',\n        85: 'פ״ה',\n        86: 'פ״ו',\n        87: 'פ״ז',\n        88: 'פ״ח',\n        89: 'פ״ט',\n        90: 'צ׳',\n        91: 'צ״א',\n        92: 'צ״ב',\n        93: 'צ״ג',\n        94: 'צ״ד',\n        95: 'צ״ה',\n        96: 'צ״ו',\n        97: 'צ״ז',\n        98: 'צ״ח',\n        99: 'צ״ט',\n        100: 'ק׳',\n        101: 'ק״א',\n        102: 'ק״ב',\n        103: 'ק״ג',\n        104: 'ק״ד',\n        105: 'ק״ה',\n        106: 'ק״ו',\n        107: 'ק״ז',\n        108: 'ק״ח',\n        109: 'ק״ט',\n        110: 'ק״י',\n        111: 'קי״א',\n        112: 'קי״ב',\n        113: 'קי״ג',\n        114: 'קי״ד',\n        115: 'קט״ו',\n        116: 'קט״ז',\n        117: 'קי״ז',\n        118: 'קי״ח',\n        119: 'קי״ט',\n        120: 'ק״כ',\n        121: 'קכ״א',\n        122: 'קכ״ב',\n        123: 'קכ״ג',\n        124: 'קכ״ד',\n        125: 'קכ״ה',\n        126: 'קכ״ו',\n        127: 'קכ״ז',\n        128: 'קכ״ח',\n        129: 'קכ״ט',\n        130: 'ק״ל',\n        131: 'קל״א',\n        132: 'קל״ב',\n        133: 'קל״ג',\n        134: 'קל״ד',\n        135: 'קל״ה',\n        136: 'קל״ו',\n        137: 'קל״ז',\n        138: 'קל״ח',\n        139: 'קל״ט',\n        140: 'ק״מ',\n        141: 'קמ״א',\n        142: 'קמ״ב',\n        143: 'קמ״ג',\n        144: 'קמ״ד',\n        145: 'קמ״ה',\n        146: 'קמ״ו',\n        147: 'קמ״ז',\n        148: 'קמ״ח',\n        149: 'קמ״ט',\n    }\n    try {\n        return table[indo_arabic_number]\n    } catch (e) {\n        console.log(\"Number must be between 1 and 149.\")\n    }\n    return ''\n}\n\nexport const indoArabicToHebrew = (number: number): string => {\n    const table: TableIndoToHebrew = {\n        1: 'א',\n        2: 'ב',\n        3: 'ג',\n        4: 'ד',\n        5: 'ה',\n        6: 'ו',\n        7: 'ז',\n        8: 'ח',\n        9: 'ט',\n        10: 'י',\n        11: 'יא',\n        12: 'יב',\n        13: 'יג',\n        14: 'יד',\n        15: 'טו',\n        16: 'טז',\n        17: 'יז',\n        18: 'יח',\n        19: 'יט',\n        20: 'כ',\n        21: 'כא',\n        22: 'כב',\n        23: 'כג',\n        24: 'כד',\n        25: 'כה',\n        26: 'כו',\n        27: 'כז',\n        28: 'כח',\n        29: 'כט',\n        30: 'ל',\n        31: 'לא',\n        32: 'לב',\n        33: 'לג',\n        34: 'לד',\n        35: 'לה',\n        36: 'לו',\n        37: 'לז',\n        38: 'לח',\n        39: 'לט',\n        40: 'מ',\n        41: 'מא',\n        42: 'מב',\n        43: 'מג',\n        44: 'מד',\n        45: 'מה',\n        46: 'מו',\n        47: 'מז',\n        48: 'מח',\n        49: 'מט',\n        50: 'נ',\n        51: 'נא',\n        52: 'נב',\n        53: 'נג',\n        54: 'נד',\n        55: 'נה',\n        56: 'נו',\n        57: 'נז',\n        58: 'נח',\n        59: 'נט',\n        60: 'ס',\n        61: 'סא',\n        62: 'סב',\n        63: 'סג',\n        64: 'סד',\n        65: 'סה',\n        66: 'סו',\n        67: 'סז',\n        68: 'סח',\n        69: 'סט',\n        70: 'ע',\n        71: 'עא',\n        72: 'עב',\n        73: 'עג',\n        74: 'עד',\n        75: 'עה',\n        76: 'עו',\n        77: 'עז',\n        78: 'עח',\n        79: 'עט',\n        80: 'פ',\n        81: 'פא',\n        82: 'פב',\n        83: 'פג',\n        84: 'פד',\n        85: 'פה',\n        86: 'פו',\n        87: 'פז',\n        88: 'פח',\n        89: 'פט',\n        90: 'צ',\n        91: 'צא',\n        92: 'צב',\n        93: 'צג',\n        94: 'צד',\n        95: 'צה',\n        96: 'צו',\n        97: 'צז',\n        98: 'צח',\n        99: 'צט',\n        100: 'ק',\n        101: 'קא',\n        102: 'קב',\n        103: 'קג',\n        104: 'קד',\n        105: 'קה',\n        106: 'קו',\n        107: 'קז',\n        108: 'קח',\n        109: 'קט',\n        110: 'קי',\n        111: 'קיא',\n        112: 'קיב',\n        113: 'קיג',\n        114: 'קיד',\n        115: 'קטו',\n        116: 'קטז',\n        117: 'קיז',\n        118: 'קיח',\n        119: 'קיט',\n        120: 'קכ',\n        121: 'קכא',\n        122: 'קכב',\n        123: 'קכג',\n        124: 'קכד',\n        125: 'קכה',\n        126: 'קכו',\n        127: 'קכז',\n        128: 'קכח',\n        129: 'קכט',\n        130: 'קל',\n        131: 'קלא',\n        132: 'קלב',\n        133: 'קלג',\n        134: 'קלד',\n        135: 'קלה',\n        136: 'קלו',\n        137: 'קלז',\n        138: 'קלח',\n        139: 'קלט',\n        140: 'קמ',\n        141: 'קמא',\n        142: 'קמב',\n        143: 'קמג',\n        144: 'קמד',\n        145: 'קמה',\n        146: 'קמו',\n        147: 'קמז',\n        148: 'קמח',\n        149: 'קמט',\n        150: 'קנ',\n        151: 'קנא',\n        152: 'קנב',\n        153: 'קנג',\n        154: 'קנד',\n        155: 'קנה',\n        156: 'קנו',\n        157: 'קנז',\n        158: 'קנח',\n        159: 'קנט',\n        160: 'קס',\n        161: 'קסא',\n        162: 'קסב',\n        163: 'קסג',\n        164: 'קסד',\n        165: 'קסה',\n        166: 'קסו',\n        167: 'קסז',\n        168: 'קסח',\n        169: 'קסט',\n        170: 'קע',\n        171: 'קעא',\n        172: 'קעב',\n        173: 'קעג',\n        174: 'קעד',\n        175: 'קעה',\n        176: 'קעו',\n        177: 'קעז',\n        178: 'קעח',\n        179: 'קעט',\n        180: 'קפ',\n        181: 'קפא',\n        182: 'קפב',\n        183: 'קפג',\n        184: 'קפד',\n        185: 'קפה',\n        186: 'קפו',\n        187: 'קפז',\n        188: 'קפח',\n        189: 'קפט',\n        190: 'קצ',\n        191: 'קצא',\n        192: 'קצב',\n        193: 'קצג',\n        194: 'קצד',\n        195: 'קצה',\n        196: 'קצו',\n        197: 'קצז',\n        198: 'קצח',\n        199: 'קצט',\n        200: 'ר',\n    }\n    return table[number]\n}\n\nexport const hebrewCardinalNumbers: TableHebrewToIndo = {\n    'א': 1,\n    'ב': 2,\n    'ג': 3,\n    'ד': 4,\n    'ה': 5,\n    'ו': 6,\n    'ז': 7,\n    'ח': 8,\n    'ט': 9,\n    'י': 10,\n    'יא': 11,\n    'יב': 12,\n    'יג': 13,\n    'יד': 14,\n    'טו': 15,\n    'טז': 16,\n    'יז': 17,\n    'יח': 18,\n    'יט': 19,\n    'כ': 20,\n    'כא': 21,\n    'כב': 22,\n    'כג': 23,\n    'כד': 24,\n    'כה': 25,\n    'כו': 26,\n    'כז': 27,\n    'כח': 28,\n    'כט': 29,\n    'ל': 30,\n    'לא': 31,\n    'לב': 32,\n    'לג': 33,\n    'לד': 34,\n    'לה': 35,\n    'לו': 36,\n    'לז': 37,\n    'לח': 38,\n    'לט': 39,\n    'מ': 40,\n    'מא': 41,\n    'מב': 42,\n    'מג': 43,\n    'מד': 44,\n    'מה': 45,\n    'מו': 46,\n    'מז': 47,\n    'מח': 48,\n    'מט': 49,\n    'נ': 50,\n    'נא': 51,\n    'נב': 52,\n    'נג': 53,\n    'נד': 54,\n    'נה': 55,\n    'נו': 56,\n    'נז': 57,\n    'נח': 58,\n    'נט': 59,\n    'ס': 60,\n    'סא': 61,\n    'סב': 62,\n    'סג': 63,\n    'סד': 64,\n    'סה': 65,\n    'סו': 66,\n    'סז': 67,\n    'סח': 68,\n    'סט': 69,\n    'ע': 70,\n    'עא': 71,\n    'עב': 72,\n    'עג': 73,\n    'עד': 74,\n    'עה': 75,\n    'עו': 76,\n    'עז': 77,\n    'עח': 78,\n    'עט': 79,\n    'פ': 80,\n    'פא': 81,\n    'פב': 82,\n    'פג': 83,\n    'פד': 84,\n    'פה': 85,\n    'פו': 86,\n    'פז': 87,\n    'פח': 88,\n    'פט': 89,\n    'צ': 90,\n    'צא': 91,\n    'צב': 92,\n    'צג': 93,\n    'צד': 94,\n    'צה': 95,\n    'צו': 96,\n    'צז': 97,\n    'צח': 98,\n    'צט': 99,\n    'ק': 100,\n    'קא': 101,\n    'קב': 102,\n    'קג': 103,\n    'קד': 104,\n    'קה': 105,\n    'קו': 106,\n    'קז': 107,\n    'קח': 108,\n    'קט': 109,\n    'קי': 110,\n    'קיא': 111,\n    'קיב': 112,\n    'קיג': 113,\n    'קיד': 114,\n    'קטו': 115,\n    'קטז': 116,\n    'קיז': 117,\n    'קיח': 118,\n    'קיט': 119,\n    'קכ': 120,\n    'קכא': 121,\n    'קכב': 122,\n    'קכג': 123,\n    'קכד': 124,\n    'קכה': 125,\n    'קכו': 126,\n    'קכז': 127,\n    'קכח': 128,\n    'קכט': 129,\n    'קל': 130,\n    'קלא': 131,\n    'קלב': 132,\n    'קלג': 133,\n    'קלד': 134,\n    'קלה': 135,\n    'קלו': 136,\n    'קלז': 137,\n    'קלח': 138,\n    'קלט': 139,\n    'קמ': 140,\n    'קמא': 141,\n    'קמב': 142,\n    'קמג': 143,\n    'קמד': 144,\n    'קמה': 145,\n    'קמו': 146,\n    'קמז': 147,\n    'קמח': 148,\n    'קמט': 149,\n    'קנ': 150,\n    'קנא': 151,\n    'קנב': 152,\n    'קנג': 153,\n    'קנד': 154,\n    'קנה': 155,\n    'קנו': 156,\n    'קנז': 157,\n    'קנח': 158,\n    'קנט': 159,\n    'קס': 160,\n    'קסא': 161,\n    'קסב': 162,\n    'קסג': 163,\n    'קסד': 164,\n    'קסה': 165,\n    'קסו': 166,\n    'קסז': 167,\n    'קסח': 168,\n    'קסט': 169,\n    'קע': 170,\n    'קעא': 171,\n    'קעב': 172,\n    'קעג': 173,\n    'קעד': 174,\n    'קעה': 175,\n    'קעו': 176,\n    'קעז': 177,\n    'קעח': 178,\n    'קעט': 179,\n    'קפ': 180,\n    'קפא': 181,\n    'קפב': 182,\n    'קפג': 183,\n    'קפד': 184,\n    'קפה': 185,\n    'קפו': 186,\n    'קפז': 187,\n    'קפח': 188,\n    'קפט': 189,\n    'קצ': 190,\n    'קצא': 191,\n    'קצב': 192,\n    'קצג': 193,\n    'קצד': 194,\n    'קצה': 195,\n    'קצו': 196,\n    'קצז': 197,\n    'קצח': 198,\n    'קצט': 199,\n    'ר': 200,\n}\n\nexport const hebrewToIndoArabic = (hebrew_number: string): number => {\n    hebrew_number = hebrew_number.trim()\n    // first try cardinal numbers\n    let translate = hebrewCardinalNumbers[hebrew_number]\n    if (translate === undefined)\n        // second try ordinal numbers\n        translate = hebrewOrdinalToIndoArabic(hebrew_number)\n    return translate\n\n}\n\nexport const hebrewOrdinalsNumbers: TableHebrewToIndo = {\n    'א׳': 1,\n    'ב׳': 2,\n    'ג׳': 3,\n    'ד׳': 4,\n    'ה׳': 5,\n    'ו׳': 6,\n    'ז׳': 7,\n    'ח׳': 8,\n    'ט׳': 9,\n    'י׳': 10,\n    'י״א': 11,\n    'י״ב': 12,\n    'י״ג': 13,\n    'י״ד': 14,\n    'ט״ו': 15,\n    'ט״ז': 16,\n    'י״ז': 17,\n    'י״ח': 18,\n    'י״ט': 19,\n    'כ׳': 20,\n    'כ״א': 21,\n    'כ״ב': 22,\n    'כ״ג': 23,\n    'כ״ד': 24,\n    'כ״ה': 25,\n    'כ״ו': 26,\n    'כ״ז': 27,\n    'כ״ח': 28,\n    'כ״ט': 29,\n    'ל׳': 30,\n    'ל״א': 31,\n    'ל״ב': 32,\n    'ל״ג': 33,\n    'ל״ד': 34,\n    'ל״ה': 35,\n    'ל״ו': 36,\n    'ל״ז': 37,\n    'ל״ח': 38,\n    'ל״ט': 39,\n    'מ׳': 40,\n    'מ״א': 41,\n    'מ״ב': 42,\n    'מ״ג': 43,\n    'מ״ד': 44,\n    'מ״ה': 45,\n    'מ״ו': 46,\n    'מ״ז': 47,\n    'מ״ח': 48,\n    'מ״ט': 49,\n    'נ׳': 50,\n    'נ״א': 51,\n    'נ״ב': 52,\n    'נ״ג': 53,\n    'נ״ד': 54,\n    'נ״ה': 55,\n    'נ״ו': 56,\n    'נ״ז': 57,\n    'נ״ח': 58,\n    'נ״ט': 59,\n    'ס׳': 60,\n    'ס״א': 61,\n    'ס״ב': 62,\n    'ס״ג': 63,\n    'ס״ד': 64,\n    'ס״ה': 65,\n    'ס״ו': 66,\n    'ס״ז': 67,\n    'ס״ח': 68,\n    'ס״ט': 69,\n    'ע׳': 70,\n    'ע״א': 71,\n    'ע״ב': 72,\n    'ע״ג': 73,\n    'ע״ד': 74,\n    'ע״ה': 75,\n    'ע״ו': 76,\n    'ע״ז': 77,\n    'ע״ח': 78,\n    'ע״ט': 79,\n    'פ׳': 80,\n    'פ״א': 81,\n    'פ״ב': 82,\n    'פ״ג': 83,\n    'פ״ד': 84,\n    'פ״ה': 85,\n    'פ״ו': 86,\n    'פ״ז': 87,\n    'פ״ח': 88,\n    'פ״ט': 89,\n    'צ׳': 90,\n    'צ״א': 91,\n    'צ״ב': 92,\n    'צ״ג': 93,\n    'צ״ד': 94,\n    'צ״ה': 95,\n    'צ״ו': 96,\n    'צ״ז': 97,\n    'צ״ח': 98,\n    'צ״ט': 99,\n    'ק׳': 100,\n    'ק״א': 101,\n    'ק״ב': 102,\n    'ק״ג': 103,\n    'ק״ד': 104,\n    'ק״ה': 105,\n    'ק״ו': 106,\n    'ק״ז': 107,\n    'ק״ח': 108,\n    'ק״ט': 109,\n    'ק״י': 110,\n    'קי״א': 111,\n    'קי״ב': 112,\n    'קי״ג': 113,\n    'קי״ד': 114,\n    'קט״ו': 115,\n    'קט״ז': 116,\n    'קי״ז': 117,\n    'קי״ח': 118,\n    'קי״ט': 119,\n    'ק״כ': 120,\n    'קכ״א': 121,\n    'קכ״ב': 122,\n    'קכ״ג': 123,\n    'קכ״ד': 124,\n    'קכ״ה': 125,\n    'קכ״ו': 126,\n    'קכ״ז': 127,\n    'קכ״ח': 128,\n    'קכ״ט': 129,\n    'ק״ל': 130,\n    'קל״א': 131,\n    'קל״ב': 132,\n    'קל״ג': 133,\n    'קל״ד': 134,\n    'קל״ה': 135,\n    'קל״ו': 136,\n    'קל״ז': 137,\n    'קל״ח': 138,\n    'קל״ט': 139,\n    'ק״מ': 140,\n    'קמ״א': 141,\n    'קמ״ב': 142,\n    'קמ״ג': 143,\n    'קמ״ד': 144,\n    'קמ״ה': 145,\n    'קמ״ו': 146,\n    'קמ״ז': 147,\n    'קמ״ח': 148,\n    'קמ״ט': 149,\n}\n\nexport const hebrewOrdinalToIndoArabic = (hebrew_ordinal: string): number => hebrewOrdinalsNumbers[hebrew_ordinal]\n\n","import React, {useContext, useEffect} from 'react'\nimport {makeStyles} from '@material-ui/core/styles';\nimport Colors from \"../../constants/colors\";\nimport Typography from '@material-ui/core/Typography';\nimport {\n    BIBLE_ENGLISH,\n    BIBLE_HEBREW,\n    BIBLE_VERSE,\n    BIBLE_CHAPTER,\n    BIBLE_RENDER_CHAPTER,\n    BIBLE_EN_CM,\n    BIBLE_REFS\n} from \"../../constants/constants\";\nimport RefsBadge from \"../general/RefsBadge\";\nimport {observer} from 'mobx-react-lite';\nimport {storeContext} from '../../stores/context'\nimport {devLog} from \"../messages/devLog\";\nimport {indoArabicToHebrew} from \"../../utils/english-hebrew/numberConvertion\";\n\n\nconst ChapterHeaderVerse = (props) => {\n    const store = useContext(storeContext)\n    const {data, item, gridVisibleRange, paneNumber,  speaking} = props\n    const allBookData = store.getBookData(paneNumber)\n    const lang = store.getLanguage(paneNumber)\n    const classes = useStyles({lang})\n\n    let chapterHtml = null\n    let chapter = data[BIBLE_CHAPTER]\n    let renderChapter = data[BIBLE_RENDER_CHAPTER]\n    let refs_comment = parseInt(data[BIBLE_EN_CM])\n    let ref_halakha = parseInt(data[BIBLE_REFS])\n\n    const onClick = (i) => {\n        if (!store.getIsRightPaneOpen(paneNumber)) {\n            store.setIsRightPaneOpen(!store.getIsRightPaneOpen(paneNumber), paneNumber)\n            store.setDistance(0, paneNumber)\n            store.setCurrentItem(i, paneNumber)\n            return\n        }\n        store.setCurrentItem(i, paneNumber)\n        store.setDistance(i - gridVisibleRange.startIndex, paneNumber)\n    }\n\n    if (renderChapter === \"1\") {\n\n        chapterHtml = (\n            <div className={classes.chapter}>\n                <div className={classes.chapterNumber}>\n                    <Typography className={classes.ch}>{lang === 'he' ? indoArabicToHebrew(chapter) : chapter}</Typography>\n                    <hr/>\n                </div>\n                <div className={classes.references}>\n                    <RefsBadge refsCount={0}/>\n                </div>\n            </div>)\n    }\n\n    const startIndex = gridVisibleRange.startIndex\n    const current = startIndex  + store.getDistance(paneNumber)\n    const found = item === store.getCurrentItem(paneNumber)\n\n    useEffect(() => {\n        // if (allBookData[current] !== undefined) {\n            store.setCommentsChapter(allBookData[current][BIBLE_CHAPTER], paneNumber)\n            store.setCommentsVerse(allBookData[current][BIBLE_VERSE], paneNumber)\n            store.setVerseData(allBookData[current], paneNumber)\n        // }\n    }, [allBookData, paneNumber, store.getCurrentItem(paneNumber)])\n\n    const ChapterBody = () => {\n        switch (lang) {\n            case 'en_he':\n                return (\n                    <>\n                        <div className={classes.verseHe}>\n                            <Typography variant=\"body1\" className={classes.hebrewFont}>{data[BIBLE_HEBREW]}</Typography>\n                        </div>\n                        <div className={classes.verseNumber}>\n                            <Typography className={classes.vn}>{data[BIBLE_VERSE]}</Typography>\n                        </div>\n                        <div className={classes.verseEn}>\n                            <Typography variant=\"body1\" className={classes.englishFont}>{data[BIBLE_ENGLISH]}</Typography>\n                        </div>\n                        <div className={classes.references}>\n                            <RefsBadge refsCount={refs_comment}/>\n                            <RefsBadge refsCount={ref_halakha} color=\"action\"/>\n\n                        </div>\n                    </>\n                )\n            case 'he':\n                return (\n                    <>\n                        <div className={classes.references}>\n                            <RefsBadge refsCount={refs_comment} color=\"primary\"/>\n                            <RefsBadge refsCount={ref_halakha} color=\"secondary\"/>\n                        </div>\n                        <div className={classes.verseHe}>\n                            <Typography className={classes.hebrewFont}>{data[BIBLE_HEBREW]}</Typography>\n                        </div>\n\n                        <div className={classes.verseNumber}>\n                            <Typography className={classes.vn}>{indoArabicToHebrew(data[BIBLE_VERSE])}</Typography>\n                        </div>\n                    </>\n                )\n            case 'en':\n                return (\n                    <>\n                        <div className={classes.verseNumber}>\n                            <Typography className={classes.vn}>{data[BIBLE_VERSE]}</Typography>\n                        </div>\n                        <div className={classes.verseEn}>\n                            <Typography className={classes.englishFont}>{data[BIBLE_ENGLISH]}</Typography>\n                        </div>\n                        <div className={classes.references}>\n                            <RefsBadge refsCount={refs_comment}/>\n                            <RefsBadge refsCount={ref_halakha} color=\"secondary\"/>\n                        </div>\n                    </>\n                )\n            default: {\n                devLog(`Unknown language: ${lang}`)\n            }\n        }\n    }\n    return (\n        <div className={classes.verse}>\n            {chapterHtml}\n            <div className={`${classes.textContainer} ${(found? classes.selectVerse : '')}`}\n                 onClick={onClick.bind(this, item)}>\n                <ChapterBody/>\n            </div>\n\n        </div>\n    )\n}\n\n\nconst useStyles = makeStyles(() => ({\n\n    textContainer: {\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        flexWrap: 'wrap',\n        justifyContent: 'center',\n        alignItems: 'top',\n        // \"&:hover\": {\n        //     background: Colors['verseOnMouseOver']\n        // },\n    },\n    chapter: {\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        flexWrap: 'wrap',\n        justifyContent: 'center',\n        alignItems: 'center',\n        cursor: 'default',\n    },\n    chapterTitle_he: {\n        maxWidth: '35%',\n        minWidth: '35%',\n        margin: 10,\n    },\n    he: {\n        fontSize: 22,\n        direction: ((props) => props.lang === 'he' ? 'RTL' : 'LTR'),\n        textDecoration: 'underline',\n        textDecorationColor: Colors['underline'],\n    },\n    en: {\n        fontSize: 22,\n        textDecoration: 'underline',\n        textDecorationColor: Colors['underline'],\n    },\n    ch: {\n        fontSize: 18,\n        color: Colors['gray'],\n        direction: 'RTL',\n        fontFamily: 'SBL Hebrew'\n    },\n    chapterTitle_en: {\n        maxWidth: '35%',\n        minWidth: '35%',\n        margin: 10,\n    },\n    chapterNumber: {\n        minWidth: '5%',\n        margin: 10,\n        textAlign: 'center',\n        verticalAlign: 'text-top',\n        fontSize: 20,\n        color: Colors['gray']\n    },\n    verseHe: {\n        maxWidth: ((props) => props.lang === 'he' ? '45%' : '35%'),\n        minWidth: ((props) => props.lang === 'he' ? '45%' : '35%'),\n        textAlign: 'right',\n        verticalAlign: 'center',\n        margin: 10,\n        fontFamily: 'SBL Hebrew',\n        fontSize: '21px',\n    },\n    verseNumber: {\n        margin: 10,\n        maxWidth: '5%',\n        minWidth: '5%',\n        textAlign: 'center',\n        alignSelf: 'center',\n    },\n    vn: {\n        fontSize: 12,\n        color: Colors['gray'],\n        direction: ((props) => props.lang === 'he' ? 'RTL' : 'LTR')\n    },\n    verse: {\n        cursor: 'pointer',\n    },\n    verseEn: {\n        maxWidth: ((props) => props.lang === 'en' ? '45%' : '35%'),\n        minWidth: ((props) => props.lang === 'en' ? '45%' : '35%'),\n        textAlign: 'left',\n        verticalAlign: 'text-top',\n        margin: 10,\n        fontSize: '21px',\n    },\n    hebrewFont: {\n        direction: 'RTL',\n        fontFamily: 'SBL Hebrew',\n        fontSize: 21,\n    },\n    englishFont: {\n        direction: 'LTR',\n        fontFamily: 'SBL Hebrew',\n        fontSize: 21,\n    },\n    selectVerse: {\n        backgroundColor: Colors['bibleSelectedVerse']\n    },\n    references: {\n        cursor: 'pointer',\n        alignSelf: 'center',\n        maxWidth: '5%',\n    },\n    playButton: {\n        cursor: 'pointer',\n        position: 'absolute',\n        minWidth: '50',\n    },\n}))\n\nexport default observer(ChapterHeaderVerse)","import React, {FC, useContext} from \"react\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport {observer} from \"mobx-react-lite\"\nimport {makeStyles} from '@material-ui/core/styles'\nimport {LANGUAGE_KEY, LANGUAGE_SYMBOL} from \"../../constants/constants\"\nimport {storeContext} from \"../../stores/context\"\n\ninterface langButton {\n    paneNumber:number\n}\n\nconst LanguageButton:FC<langButton> = ({paneNumber}) => {\n    const store = useContext(storeContext)\n    const classes = useStyles()\n\n    const onClick =()=>{\n        store.nextLanguage(paneNumber)\n    }\n\n    return <IconButton\n        aria-label=\"select language\"\n        component=\"span\"\n        className={classes.langButton}\n        onClick={onClick}>\n        {LANGUAGE_SYMBOL[LANGUAGE_KEY[store.getLanguage(paneNumber)]]}\n    </IconButton>\n\n}\n\nconst useStyles = makeStyles((theme) => ({\n    langButton: {\n        minWidth: 48,\n        minHeight: 48,\n        fontFamily: \"SBL Hebrew\",\n        fontSize: 18,\n        lineHeight: 0,\n        padding: 1,\n    }\n}));\n\nexport default observer(LanguageButton)","import React, {FC} from \"react\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {ButtonProps} from './types';\n\n\nexport const CloseButton: FC<ButtonProps> = ({onClick, color = \"inherit\"}) =>\n    <IconButton aria-label=\"Close\"\n                component=\"span\"\n                color={color}\n                onClick={onClick}>\n        <CloseIcon/>\n    </IconButton>\n\n","import React, {useContext} from 'react'\nimport Colors from '../../constants/colors';\nimport {Typography} from '@material-ui/core';\nimport {englishBookNameToHebrew, unslug} from '../../utils/utils'\nimport {indoArabicToHebrewCardinal} from '../../utils/english-hebrew/numberConvertion'\nimport {Grid} from '@material-ui/core';\nimport {makeStyles} from '@material-ui/core/styles'\nimport {storeContext} from \"../../stores/context\";\nimport LanguageButton from \"../buttons/LanguageButton\";\nimport {CloseButton} from \"../buttons/CloseButton\";\nimport {devLog} from \"../messages/devLog\";\nimport {TextToSpeechButton} from \"../buttons/textToSpeechButton\";\n\n\nconst RenderHeader = ({\n                          book,\n                          paneNumber,\n                          chapter,\n                          onClosePane,\n                          flip,\n                          onSpeakOnOffHe,\n                          onSpeakOnOffEn\n                      }) => {\n\n    const store = useContext(storeContext)\n    const lang = store.getLanguage(paneNumber)\n    const classes = useStyles({lang})\n\n    const onClose = () => {\n        onClosePane(paneNumber)\n    }\n\n    book = unslug(book)\n\n    const HeaderBody = ({chapter}) => {\n        switch (lang) {\n            case 'en_he':\n                return (\n                    <>\n                        <Grid item xs={3} key={2}>\n                            <Typography className={classes.hebrewBook}>{englishBookNameToHebrew(book)}</Typography>\n                        </Grid>\n                        <Grid item xs={1} key={3}>\n                            <TextToSpeechButton\n                                onClick={onSpeakOnOffHe}\n                                onOff={flip[0]}\n                                />\n                        </Grid>\n                        <Grid item xs={2} key={4}>\n                            <Typography className={classes.chapterView}>{chapter}</Typography>\n                        </Grid>\n                        <Grid className={classes.adjust} item xs={1} key={5}>\n                            <TextToSpeechButton\n                                onClick={onSpeakOnOffEn}\n                                onOff={flip[1]}\n                            />\n                        </Grid>\n                        <Grid item xs={3} key={6}>\n                            <Typography className={classes.englishBook}>{book} </Typography>\n                        </Grid>\n\n                    </>\n                )\n            case 'he':\n                return (\n                    <>\n                        <Grid item xs={9} key={7}>\n                            <Typography className={classes.hebrewBook}>\n                                {englishBookNameToHebrew(book)}\n                                {' '}\n                                {indoArabicToHebrewCardinal(chapter)}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={1} key={8}>\n                            <TextToSpeechButton\n                                onClick={onSpeakOnOffHe}\n                                onOff={flip[0]}\n                            />\n                        </Grid>\n                    </>\n                )\n            case 'en':\n                return (\n                    <>\n                        <Grid item xs={9} key={9}>\n                            <Typography className={classes.englishBook}>\n                                {book}\n                                {' '}\n                                {chapter}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={1} key={10}>\n                            <TextToSpeechButton\n                                onClick={onSpeakOnOffEn}\n                                onOff={flip[1]}\n                                />\n                        </Grid>\n                    </>\n                )\n            default: {\n                devLog(`Unknown language: ${lang}`)\n            }\n        }\n    }\n\n    return (\n        <Grid container className={classes.header} direction=\"row\">\n            <Grid item xs={1} key={0}>\n                <CloseButton onClick={onClose}/>\n            </Grid>\n            <HeaderBody chapter={chapter}/>\n            <Grid item xs={1} key={1}>\n                <LanguageButton paneNumber={paneNumber}/>\n            </Grid>\n        </Grid>\n    )\n\n\n}\n\n\nconst useStyles = makeStyles((theme) => ({\n    header: {\n        flexGrow: 1,\n        minHeight: 50,\n        maxHeight: 50,\n        width: '100%',\n        backgroundColor: Colors['rightPaneBackGround'],\n        textAlign: 'center',\n    },\n    hebrewBook: {\n        textAlign: ((props) => props.lang === 'he' ? 'center' : 'right'),\n        verticalAlign: 'middle',\n        direction: 'rtl',\n        fontFamily: 'SBL Hebrew',\n        paddingTop: 10,\n        [theme.breakpoints.down('sm')]: {\n            marginRight: -5,\n        },\n\n    },\n    center: {\n        maxWidth: '31.5%',\n    },\n    adjust: {\n        [theme.breakpoints.down('sm')]: {\n            marginLeft: '-23px',\n            marginRight: 8,\n        },\n    },\n    chapterView: {\n        textAlign: 'center',\n        verticalAlign: 'middle',\n        paddingRight: 23,\n        paddingTop: 10,\n        [theme.breakpoints.down('sm')]: {\n            paddingRight: 10,\n        },\n    },\n    englishBook: {\n        verticalAlign: 'middle',\n        textAlign: ((props) => props.lang === 'en' ? 'center' : 'left'),\n        paddingTop: 10,\n        paddingLeft: 30,\n        [theme.breakpoints.down('sm')]: {\n            paddingLeft: ((props) => props.lang === 'en' ? 33 : 0),\n        },\n\n    },\n\n}));\n\nexport default RenderHeader","import {makeAutoObservable, observable} from \"mobx\"\n\n\nclass TextToSpeech {\n\n    synthesise: any = null\n    paused: boolean = false\n    resumed: boolean = false\n    error: boolean = false\n    started: boolean = false\n    ended: boolean = false\n    voice: any[] = []\n    language: string = \"en\"\n    // should call callback\n    canceled: boolean = false\n\n    constructor() {\n        makeAutoObservable(this, {\n            synthesise: observable,\n            paused: observable,\n            resumed: observable,\n            error: observable,\n            started: observable,\n            ended: observable,\n            voice: observable,\n            language: observable,\n            canceled: observable\n        })\n\n        new Promise(resolve => window.speechSynthesis.onvoiceschanged = resolve)\n            .then(() => {\n                let voices = window.speechSynthesis.getVoices()\n                this.setVoice([\n                    voices.findIndex(v => v.name === 'Daniel'),\n                    voices.findIndex(v => v.name === 'Carmit')\n                ])\n            })\n            .catch((e) => console.log(e.message))\n\n    }\n\n    setLanguage = (language: string): void => {\n        this.language = language\n    }\n\n    setVoice = (voice: any[]): void => {\n        this.voice = voice\n    }\n\n    getVoice = (): number => this.voice[this.getIndex()]\n\n    getLanguage = (): string => this.language\n\n    getIndex = (): number => (this.language === 'en' ? 0 : 1)\n\n    play = (data: Array<any>, callback: Function): void => {\n        this.synthesise = new SpeechSynthesisUtterance(data[this.getIndex()])\n        this.synthesise.voice = window.speechSynthesis.getVoices()[this.getVoice()]\n        this.synthesise.volume = 10\n        this.synthesise.pitch = 1\n        this.synthesise.rate = 0.7\n\n        this.synthesise.onend = () => {\n            this.started = false\n            this.error = false\n            this.resumed = false\n            this.paused = false\n            this.ended = true\n            if (!this.canceled) {\n                callback()\n            }\n        }\n\n        this.synthesise.onpause = () => {\n        }\n\n        this.synthesise.onresume = () => {\n            this.resumed = true\n            this.paused = false\n        }\n\n        this.synthesise.onerror = () => this.error = true\n\n        this.synthesise.onstart = () => {\n            this.started = true\n            this.error = false\n            this.resumed = false\n            this.paused = this.synthesise.paused\n            this.canceled = false\n        }\n        speechSynthesis.speak(this.synthesise)\n    }\n\n    pause = (): void => {\n        this.resumed = false\n        this.paused = true\n        speechSynthesis.pause()\n    }\n\n    cancel = (): void => {\n        this.canceled = true\n        speechSynthesis.cancel()\n    }\n\n    resume = (): void => {\n        this.resumed = true\n        this.paused = false\n        speechSynthesis.resume()\n    }\n\n    getPlaying = (): boolean => window.speechSynthesis.speaking\n\n    getPaused = (): boolean => this.paused\n\n    getResumed = (): boolean => this.resumed\n\n    getStarted = (): boolean => this.started\n\n    getEnded = (): boolean => this.ended\n\n}\n\nconst ttSpeechStore = () => {\n    return new TextToSpeech()\n}\n\nexport default ttSpeechStore\n","import React,{createContext} from 'react';\nimport {useLocalObservable} from 'mobx-react-lite';\nimport ttSpeechStore from './ttSpeech';\n\nexport const speechContext = createContext();\n\nconst SpeechProvider = ({children}) => {\n    const data = useLocalObservable(ttSpeechStore);\n    return (\n        <speechContext.Provider value={data}>\n            {children}\n        </speechContext.Provider>\n    )\n}\n\nexport default SpeechProvider;","import React, {useContext, useEffect, useRef, useState} from 'react'\nimport {Virtuoso} from 'react-virtuoso'\nimport ChapterHeaderVerse from './ChapterHeaderVerse'\nimport RenderHeader from './RenderHeader'\nimport {observer} from 'mobx-react-lite'\nimport {storeContext} from \"../../stores/context\";\nimport {speechContext} from \"../../stores/ttspeechContext\";\nimport {versesByBibleBook} from \"../../constants/constants\";\n\n\nconst RenderTextGrid = ({paneNumber, onClosePane}) => {\n    const store = useContext(storeContext)\n    const speech = useContext(speechContext)\n    const book = store.getBook(paneNumber)\n    const [speaking, setSpeaking] = useState(false)\n    const [flip, setFlip] = useState([false, false])\n    const [gridVisibleRange, setGridVisibleRange] = useState({startIndex: 0, endIndex: 0})\n    const virtuoso = useRef(null)\n\n    const callFromEnded = () => {\n        store.setCurrentItem(store.getCurrentItem(paneNumber) + 1, paneNumber)\n        setTimeout(() => {\n            //     @ts-ignore\n            virtuoso.current.scrollToIndex({\n                index: store.getCurrentItem(paneNumber) ,\n                align: (store.getDistance(paneNumber) <=1 ? 'top': 'center'),\n                behavior: 'smooth',\n            })\n            setSpeaking(() => true)\n        }, 300)\n\n    }\n    const onSpeakOnOffEn = () => {\n        if (speaking) {\n            setSpeaking(false)\n            setFlip([false, false])\n            speech.cancel()\n        } else {\n            setFlip([false, true])\n            speech.setLanguage('en')\n            setSpeaking(true)\n        }\n    }\n\n    const onSpeakOnOffHe = () => {\n        if (speaking) {\n            setSpeaking(false)\n            setFlip([false, false])\n            speech.cancel()\n        } else {\n            setFlip([true, false])\n            speech.setLanguage('he')\n            setSpeaking(true)\n        }\n    }\n\n    useEffect(() => {\n\n        if (speaking) {\n            speech.play(store.getBookData(paneNumber)[store.getCurrentItem(paneNumber)], callFromEnded)\n        }\n\n        return () => {\n            speech.cancel()\n        }\n    }, [store.getCurrentItem(paneNumber), speaking])\n\n    const calculateCurrentChapter = () => {\n        let book = store.getBook(paneNumber)\n        let avg = gridVisibleRange.startIndex + 1\n        let start = 0\n        let end = 0\n        for (let i = 0; i < versesByBibleBook[book].length; i++) {\n            end += versesByBibleBook[book][i]\n            if (avg >= start && avg <= end) {\n                return i + 1\n            }\n            start = end\n        }\n    }\n\n    const itemContent = (item, data) => {\n        return (\n            <ChapterHeaderVerse\n                data={data}\n                item={item}\n                gridVisibleRange={gridVisibleRange}\n                paneNumber={paneNumber}\n                speaking={speaking}\n            />\n        )\n    }\n\n    return (\n        <>\n            <RenderHeader book={book}\n                          paneNumber={paneNumber}\n                          chapter={calculateCurrentChapter()}\n                          onClosePane={onClosePane}\n                          onSpeakOnOffHe={onSpeakOnOffHe}\n                          onSpeakOnOffEn={onSpeakOnOffEn}\n                          flip={flip}\n            />\n\n            <Virtuoso\n                data={store.getBookData(paneNumber)}\n                ref={virtuoso}\n                initialTopMostItemIndex={store.getCurrentItem(paneNumber)}\n                rangeChanged={setGridVisibleRange}\n                itemContent={itemContent}\n                components={{\n                    Footer: () => {\n                        return (\n                            <div style={{padding: '1rem', textAlign: 'center'}}>\n                                Book end.\n                            </div>\n                        )\n                    }\n                }}\n            />\n        </>\n    )\n}\nexport default observer(RenderTextGrid)\n","// translate error messages, in a way that is more user friendly\n// add some action to every error\n\nexport const translateMessage = (error) => {\n    switch (error.message) {\n        case 'Cannot read properties of undefined (reading \\'indexOf\\')':\n            // todo add action where !\n            return 'This Bible reference is unknown! A message was sent to site administrators'\n        default: {\n            // todo add action where !\n            return 'Unknown error message.'\n        }\n    }\n}","import React, {FC} from \"react\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {ButtonProps} from './types';\n\nexport const InfoButton: FC<ButtonProps> = ({onClick, color = \"inherit\"}) =>\n    <IconButton aria-label=\"Close\"\n                component=\"span\"\n                color={color}\n                onClick={onClick}>\n        <InfoIcon/>\n    </IconButton>\n\n","import React, {FC} from \"react\";\nimport TocIcon from \"@material-ui/icons/Toc\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {ButtonProps} from './types';\n\nexport const TocButton: FC<ButtonProps> = ({onClick, color = \"inherit\"}) =>\n    <IconButton aria-label=\"Close\"\n                component=\"span\"\n                color={color}\n                onClick={onClick}>\n        <TocIcon/>\n    </IconButton>\n\n","import React, {FC} from \"react\";\nimport MenuBookButton from \"@material-ui/icons/MenuBook\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {ButtonProps} from './types';\n\n\nexport const BookButton: FC<ButtonProps> = ({onClick, color}) =>\n    <IconButton aria-label=\"Close\"\n                component=\"span\"\n                color={color}\n                onClick={onClick}>\n        <MenuBookButton/>\n    </IconButton>\n\n","import React, {FC} from \"react\";\nimport ShoppingCart from \"@material-ui/icons/ShoppingCart\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {ButtonProps} from './types';\n\n\nexport const BuyButton: FC<ButtonProps> = ({onClick, color}) =>\n    <IconButton aria-label=\"Buy\" style={{color: \"indianred\"}}\n                component=\"span\"\n                color={color}\n                onClick={onClick}>\n        <ShoppingCart/>\n    </IconButton>\n","import React, {FC} from \"react\"\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PauseIcon from '@material-ui/icons/Pause'\nimport PlayArrowIcon from \"@material-ui/icons/PlayArrow\"\nimport FastRewindIcon from '@material-ui/icons/FastRewind';\nimport {ButtonPlayProps} from './types';\n\n\nexport const PlayPauseReset: FC<ButtonPlayProps> = ({onClick, onReset, playing, color}) => {\n\n    return (\n        <span>\n            <IconButton aria-label=\"Play pause song\"\n                        component=\"span\"\n                        color={color}\n                        onClick={onClick}>\n\n                {(playing ? <PauseIcon/> : <PlayArrowIcon/>)}\n            </IconButton>\n            <IconButton aria-label=\"Restart song \"\n                        component=\"span\"\n                        color={color}\n                        onClick={onReset}>\n                {(playing ? <FastRewindIcon/> : null)}\n            </IconButton>\n    </span>\n    )\n}","import React from \"react\";\nimport {useAudio} from \"../../hooks/useAudio\";\nimport {PlayPauseReset} from '../../buttons/playPauseReset'\n\n\nexport const BasicAudioPlayer = ({song}) => {\n    const [playing, toggle, reset] = useAudio(song);\n    return <PlayPauseReset onClick={toggle} playing={playing} onReset={reset}/>\n}\n","import {useEffect, useState, useMemo} from \"react\";\nimport {apiUrl} from \"../../constants/constants\";\n\nexport const useAudio = (song) => {\n    song = song.replace(/‘/g, '').replace(/e’/g, '').replace(/é/g, '').replace(/e’/g, '')\n\n    const url = `${apiUrl}static-django/audio/${song}`\n\n    const [audio] = useState(useMemo(() => {\n        try {\n            return new Audio(url)\n        } catch (e) {\n            alert('Audio error')\n        }\n    }, [url]))\n\n\n    const [playing, setPlaying] = useState(false);\n\n    const toggle = () => setPlaying(!playing);\n\n    const reset =()=> {\n        setPlaying(false)\n        audio.pause()\n        audio.currentTime = 0\n    }\n\n    useEffect(() => {\n            playing ? audio.play() : audio.pause();\n        },\n        [playing,audio]\n    );\n\n    useEffect(() => {\n        audio.addEventListener('ended', () => setPlaying(false));\n        return () => {\n            audio.removeEventListener('ended', () => setPlaying(false));\n            audio.pause()\n            audio.currentTime = 0\n        };\n    } );\n\n    return [playing, toggle, reset];\n};\n\n","import React, {FC, MouseEvent, MouseEventHandler, useState} from 'react'\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport {SongList} from './types';\nimport {BasicAudioPlayer} from '../audio/audio-player/basic-audio-player';\nimport PlaylistPlayIcon from '@material-ui/icons/PlaylistPlay';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {removeExtension} from '../../utils/utils';\n\n\nexport const MusicSelect: FC<SongList> = ({songs}) => {\n    const [anchorEl, setAnchorEl] = useState<null | HTMLButtonElement>(null);\n    const [song, setSong] = useState<string>('');\n    if (songs.length === 0) return null\n    if (songs.length === 1) return <BasicAudioPlayer song={songs[0]}/>\n\n    const selectSong = (index:number) => {\n        setAnchorEl(null)\n        setSong(songs[index] as unknown as string)\n    }\n    const onClick = (event: MouseEvent<HTMLButtonElement>) => {\n        setAnchorEl(event.currentTarget);\n    }\n\n    if(song !='') {\n        return <BasicAudioPlayer song={song}/>\n    }\n\n    return (\n        <span>\n            <IconButton aria-label=\"Open music selector\" aria-controls=\"select-music\" onClick={onClick}>\n                <PlaylistPlayIcon aria-controls=\"Select music from list\"/>\n            </IconButton>\n            <Menu\n                id=\"select-music\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={selectSong}>\n                {songs.map((song, index) => <MenuItem key={index} onClick={()=>{selectSong(index)}}>{removeExtension(song as unknown as string)}</MenuItem>)}\n            </Menu>\n        </span>\n    )\n}","import React, {useContext, FC, useState, MouseEventHandler} from 'react'\nimport {makeStyles} from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport {Grid} from '@material-ui/core'\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {unslug} from '../../utils/utils'\nimport Colors from '../../constants/colors'\n// import {observer} from 'mobx-react-lite'\nimport {storeContext} from '../../stores/context'\nimport {CloseButton} from \"../buttons/CloseButton\";\nimport {InfoButton} from \"../buttons/InfoButton\";\nimport {TocButton} from '../buttons/TocButton';\nimport {BookButton} from '../buttons/BookButton';\nimport {BuyButton} from '../buttons/BuyButton';\nimport {MusicSelect} from '../buttons/music-select';\n\ninterface IProps {\n    paneNumber: number,\n    onClosePane: Function\n    onIntroClick: Function,\n    onTocClick: Function,\n    onBookClick: Function,\n    details: any,\n}\n\nconst KaraitesPaneHeader: FC<IProps> = ({\n                                            paneNumber,\n                                            onClosePane,\n                                            onIntroClick,\n                                            onTocClick,\n                                            onBookClick,\n                                            details\n                                        }) => {\n\n    const store = useContext(storeContext)\n    const classes = resources()\n    const matches = useMediaQuery('(min-width:600px)');\n    const direction = (matches ? 'row' : 'column')\n    const xsColumns1 = (matches ? 5 : 12)\n    const xsColumns2 = (matches ? 4 : 12)\n\n\n    const onClose = () => {\n        onClosePane(paneNumber)\n    }\n    const onIntro = () => {\n        onIntroClick(paneNumber)\n    }\n    const onToc = () => {\n        onTocClick(paneNumber)\n    }\n    const onBook = () => {\n        onBookClick(paneNumber)\n    }\n    const onBuy = () => {\n        window.open(details.buy_link)\n    }\n    return (\n        <Grid container\n              direction={direction}\n              className={classes.resources}\n              justifyContent=\"flex-start\"\n              alignItems=\"center\"\n              spacing={1}>\n\n            <Grid item xs={xsColumns1}>\n                <CloseButton onClick={onClose}/>\n                <InfoButton onClick={onIntro}/>\n                <TocButton onClick={onToc}/>\n                <BookButton onClick={onBook}/>\n                <MusicSelect songs={details.songs_list}/>\n                {(details.buy_link === '' ? null : <BuyButton onClick={onBuy}/>)}\n\n            </Grid>\n\n            <Grid item xs={xsColumns2}>\n                <Typography>{unslug(store.getBook(paneNumber))}</Typography>\n            </Grid>\n        </Grid>\n    )\n}\n\nconst resources = makeStyles({\n    resources: {\n        minHeight: 50,\n        backgroundColor: Colors['headerBackgroundColor'],\n        padding: 0,\n        marginRight: 0,\n    },\n    iconGrid: {\n        margin: 0,\n        padding: 0,\n\n    },\n    iconButton: {\n        marginRight: 12\n    },\n\n})\n\nexport default KaraitesPaneHeader","import React, {useContext, useState, useRef, FC, MouseEventHandler} from 'react'\nimport {makeStyles} from '@material-ui/core/styles'\nimport {Virtuoso} from 'react-virtuoso'\nimport {TableVirtuoso} from 'react-virtuoso'\nimport KaraitePaneHeader from './KaraitePaneHeader';\nimport transform from '../../utils/transform'\nimport '../../css/_comments.css'\nimport Colors from '../../constants/colors'\nimport {TRANSFORM_TYPE} from '../../constants/constants'\nimport parse from 'html-react-parser'\nimport {storeContext} from \"../../stores/context\";\nimport {Button} from '@material-ui/core';\n\nconst HTML = 2\nconst BOOK = 0\nconst TOC = 1\nconst INTRO = 2\nconst SUBJECT = 0\nconst INDEX = 1\nconst START_PARAGRAPH = 2\n\ninterface KaraitesBooksInterface {\n    paneNumber: number,\n    refClick: MouseEventHandler,\n    paragraphs: Array<any>,\n    details: any,\n    type: string,\n    onClosePane: MouseEventHandler,\n}\n\ninterface TableBook {\n    initial: number,\n}\n\nconst KaraitesBooks: FC<KaraitesBooksInterface> = ({\n                                                       paneNumber,\n                                                       refClick,\n                                                       paragraphs,\n                                                       details,\n                                                       type,\n                                                       onClosePane,\n                                                   }) => {\n\n    const store = useContext(storeContext)\n    // book, intro, toc\n    const [flags, setFlags] = useState<Array<boolean>>([true, false, false])\n    const classes = useStyles()\n    const virtuoso = useRef(null);\n\n    const onIntroClick = () => {\n        setFlags([false, false, true])\n    }\n\n    const onTocClick = () => {\n        setFlags([false, true, false])\n    }\n\n    const onBookClick = () => {\n        setFlags([true, false, false])\n    }\n\n    const onButtonClick = (starParagraph: number) => {\n        setFlags([true, false, false])\n        // only works this way because the virtuoso is not re-rendered\n        setTimeout(() => {\n            // @ts-ignore\n            virtuoso.current.scrollToIndex(starParagraph - 1, {\n                align: 'top',\n                behavior: 'smooth',\n            })\n        }, 100)\n    }\n\n    const selectCurrent = (item: number): boolean => {\n        if (store.panes.length === 1) {\n            return false\n        }\n        return store.getCurrentItem(paneNumber) === item\n    }\n\n\n    const itemTable = (item: number, data: Array<any>) => {\n\n        return (\n            <tr>\n                {parse(data[HTML][0], {\n                    replace: domNode => {\n                        return transform(refClick, item, TRANSFORM_TYPE, paneNumber, domNode)\n                    }\n                })}\n                {parse(data[HTML][2], {\n                    replace: domNode => {\n                        return transform(refClick, item, TRANSFORM_TYPE, paneNumber, domNode)\n                    }\n                })}\n            </tr>\n        )\n\n    }\n    const itemContent = (item: number, data: Array<any>) => {\n        return (\n            <div className={`${classes.paragraphContainer} ${selectCurrent(item) ? classes.selected : ''}`}>\n                <div className={(type !== 'liturgy' ? classes.paragraph : classes.liturgy)}>\n                    {parse(data[HTML][0], {\n                        replace: domNode => {\n                            return transform(refClick, item, TRANSFORM_TYPE, paneNumber, domNode)\n                        }\n                    })}\n                </div>\n            </div>\n        )\n    }\n\n    const itemIntroduction = (item: number, data: string) => {\n        return (<div className={`${classes.paragraphContainer} ${selectCurrent(item) ? classes.selected : ''}`}>\n            <div className={(type !== 'liturgy' ? classes.paragraph : classes.liturgy)}>\n                {parse(data, {\n                    replace: domNode => {\n                        return transform(refClick, item, TRANSFORM_TYPE, paneNumber, domNode)\n                    }\n                })}\n            </div>\n        </div>)\n    }\n\n    const itemToc = (item: number, data: any) => {\n        if (data[INDEX] === '') {\n            // one column TOC\n            return (<div className={`${classes.tocParagraph} ${selectCurrent(item) ? classes.selected : ''}`}>\n                <p className={classes.tocItem} style={{direction: details.direction}} onClick={onButtonClick.bind(this, data[START_PARAGRAPH])}>\n                    {data[SUBJECT]}\n                </p>\n            </div>)\n        }\n\n\n        // 2 columns TOC\n        return (<div className={`${classes.paragraphContainer} ${selectCurrent(item) ? classes.selected : ''}`}>\n            <div className={(type !== 'liturgy' ? classes.paragraph : classes.liturgy)}>\n                <Button className={classes.tocButton} onClick={onButtonClick.bind(this, data[START_PARAGRAPH])}>\n                    <div className={classes.heLeft}>\n                        <p className={classes.he}>{data[INDEX]}</p>\n                    </div>\n                    <div className={classes.filler}>\n                    </div>\n                    <div className={classes.enRight}>\n                        <p className={classes.en}>{data[SUBJECT]}</p>\n                    </div>\n                </Button>\n            </div>\n        </div>)\n    }\n\n    const TableBook: FC<TableBook> = ({initial}) => {\n\n        if (details.table_book) {\n            const tableBook = 'table-book'\n            return (\n                <TableVirtuoso\n                    className={`${tableBook}  ${(flags[BOOK] ? classes.Show : classes.Hide)}`}\n                    data={paragraphs}\n                    ref={virtuoso}\n                    initialTopMostItemIndex={initial}\n                    itemContent={itemTable}\n                />\n            )\n        } else {\n            return (\n                <Virtuoso className={(flags[BOOK] ? classes.Show : classes.Hide)}\n                          data={paragraphs}\n                          ref={virtuoso}\n                          initialTopMostItemIndex={initial}\n                          itemContent={itemContent}\n                />\n            )\n        }\n    }\n    if (details.book_title_en === undefined) return null\n\n    // initial can't be negative\n    const topItem: number = store.getCurrentItem(paneNumber) - 1\n    const initial: number = (topItem > 0 ? topItem : 0)\n\n    const intro = (details.intro === undefined ? [''] : [details.intro])\n    const toc = (details.toc === undefined ? [''] : details.toc)\n\n\n    return (\n        <>\n            <KaraitePaneHeader paneNumber={paneNumber}\n                               onClosePane={onClosePane}\n                               onIntroClick={onIntroClick}\n                               onTocClick={onTocClick}\n                               onBookClick={onBookClick}\n                               details={details}\n            />\n            <TableBook initial={initial}/>\n\n            <Virtuoso className={`${(flags[TOC] ? classes.Show : classes.Hide)} ${classes.toc}`}\n                      data={toc}\n                      initialTopMostItemIndex={0}\n                      itemContent={itemToc}\n                      components={{\n                          Footer: () => {\n                              return (\n                                  <div style={{padding: '1rem', textAlign: 'center'}}>\n                                      Table of Contents end.\n                                  </div>\n                              )\n                          }\n                      }}/>\n            <Virtuoso className={`${(flags[INTRO] ? classes.Show : classes.Hide)} ${classes.head}`}\n                      data={intro}\n                      initialTopMostItemIndex={0}\n                      itemContent={itemIntroduction}/>\n        </>\n    )\n}\n\nconst useStyles = makeStyles(() => ({\n        virtuoso: {\n            top: 70,\n            position: 'fixed',\n            width: '100%',\n            height: '200%',\n            alignContent: 'center',\n        },\n        paragraphContainer: {\n            fontFamily: 'SBL Hebrew',\n            \"&:hover\": {\n                background: Colors['bibleSelectedVerse']\n            },\n            width: '100%',\n        },\n        paragraph: {\n            fontFamily: 'SBL Hebrew',\n            fontSize: '21',\n            paddingLeft: 20,\n            paddingRight: 20,\n            maxWidth: 600,\n            margin: 'auto',\n        },\n        liturgy: {\n            display: 'flex',\n            flexDirection: 'column',\n            alignContent: 'center',\n            justifyContent: 'center',\n        },\n        paragraphContainerHeEn: {\n            paddingLeft: 20,\n            paddingRight: 20,\n            width: 'auto',\n            margin: 'auto',\n            direction: 'rtl',\n        },\n        tocParagraph: {\n            \"&:hover\": {\n                background: Colors['bibleSelectedVerse']\n            },\n            fontFamily: 'SBL Hebrew',\n            maxWidth: '100%',\n            marginLeft: '10%',\n            marginRight: '10%',\n            fontSize: '21px',\n            lineHeight: 'initial',\n            direction: 'rtl'\n        },\n        tocItem: {\n            cursor: 'pointer',\n        },\n        hebrew: {\n            float: 'left',\n        },\n        english: {\n            float: 'right',\n        },\n        selected: {\n            backgroundColor: Colors['rulerColor']\n        },\n        Hide: {\n            display: 'none',\n        },\n        Show: {\n            display: 'block',\n        },\n        heLeft: {\n            fontFamily: 'SBL Hebrew',\n            float: 'left',\n            direction: 'rtl',\n            textAlign: 'right',\n            lineHeight: 'initial',\n            fontSize: '20.35px',\n            verticalAlign: 'top',\n            width: '100%',\n            // border: '1px solid red',\n        },\n        filler: {\n            width: '0',\n        },\n        heRight: {\n            fontFamily: 'SBL Hebrew',\n            lineHeight: 'initial',\n            float: 'right',\n            textAlign: 'right',\n            verticalAlign: 'top'\n        },\n        enRight: {\n            textAlign: 'left',\n            direction: 'ltr',\n            marginLeft: 15,\n            fontSize: 21,\n            width: '100%',\n            verticalAlign: 'top',\n            fontFamily: 'SBL Hebrew',\n            lineHeight: 'initial',\n            // border: '1px solid blue',\n        },\n        heRightCenter: {\n            direction: 'rtl',\n            border: '1px solid red',\n            textAlign: 'right',\n            minWidth: '100%',\n        },\n        he: {\n            direction: 'rtl',\n        },\n        en: {\n            direction: 'ltr',\n        },\n        head: {},\n        toc: {\n            top: 70,\n            minWith: '80%',\n        },\n        tocButton: {\n            textTransform: 'none',\n            width: '100%',\n        },\n    }))\n\n\n    export default KaraitesBooks","import {calculateItemNumber, makeBookUrl} from '../utils/utils';\nimport {bookChapterUrl, chaptersByBibleBook, karaitesBookUrl} from '../constants/constants';\n\nconst PARAGRAPHS = 0\nconst BOOK_DETAILS = 1\n\n\nconst fetchData = async (paneNumber, store, url, type) => {\n    try {\n        store.setLoading(true)\n        const response = await fetch(url)\n\n        if (response.ok) {\n            const data = await response.json()\n            if (type === 'bible') {\n                store.setBookData(data.chapter, paneNumber)\n            } else {\n                store.setParagraphs(data[PARAGRAPHS][0], paneNumber)\n                store.setBookDetails(data[BOOK_DETAILS], paneNumber)\n            }\n            store.setLoading(false)\n        }\n    } catch (e) {\n        store.setMessage(\"Error: \" + e.message)\n    } finally {\n        store.setLoading(false)\n    }\n}\n\nconst getBook = async (book, chapter, verse, highlight, type, store) => {\n    type = type.toLowerCase()\n    let url = ''\n    if (!store.isPaneOpen(book, chapter, verse)) {\n        if (type === \"bible\") {\n            store.setPanes({\n                book: book,\n                chapter: parseInt(chapter) - 1,\n                verse: verse,\n                bookData: [],\n                highlight: [],\n                type: type,\n                verseData: [],\n                commentTab: 0,\n                comments: [],\n                commentsChapter: 0,\n                commentsVerse: 0,\n                isRightPaneOpen: false,\n                references: [],\n                distance: 0,\n                currentItem: calculateItemNumber(book, chapter, verse),\n                rightPaneState: [],\n                rightPaneStateHalakhah: 1,\n                languages: ['en_he', 'he', 'en'],\n            })\n            console.log('Item', calculateItemNumber(book, chapter, verse))\n            url = makeBookUrl(bookChapterUrl, book, chaptersByBibleBook[book], '0', false)\n\n        } else {\n            store.setPanes({\n                book: book,\n                chapter: parseInt(chapter) - 1,\n                verse: verse,\n                paragraphs: [],\n                book_details: [],\n                TOC: [],\n                highlight: [],\n                type: type,\n                currentItem: chapter,\n                languages: ['he', 'en'],\n            })\n            url = `${karaitesBookUrl}${store.getBook(store.panes.length - 1)}/${999999}/${0}/`\n        }\n        await fetchData(store.panes.length - 1, store, url, type)\n    }\n}\n\nexport default getBook","import React, {useContext} from 'react'\nimport {makeStyles} from '@material-ui/core/styles'\nimport {Grid} from '@material-ui/core';\nimport {parseBiblicalReference} from '../utils/parseBiblicalReference';\nimport {observer} from 'mobx-react-lite'\nimport RightPane from './panes/RightPane';\nimport RenderText from './tanakh/RenderText'\nimport {capitalize, makeRandomKey} from '../utils/utils';\nimport {useHistory, useParams} from 'react-router-dom';\nimport {TRANSFORM_TYPE} from '../constants/constants'\nimport {storeContext} from \"../stores/context\";\nimport {translateMessage} from \"./messages/translateMessages\";\nimport KaraitesBooks from \"./karaites/karaitesBooks\";\nimport getBook from \"./getBook\";\n\n\nconst LoadBook = ({type}) => {\n    const store = useContext(storeContext)\n    const {book, chapter = 1, verse = 1} = useParams()\n    // if type is karaites, chapter is used as start  and verse is ignored\n    const classes = useStyles()\n    let history = useHistory()\n\n    const onClosePane = (paneNumber) => {\n        store.closePane(paneNumber)\n\n        // close all children panes\n        if (paneNumber === 0) {\n            store.resetPanes()\n        }\n\n        if (store.isLastPane) {\n            if (type === 'bible') {\n                history.push(`/Tanakh/`)\n                return\n            }\n            if (type === 'karaites') {\n                history.push(`/Halakhah/`)\n                return\n            }\n\n            history.push(`/${capitalize(type)}/`)\n        }\n    }\n\n\n    const refClick = (item, kind = TRANSFORM_TYPE, paneNumber, e) => {\n        if (item !== undefined) {\n            //store.setCurrentItem(item, paneNumber)\n            //store.setDistance(0, paneNumber)\n        }\n        try {\n            const {refBook, refChapter, refVerse, refHighlight} = parseBiblicalReference(e)\n            let isOpen = store.isPaneOpen(refBook, refChapter, refVerse)\n            if (isOpen) {\n                store.setMessage(`${book} ${chapter}:${verse} already open.`)\n            } else {\n                getBook(refBook, refChapter, refVerse, refHighlight, kind, store).then().catch()\n            }\n        } catch (e) {\n            store.setMessage(translateMessage(e))\n        }\n    }\n\n    const openBook = (paneNumber, refBook, refChapter, refVerse, refHighlight) => {\n        try {\n            getBook(refBook, refChapter, refVerse, refHighlight, '', store).then().catch()\n        } catch (e) {\n            store.setMessage(translateMessage(e))\n        }\n    }\n\n    const RenderRightPane = ({isOpen, paneNumber, openBook}) => {\n        return (\n            <Grid item xs={true} className={(isOpen ? classes.rightPane : classes.hiddenRightPane)}>\n                <RightPane\n                    paneNumber={paneNumber}\n                    refClick={refClick}\n                    openBook={openBook}\n                />\n            </Grid>\n        )\n    }\n\n\n    const bookRender = () => {\n\n        const panes = store.getPanes()\n        let jsx = []\n\n        for (let i = 0; i < panes.length; i++) {\n            if (panes[i].type.toLowerCase() === 'bible') {\n                jsx.push((\n                    <React.Fragment key={makeRandomKey()}>\n                        <Grid item xs={true} className={classes.item}>\n                            <RenderText paneNumber={i} onClosePane={onClosePane}/>\n                        </Grid>\n                        <RenderRightPane isOpen={store.getIsRightPaneOpen(i)} paneNumber={i} openBook={openBook}/>\n                    </React.Fragment>\n                ))\n\n            } else {\n                jsx.push((\n                    <Grid item xs={true} className={classes.item} key={makeRandomKey()}>\n                        <KaraitesBooks\n                            paneNumber={i}\n                            refClick={refClick}\n                            paragraphs={store.getParagraphs(i)}\n                            details={store.getBookDetails(i)}\n                            type={type}\n                            onClosePane={onClosePane}\n                        />\n                    </Grid>\n                ))\n            }\n        }\n        return jsx\n    }\n    getBook(book, chapter, verse, [], type, store).then().catch()\n\n    const books = bookRender()\n    if (books.length === 0) {\n        return null\n    }\n    return (\n        <Grid container\n              className={`${classes.root} ${book}`}\n              direction=\"row\"\n              justifycontent=\"center\"\n        >\n            {books.map(jsx => jsx)}\n        </Grid>\n    )\n\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n        top: 66,\n        height: 'calc(95vh - 66px)',\n        position: 'sticky',\n        fontSize: '21px !important',\n        [theme.breakpoints.down('xs')]: {\n            top: 59,\n            height: 'calc(95vh - 59px)',\n        },\n    },\n    item: {\n        height: '100%',\n        width: 'auto',\n    },\n    rightPane: {\n        maxWidth: '400px !important',\n        width: '100%',\n    },\n    hiddenRightPane: {\n        display: 'none'\n    },\n    items: {\n        width: '100%',\n        height: '100%',\n    }\n}));\n\nexport default observer(LoadBook)","import {slug} from \"./utils\";\n\nexport const cleanUrl = (url:string):string => {\n    let result = slug(url.trim().split(',')[0])\n    if (result.startsWith('-')) {\n        result = result.substring(1)\n    }\n    return result\n}\n","import React, {FC} from \"react\";\nimport QueueMusicIcon from '@material-ui/icons/QueueMusic'\nimport MusicNoteIcon from '@material-ui/icons/MusicNote'\nimport {MusicBadgeProps} from '../buttons/types';\n\n\nexport const MusicBadge: FC<MusicBadgeProps> = (props) => {\n    if (props.length === 0) {\n        return null\n    }\n\n    const {length = 0, fontSize = \"small\", color = \"secondary\"} = props;\n    return (length > 1 ?\n        <QueueMusicIcon fontSize={fontSize} color={color}/> :\n        <MusicNoteIcon fontSize={fontSize} color={color}/>)\n}\n\n\n","import React from 'react'\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {Link} from \"react-router-dom\";\nimport Filler from \"../general/Filler.tsx\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport Colors from \"../../constants/colors\";\nimport {capitalize} from \"../../utils/utils\";\nimport {ToText} from \"../general/ToText\";\nimport {cleanUrl} from \"../../utils/cleanUrl\";\nimport {MusicBadge} from \"../bages/musicBadge\";\n\n\nexport const RenderBooksMenu = ({books, path, languages = ['en', 'en'], columns = 6, header = true}) => {\n\n    const classes = useStyles()\n\n    const populate = (obj) => {\n        const keys = Object.keys(obj)\n        let separator = ''\n        let comp = []\n        keys.forEach(key => {\n            if (obj[key].book_classification !== separator) {\n                if (header) {\n                    separator = obj[key].book_classification;\n                } else {\n                    separator = ''\n                }\n                comp.push(<Grid item xs={12}>\n                    <hr className={classes.hr}/>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        {capitalize(separator)}\n                    </Typography>\n                </Grid>)\n            }\n            comp.push(<Link to={`/${capitalize(path)}/${cleanUrl(obj[key].book_title_en)}/1/`}>\n                <div className={classes.item}>\n                    <span className={classes.left}>\n                        <Typography className={classes.bookTitleHe}>{obj[key].book_title_he}</Typography>\n                    </span>\n                    <span className={classes.note}>\n                         <MusicBadge length={obj[key].songs_list.length}/>\n                    </span>\n                    <span className={classes.right}>\n                        <Typography className={classes.bookTitleEn}>\n                            {obj[key].book_title_en}\n                        </Typography>\n                    </span>\n                </div>\n            </Link>)\n\n        })\n        comp.push(<Grid item xs={12}>\n            <hr className={classes.hr}/>\n            <Typography variant=\"h6\" className={classes.title}>\n            </Typography>\n        </Grid>)\n        return comp\n    }\n\n\n    const MainMenu = () => {\n        return (<Grid item xs={12} sm={columns} key={1}>\n            <Grid item className={classes.title}>\n                <Typography className={classes.subtitle} variant=\"h6\" component=\"h2\">{capitalize(path)}</Typography>\n            </Grid>\n            <ToText/>\n            <Grid container spacing={2}>\n                {populate(books)}\n            </Grid>\n        </Grid>)\n    }\n\n    return (<div className={classes.container}>\n        <Grid container\n              direction=\"column\"\n              justifycontent=\"space-evenly\"\n              alignItems=\"center\">\n            <Filler xs={12}/>\n            <MainMenu/>\n            <Filler xs={12}/>\n        </Grid>\n    </div>)\n\n}\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        width: 'auto',\n        height: '100%',\n        fontSize: 18,\n        fontFamily: 'SBL Hebrew',\n    }, title: {\n        marginTop: 10,\n        marginBottom: 10,\n        marginLeft: 10,\n    }, bookTitle: {\n        marginLeft: 30,\n        fontSize: 18,\n    }, ruler: {\n        marginTop: 30,\n        borderColor: Colors.rulerColor,\n    }, hr: {\n        marginTop: 30,\n        marginBottom: 30,\n        marginLeft: 20,\n        marginRight: 20,\n    }, bodyText: {\n        fontSize: '14pt',\n    }, subtitle: {\n        marginBottom: 20,\n        color: 'gray',\n    }, bookTitleEn: {\n        textAlign: 'left',\n\n    }, bookTitleHe: {\n        textAlign: 'right',\n    },\n    left: {\n        width:'50%',\n        paddingLeft: 20,\n        margin: 5,\n         justifyItems: 'right',\n    },\n    right: {\n        width:'50%',\n        paddingRight: 20,\n        margin: 5,\n        justifyItems: 'left',\n    },\n    item:{\n      display: 'flex',\n    },\n    note:{\n      marginLeft:20,\n      marginRight:20,\n      minWidth:20,\n    }\n}));\n","import React, {useState} from 'react'\nimport {RenderBooksMenu} from '../menu/RenderBooksMenu';\nimport {bookDetails} from '../../types/commonTypes';\nimport {HALAKHAH, karaitesBookByLevelAndClassification} from '../../constants/constants';\n\nconst fetchBooks = async (): Promise<bookDetails> => {\n    const response = await fetch(`${karaitesBookByLevelAndClassification}${HALAKHAH}/`);\n    const data: bookDetails = await response.json();\n    return data;\n};\n\n\nexport const Halakhah = () => {\n    const [showBooks, setShowBooks] = useState<boolean>(false);\n    const [books, setBooks] = React.useState<bookDetails>();\n\n    React.useEffect(() => {\n        fetchBooks().then(data => {\n            setBooks(data)\n            setShowBooks(true);\n        });\n    }, []);\n\n    return (showBooks ? <RenderBooksMenu books={books} path='halakhah' languages={['en', 'he']} header={false}/> : null)\n};\n\nexport default Halakhah","import React, {useEffect, useState} from 'react'\nimport {RenderBooksMenu} from '../menu/RenderBooksMenu'\nimport {bookDetails} from '../../types/commonTypes';\nimport {karaitesBookByLevelAndClassification, LITURGY} from '../../constants/constants';\n\n\nconst fetchBooks = async ():Promise<bookDetails> => {\n    const response = await fetch(`${karaitesBookByLevelAndClassification}${LITURGY}/`);\n    const data:bookDetails = await response.json();\n    return data;\n};\n\n\nconst Liturgy = () => {\n    const [showBooks, setShowBooks] = useState<boolean>(false);\n    const [books, setBooks] = useState<bookDetails>();\n\n    useEffect(() => {\n        fetchBooks().then(data => {\n            setBooks(data);\n            setShowBooks(true);\n        });\n    }, []);\n\n    return (showBooks ? <RenderBooksMenu books={books} path='liturgy' languages={['en', 'he']}/> : null)\n\n}\n\n\nexport default Liturgy","import React, {useState} from 'react'\nimport {RenderBooksMenu} from '../menu/RenderBooksMenu';\nimport {bookDetails} from '../../types/commonTypes';\nimport {POETRY, karaitesBookByLevelAndClassification} from '../../constants/constants';\n\n\n// todo: merge liturgy, halakhah and polemic in on component\n\nconst fetchBooks = async (): Promise<bookDetails> => {\n    const response = await fetch(`${karaitesBookByLevelAndClassification}${POETRY}/`);\n    const data: bookDetails = await response.json();\n    return data;\n};\n\nexport const Poetry = () => {\n    const [showBooks, setShowBooks] = useState<boolean>(false);\n    const [books, setBooks] = React.useState<bookDetails>();\n\n    React.useEffect(() => {\n        fetchBooks().then(data => {\n            setBooks(data)\n            setShowBooks(true);\n        });\n    }, []);\n\n    return (showBooks ? <RenderBooksMenu books={books} path='poetry' languages={['en', 'he']} header={false}/> : null)\n};\n\nexport default Poetry","import React, {useState} from 'react'\nimport {RenderBooksMenu} from '../menu/RenderBooksMenu';\nimport {bookDetails} from '../../types/commonTypes';\nimport {POLEMIC, karaitesBookByLevelAndClassification} from '../../constants/constants';\n\n\n// todo: merge liturgy, halakhah and polemic in one component\n\nconst fetchBooks = async (): Promise<bookDetails> => {\n    const response = await fetch(`${karaitesBookByLevelAndClassification}${POLEMIC}/`);\n    const data: bookDetails = await response.json();\n    return data;\n};\n\n\nexport const Polemic = () => {\n    const [showBooks, setShowBooks] = useState<boolean>(false);\n    const [books, setBooks] = React.useState<bookDetails>();\n\n    React.useEffect(() => {\n        fetchBooks().then(data => {\n            setBooks(data)\n            setShowBooks(true);\n        });\n    }, []);\n\n    return (showBooks ? <RenderBooksMenu books={books} path='polemic' languages={['en', 'he']} header={false}/> : null)\n};\n\nexport default Polemic","import React, {useState,useEffect} from 'react'\nimport {RenderBooksMenu} from '../menu/RenderBooksMenu';\nimport {bookDetails} from '../../types/commonTypes';\nimport {COMMENTS, karaitesBookByLevelAndClassification} from '../../constants/constants';\n\n\n// todo: merge liturgy, halakhah and polemic in on component\n\nconst fetchBooks = async (): Promise<bookDetails> => {\n    const response = await fetch(`${karaitesBookByLevelAndClassification}${COMMENTS}/`);\n    const data: bookDetails = await response.json();\n    return data;\n};\n\n\nexport const Comment = () => {\n    const [showBooks, setShowBooks] = useState<boolean>(false);\n    const [books, setBooks] = React.useState<bookDetails>();\n\n    useEffect(() => {\n        fetchBooks().then(data => {\n            setBooks(data)\n            setShowBooks(true);\n        });\n    }, []);\n\n    return (showBooks ? <RenderBooksMenu books={books} path='Comments' languages={['en', 'he']} header={false}/> : null)\n};\n\nexport default Comment","import React, {useState} from 'react'\nimport {RenderBooksMenu} from '../menu/RenderBooksMenu';\nimport {bookDetails} from '../../types/commonTypes';\nimport {EXHORTATORY, karaitesBookByLevelAndClassification} from '../../constants/constants';\n\n\n// todo: merge liturgy, halakhah and polemic, Exhortatory in one component\n\nconst fetchBooks = async (): Promise<bookDetails> => {\n    const response = await fetch(`${karaitesBookByLevelAndClassification}${EXHORTATORY}/`);\n    const data: bookDetails = await response.json();\n    return data;\n};\n\n\nexport const Exhortatory = () => {\n    const [showBooks, setShowBooks] = useState<boolean>(false);\n    const [books, setBooks] = React.useState<bookDetails>();\n\n    React.useEffect(() => {\n        fetchBooks().then(data => {\n            setBooks(data)\n            setShowBooks(true);\n        });\n    }, []);\n\n    return (showBooks ? <RenderBooksMenu books={books} path='exhortatory' languages={['en', 'he']} header={false}/> : null)\n};\n\nexport default Exhortatory","import React, {useContext} from 'react'\nimport {makeStyles} from '@material-ui/core/styles'\nimport {storeContext} from \"../../stores/context\";\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\nimport {q640} from \"../../constants/constants\"\nimport Colors from \"../../constants/colors\";\n\n\nconst Display = () => {\n    const classes = useStyles()\n    const store = useContext(storeContext)\n    const matches = useMediaQuery(q640)\n    store.resetPanes()\n\n    return (\n        <div className={(matches ? classes.noSpace : classes.fill)}>\n            <div className={classes.container}>\n                <div className={classes.center}>\n                    <div>\n                        <h1 className={classes.title}>The Karaite Jewish Learning Center</h1>\n                        <h1 className={classes.title}>(A Project of the Karaite Jews of America)</h1>\n                        <hr className={classes.ruler}/>\n                    </div>\n                    <p className={classes.text}>\n\n                        The Karaite Jews of America welcomes you to our new platform: The Karaite Jewish Learning\n                        Center.\n                        Our goal is to bring all Karaite literature online. Equally as important, however, we want to\n                        help\n                        you interact with these texts and integrate them into your learning.\n\n                        <p className={classes.text}>In time, we plan to launch courses through the KJLC. These courses will include a wide range\n                            of\n                            topics under the broad umbrella of Karaitica.</p>\n\n                        <p className={classes.questions}><b>Interested in Jewish poetry?</b> We have numerous poems with\n                            translation and transliteration.\n                        </p>\n\n                        <p className={classes.questions}><b>Love comparing Karaite Views across the centuries?</b> We\n                            already have many Hebrew texts\n                            online and we\n                            plan to roll out more English translations soon.</p>\n\n                        <p className={classes.questions}><b>Can’t wait to improve your own Hebrew?</b> Many of our\n                            Hebrew\n                            texts have full vocalization and are\n                            displayed side by side next to an English translation.</p>\n\n                        <p className={classes.questions}><b> Want to become a hazzan or hazzanit?</b> We are here to\n                            help\n                            unlock your voice and soul.</p>\n\n                        <p className={classes.textJoin}>Updates about the KJLC are distributed through the Karaite Jews\n                            of America’s weekly\n                            emails.</p>\n                        <p className={classes.join}>\n                            <b><a href=\"https://karaites.us11.list-manage.com/subscribe?u=0de7fd38ac5f9d2e4fe132fcc&id=f8db630877\">Please\n                                join our list </a></b>\n                        </p>\n                    </p>\n                    <hr/>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        display: \"flex\",\n        width: '70%',\n        height: '100%',\n        margin: 'auto',\n        marginTop: 100,\n    },\n    center: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        paddingBottom:100\n\n    },\n    boxTitle: {\n        marginBottom: 20,\n    },\n    title: {\n        margin: 0,\n        color: Colors.tanakh,\n        textAlign: 'center',\n    },\n     ruler: {\n        color: Colors.rulerColor,\n        width: '100%',\n    },\n    text: {\n        fontSize: 21,\n        textAlign: 'justify',\n        margin:0,\n    },\n    questions: {\n        textAlign: 'justify',\n        fontSize: 21,\n    },\n    join: {\n        textAlign: 'center',\n        marginLeft: '10%',\n        marginRight: '10%',\n        fontSize: 21,\n        margin: 'auto'\n    },\n    textJoin: {\n        textAlign: 'center',\n        fontSize: 21,\n        padding: 15,\n    },\n    noSpace: {\n        paddingTop: 0,\n    },\n    fill: {\n        paddingTop: 100,\n    }\n}));\n\n\nexport default Display","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport {range} from '../../utils/utils'\nimport {makeStyles} from '@material-ui/core/styles'\nimport Colors from '../../constants/colors'\nimport {Link} from 'react-router-dom'\nimport {Typography} from '@material-ui/core'\nimport {unslug} from '../../utils/utils'\n\n\nconst ChapterMenu = ({bibleBook, numberOfChapters, level}) => {\n    const chapters = range(numberOfChapters)\n    const classes = container()\n\n    const createMenu = () => {\n        return chapters.map(chapter =>\n            <Grid item xs={1} className={classes.item} key={chapter}>\n                <Link className={classes.link} to={`/${level}/${bibleBook}/${chapter}/`}>\n                    {chapter}\n                </Link>\n            </Grid>\n        )\n    }\n\n    return (\n        <div className={classes.container}>\n            <Typography variant=\"h4\" component=\"h1\" className={classes.title}>{unslug(bibleBook)}</Typography>\n            <Typography variant=\"h6\" component=\"h1\" className={classes.subtitle}>\n                <Link to={`/${level}/`}>{level}</Link>\n            </Typography>\n            <hr/>\n            <Typography variant=\"h5\" component=\"h1\" className={classes.chapters}>Chapters</Typography>\n            <Grid container\n                  spacing={1}\n                  justifycontent=\"center\"\n                  alignItems=\"center\"\n            >\n                {createMenu()}\n            </Grid>\n        </div>\n    )\n}\n\n\nconst container = makeStyles((theme) => ({\n    container: {\n        width: '50%',\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        height: 'auto',\n        marginTop: 50,\n    },\n    item: {\n        width: 50,\n        height: 50,\n        backgroundColor: Colors.chapterMenu,\n        margin: 2,\n    },\n    link: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    title: {\n        marginTop: 100,\n        marginBottom: 15,\n        color: 'gray',\n    },\n    ruler: {\n        borderColor: Colors.rulerColor,\n    },\n    filler: {\n        marginTop: 100,\n        marginBottom: 30,\n\n    },\n    subtitle: {\n        marginBottom: 25,\n        color: Colors.tanakh,\n    },\n    chapters: {\n        marginBottom: 15,\n    },\n}));\n\nexport default ChapterMenu","import React from \"react\";\nimport {Route, useLocation} from \"react-router-dom\";\nimport {chaptersByBibleBook} from \"../../constants/constants\";\nimport {makeRandomKey, unslug} from \"../../utils/utils\";\nimport ChapterMenu from \"../menu/ChapterMenu\";\n\n\nexport const TanakhBooksLink = () => {\n    // Tanakh books chapter menu\n    let location = useLocation()\n    let parts = location.pathname.split('/')\n    if (parts.length === 4 && parts[1] === 'Tanakh') {\n        return Object.keys(chaptersByBibleBook).map(book =>\n            <Route path={`/Tanakh/${book}/`} key={makeRandomKey()}>\n                <ChapterMenu bibleBook={book}\n                             numberOfChapters={chaptersByBibleBook[unslug(book)]}\n                             level=\"Tanakh\"/>\n            </Route>\n        )\n    }\n    return null\n}\n","import React, {useState, useEffect, useContext} from 'react'\nimport {karaitesBookToc} from '../../constants/constants'\nimport {Typography} from '@material-ui/core'\nimport {unslug} from '../../utils/utils'\nimport {Link} from 'react-router-dom'\nimport {storeContext} from \"../../stores/context\";\nimport Colors from \"../../constants/colors\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {fetchData} from \"../api/dataFetch\";\n\n\nconst HalakhahMenu = ({book}) => {\n    const store = useContext(storeContext)\n    const [toc, setToc] = useState([])\n    const classes = useStyles()\n\n    const TableOfContents = () => {\n        return toc.map(index =>\n            <tr key={index}>\n                <td className={classes.left}>\n                    <Link to={`/Halakhah/${book}/${index[2]}/`}>\n                        <Typography className={classes.he}>{index[1]}</Typography>\n                    </Link>\n                </td>\n\n                <td className={classes.right}>\n                    <Link to={`/Halakhah/${book}/${index[2]}/`}>\n                        <Typography className={classes.he}>{index[0]}</Typography>\n                    </Link>\n                </td>\n            </tr>\n        )\n    }\n    useEffect(() => {\n\n        fetchData(`${karaitesBookToc}${book}/`)\n            .then((data) => setToc((data)))\n            .catch((e) => store.setMessage(e.message))\n\n    }, [book, store])\n    window.scrollTo(0, 0)\n    return (\n\n        <div className={classes.container}>\n            <table>\n                <thead>\n                <tr>\n                    <th>\n                        <Typography className={classes.titleHalakhah} variant=\"h6\" component=\"h2\">{unslug(book)}</Typography>\n                    </th>\n                </tr>\n                <tr>\n                    <th className={classes.backlink}>\n                        <Link className={classes.link} to='/Halakhah/'>To book list</Link>\n                    </th>\n                </tr>\n                <tr>\n                    <th colSpan=\"2\" className={classes.ruler}>\n                        <hr/>\n                    </th>\n                </tr>\n                </thead>\n                <tbody>\n                <TableOfContents/>\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nconst useStyles = makeStyles({\n    container: {\n        display: \"flex\",\n        width: '100%',\n        height: '100%',\n        justifyContent: 'center',\n        marginTop: 80,\n    },\n\n    backlink: {\n        paddingBottom: 10,\n    },\n    title: {\n        marginBottom: 20,\n        color: 'gray',\n    },\n    titleHalakhah: {\n        display: 'flex',\n        marginBottom: 20,\n        color: 'gray',\n        justifyContent: 'start'\n    },\n    link: {\n        display: 'flex',\n        justifyContent: 'start'\n    },\n    ruler: {\n        width: '100%',\n        marginBottom: 10,\n        borderColor: Colors.rulerColor,\n    },\n    he: {\n        direction: 'RTL',\n        fontFamily: 'SBL Hebrew',\n        fontSize: 18,\n        color: Colors.gray,\n    },\n    left: {\n        minWidth: 300,\n\n    },\n    right: {\n        minWidth: 100,\n    },\n    filler: {\n        marginTop: 70,\n    },\n})\n\n\nexport default HalakhahMenu","import React, {useContext} from \"react\";\nimport {useParams} from \"react-router-dom\";\nimport HalakhahMenu from \"./HalakhahMenu\";\nimport {storeContext} from \"../../stores/context\";\n\n\nexport const HalakhahBookLink = () => {\n        const store = useContext(storeContext)\n        store.resetPanes()\n        const { book } = useParams()\n        return (<HalakhahMenu book={book} />)\n    }\n","import React,{useContext} from \"react\"\nimport {storeContext} from \"../../stores/context\";\n\n\nexport const Please =({reason})=> {\n    const store = useContext(storeContext)\n    switch (reason) {\n        case \"search\":\n            store.setMessage('Please fill the search box')\n            break\n        default:\n            break\n    }\n    return (\n        <>\n        </>\n    )\n}","import React, {useContext, useEffect, useState} from \"react\"\nimport {observer} from 'mobx-react-lite'\nimport {Virtuoso} from \"react-virtuoso\"\nimport {makeStyles} from \"@material-ui/core/styles\"\nimport {searchResultsUrl, ITEMS_PER_PAGE} from \"../../constants/constants\"\nimport {Link} from \"react-router-dom\"\nimport ReactHtmlParser from \"react-html-parser\"\n//import {addTagToString} from \"../../utils/addTagToString\"\nimport {Typography} from \"@material-ui/core\"\nimport {parseEnglishRef} from \"../../utils/parseBiblicalReference\"\nimport {storeContext} from \"../../stores/context\"\nimport {Please} from \"../messages/Please\"\nimport {slug} from \"../../utils/utils\"\nimport {fetchData} from \"../api/dataFetch\";\n\n\nconst SearchResults = () => {\n    const store = useContext(storeContext)\n    const classes = useStyles()\n    const [search] = useState(store.getSearch())\n    const [didYouMean, setDidYouMean] = useState(false)\n    const [searchTerm, setSearchTerm] = useState(store.getSearch())\n    const [page, setPage] = useState(1)\n\n    const itemContent = (item, data) => {\n        if (data['path'] === 'Tanakh') {\n            const {refBook, refChapter, refVerse} = parseEnglishRef(data['ref'])\n            store.resetPanes()\n            return (\n                <div className={classes.card}>\n                    <Link to={`/Tanakh/${refBook}/${refChapter}/${refVerse}/`}>\n                        <Typography variant=\"h6\" component=\"h2\">{data['ref']}</Typography>\n                    </Link>\n                    {ReactHtmlParser(data['text'])}\n                    <hr/>\n                </div>)\n        }\n        const [refBook, paragraph] = data['ref'].trim().split('#')\n        const url = slug(refBook)\n        store.resetPanes()\n\n        return (\n            <div className={classes.card}>\n                <Link to={`/${data['path']}/${url}/${paragraph}/`}>\n                    <Typography variant=\"h6\" component=\"h2\">{refBook}</Typography>\n                </Link>\n                {ReactHtmlParser(`<p>${data['text']}</p>`)}\n                <hr/>\n            </div>)\n    }\n\n    const nextPage = () => {\n        if (store.getMoreResults()) {\n            setPage(() => page + 1)\n        }\n    }\n\n    useEffect(() => {\n\n        if (search === '') return {'data': [], 'page': 1}\n\n        store.setLoading(true)\n        fetchData(searchResultsUrl + `${search}/${page}/`)\n            .then((data) => {\n                // if search result length is an exact multiple of ITEMS_PER_PAGE\n                // an extra call is done to figure out that next page\n                // is empty, In all other cases there is no need to do an extra call.\n                // todo: review this code\n                debugger\n                console.log(data['data'])\n                if (data['data'].length < ITEMS_PER_PAGE) {\n                    console.log('less than ITEMS_PER_PAGE')\n                    store.setMoreResults(false)\n                }\n                store.setSearchResultData(data['data'])\n                setPage(() => parseInt(data['page']))\n                // this means that search term was not found and a similarity search was done\n                setDidYouMean(data['did_you_mean'])\n                setSearchTerm(() => data['search_term'])\n                store.setLoading(false)\n            })\n            .catch(e => {\n                store.setMessage(e.message)\n                store.setLoading(false)\n            })\n\n\n    }, [search, page, store])\n\n    if (store.getSearch() === '') return <Please reason=\"search\"/>\n    console.log(store.getSearchResultData().length)\n    return (\n        <div className={classes.container}>\n            <Typography className={classes.header} variant=\"h5\">\n                {didYouMean ? `Did you mean \"${searchTerm}\" ?` : `Search results for \"${store.getSearch()}\"`}\n            </Typography>\n            <Virtuoso\n                data={store.getSearchResultData()}\n                endReached={nextPage}\n                itemContent={itemContent}\n                components={{\n                          Footer: () => {\n                              console.log('footer')\n                              return (\n                                  <div style={{padding: '1rem', textAlign: 'center'}}>\n                                     End of search results for \"{store.getSearch()}\"\n                                  </div>\n                              )\n                          }\n                      }}\n            />\n        </div>\n    )\n}\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        position:'sticky',\n        top:100,\n        width: '100%',\n        height: 'calc(80% - 110px)',\n        fontSize: 21,\n    },\n    card: {\n        maxWidth: '60%',\n        [theme.breakpoints.down('md')]: {\n            maxWidth: '85%',\n        },\n        marginLeft: 'auto',\n        marginRight: 'auto',\n    },\n    header: {\n        maxWidth: '60%',\n        [theme.breakpoints.down('md')]: {\n            maxWidth: '85%',\n        },\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        marginBottom: 50,\n    },\n}))\n\nexport default observer(SearchResults)\n","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {q640} from \"../../constants/constants\";\n\n\nexport const NotFound404 = () => {\n    const classes = useStyles()\n    const matches = useMediaQuery(q640)\n    return (\n        <div className={classes.container}>\n            <div className={classes.center}>\n                <p className={(matches ? classes.fontLarge : classes.fontSmall)}>Error 404 page not found!</p>\n            </div>\n        </div>\n    )\n}\n\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        display: \"flex\",\n        width: '100%',\n        height: '100%',\n        justifyContent: 'center',\n    },\n    center: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    fontSmall: {\n        fontSize: 25,\n    },\n    fontLarge: {\n        fontSize: 40,\n    },\n}));\n\n","import React, {useContext} from 'react';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport {makeStyles} from '@material-ui/core/styles';\nimport {observer} from 'mobx-react-lite';\nimport {storeContext} from \"../../stores/context\";\nimport {CloseButton} from \"../buttons/CloseButton\";\n\n\nconst Message = ({hide = 4000}) => {\n    const store = useContext(storeContext)\n    const classes = useStyles();\n\n    const handleClose = () => {\n        store.setMessage('')\n    };\n\n    return (\n        <div className={classes.root}>\n            <Snackbar\n                open={store.getMessage() !== ''}\n                autoHideDuration={hide}\n                onClose={handleClose}\n                anchorOrigin={{vertical: 'top', horizontal: 'right'}}\n                message={<span id=\"message-id\">{store.getMessage()}</span>}\n                action={<CloseButton onClick={handleClose} color=\"inherit\"/>}>\n            </Snackbar>\n        </div>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > * + *': {\n            marginTop: theme.spacing(20),\n        },\n    },\n    close: {\n        padding: theme.spacing(0.5),\n    },\n\n}));\n\nexport default observer(Message)","import React, {useContext} from 'react'\nimport {makeStyles} from '@material-ui/core/styles'\nimport {storeContext} from \"../../stores/context\";\nimport Colors from \"../../constants/colors\";\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\nimport {q640} from \"../../constants/constants\"\n\n\nconst Acknowledgment = () => {\n    const classes = useStyles()\n    const store = useContext(storeContext)\n    const matches = useMediaQuery(q640)\n    store.resetPanes()\n\n    return (\n        <div className={(matches ? classes.noSpace : classes.fill)}>\n            <div className={classes.container}>\n                <div className={classes.center}>\n                    <div>\n                        <h1 className={classes.title}>Thank You a Million Times</h1>\n                        <hr className={classes.ruler}/>\n                    </div>\n                    <p className={classes.text}>The Karaite Jewish Learning Center (and the Karaite Jews of America)\n                        extend\n                        our deepest gratitude to\n                        the many people whose financial and temporal support made this endeavor possible. First and\n                        foremost, we thank the following people for typing, transliterating, and translating the\n                        numerous\n                        texts that appear at the KJLC: Michael Bernstein, Shoshana (Firrouz) Cohen, Eliyahu Friedman,\n                        Noam\n                        Harris, Yinon Kahan, Gabriel Wasserman, Barnaby Yeh, and Tzemah Yoreh. We would also like to\n                        thank\n                        the following for their financial support in the early days of developing this platform: Matt\n                        Ronin\n                        and Amanda Bressler; the Bequest of Zaki Lichaa; James and Leah Walker; and Micah Levinson\n                        (whose\n                        donation was made in memory of his father). We also are thankful to the various translators\n                        whose\n                        works jumpstarted The Karaite Press. Those works form the initial English translations of books\n                        that\n                        will be available on this site. You can read more about those translators in the introductions\n                        of\n                        those respective books.</p>\n                    <p>We also thank Shawn Lichaa for coordinating this project.</p>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        display: \"flex\",\n        width: '70%',\n        height: '100%',\n        margin: 'auto',\n    },\n    center: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        fontSize: 21,\n        paddingBottom:100,\n    },\n    title: {\n        color: Colors.tanakh,\n        margin: 0,\n    },\n    ruler: {\n        color: Colors.rulerColor,\n        width: '100%'\n    },\n    text: {\n        textAlign: 'justify',\n    },\n    noSpace: {\n        paddingTop:150,\n    },\n    fill: {\n        paddingTop: 100,\n    }\n}));\n\n\nexport default Acknowledgment","import React, {useContext} from 'react';\nimport ReactLoading from 'react-loading';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Colors from '../../constants/colors'\nimport {storeContext} from '../../stores/context'\nimport {observer} from 'mobx-react-lite';\n\nconst LoadingSpin = ({color, type}: { color: any, type: any }) => {\n    const store = useContext(storeContext)\n    const classes = useStyles()\n    if (store.getLoading()) {\n        return (\n            <div className={classes.container}>\n                <ReactLoading type={type} color={color} height={30} width={30}/>\n            </div>\n        )\n    }\n    return null\n}\n\nLoadingSpin.defaultProps = {\n    color: Colors.loading,\n    type: 'spin'\n}\n\nconst useStyles = makeStyles(() => ({\n    container: {\n        display: \"flex\",\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'center',\n        width: '100%',\n        height: '100%',\n        margin: 'auto',\n    },\n\n}))\n\nexport default observer(LoadingSpin)","import React from \"react\";\nimport {BrowserRouter, Route, Switch} from \"react-router-dom\";\nimport MyAppBar from \"./components/menu/AppBar\";\nimport FirstLevel from \"./components/menu/FirstLevel\"\nimport Tanakh from \"./components/tanakh/Tanakh\"\nimport LoadBook from \"./components/LoadBook\";\nimport {createTheme} from '@material-ui/core/styles'\nimport {ThemeProvider} from '@material-ui/core/styles'\nimport Halakhah from './components/halakhah/Halakhah'\nimport Liturgy from \"./components/liturgy/Liturgy\"\nimport Poetry from \"./components/poetry/poetry\"\nimport Polemic from \"./components/polemic/Polemic\"\nimport Comment from \"./components/comments/comment\"\nimport Exhortatory from \"./components/Exhortatory/Exhortatory\";\nimport Display from \"./components/pages/Display\";\nimport {TanakhBooksLink} from \"./components/tanakh/TanakBooksLink\";\nimport {HalakhahBookLink} from \"./components/halakhah/HalakhahBookList\";\nimport SearchResults from \"./components/pages/SearchResults\";\nimport StoreProvider from \"./stores/context\";\nimport SpeechProvider from \"./stores/ttspeechContext\";\nimport {NotFound404} from \"./components/pages/NotFound404\";\nimport Message from './components/messages/Message';\nimport Acknowledgment from \"./components/pages/Acknowledgments\";\nimport LoadingSpin from \"./components/general/LoadingSpin\";\n\n\nfunction App() {\n    return (\n        <StoreProvider>\n            <SpeechProvider>\n                <ThemeProvider theme={theme}>\n                    <BrowserRouter>\n                        <MyAppBar/>\n                        <Message/>\n                        <LoadingSpin/>\n                        <Switch>\n                            <Route exact path=\"/\">\n                                <Display/>\n                            </Route>\n\n                            <Route exact path=\"/texts/\">\n                                <FirstLevel/>\n                            </Route>\n\n                            <Route exact path=\"/acknowledgments/\">\n                                <Acknowledgment/>\n                            </Route>\n                            <Route exact path=\"/search-result/\" forceRefresh={true}>\n                                <SearchResults/>\n                            </Route>\n\n                            <Route exact path=\"/Tanakh/:book/:chapter/:verse/\" children={<LoadBook type={'bible'}/>}/>\n                            <Route exact path=\"/Tanakh/:book/:chapter/\" children={<LoadBook type={'bible'}/>}/>\n                            <Route exact path=\"/Tanakh/:book/\" children={<TanakhBooksLink/>}/>\n                            <Route exact path=\"/Tanakh/\"><Tanakh/></Route>\n\n                            <Route exact path=\"/Halakhah/:book/:chapter/\" children={<LoadBook type=\"karaites\"/>}/>\n                            <Route exact path=\"/Halakhah/:book/\" children={<HalakhahBookLink/>}/>\n                            <Route exact path=\"/Halakhah/\"><Halakhah/></Route>\n\n                            <Route exact path=\"/Liturgy/:book/1/\" children={<LoadBook type=\"liturgy\"/>}/>\n                            <Route exact path=\"/Liturgy/\"><Liturgy/></Route>\n\n                            <Route exact path=\"/Poetry/:book/1/\" children={<LoadBook type=\"poetry\"/>}/>\n                            <Route exact path=\"/Poetry/\"><Poetry/></Route>\n\n                            <Route exact path=\"/Polemic/:book/1/\" children={<LoadBook type=\"polemic\"/>}/>\n                            <Route exact path=\"/Polemic/\"><Polemic/></Route>\n\n                            <Route exact path=\"/Exhortatory/:book/1/\" children={<LoadBook type=\"Exhortatory\"/>}/>\n                            <Route exact path=\"/Exhortatory/\"><Exhortatory/></Route>\n\n                            <Route exact path=\"/Comments/:book/:chapter/\" children={<LoadBook type=\"comments\"/>}/>\n                            <Route exact path=\"/Comments/1/\" children={<LoadBook type=\"comments\"/>}/>\n                            <Route exact path=\"/Comments/\"><Comment/></Route>\n\n                            {/* sometimes not found is rendered even if the url is valid */}\n                            <Route path='*'>\n                                <NotFound404/>\n                            </Route>\n                        </Switch>\n                    </BrowserRouter>\n                </ThemeProvider>\n            </SpeechProvider>\n        </StoreProvider>\n    );\n}\n\nexport default App;\n\nconst theme = createTheme({\n        palette: {\n            primary: {\n                main: '#ffffff',\n            },\n            secondary: {\n                main: '#11c4f1',\n            },\n\n        },\n    }\n);","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport {BrowserRouter} from 'react-router-dom'\n// import reportWebVitals from './reportWebVitals'\n//import \"react-simple-keyboard/build/css/index.css\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <App/>\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n//\n// // If you want to start measuring performance in your app, pass a function\n// // to log results (for example: reportWebVitals(console.log))\n// // or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}